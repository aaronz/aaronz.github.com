<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Web Fundamental</title>

    <meta name="description" content="Modern Web App Design Best Practices">
    <meta name="author" content="Aaron Zhang">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/serif.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
    if (window.location.search.match(/print-pdf/gi)) {
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'css/print/pdf.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    }
    </script>

    <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
</head>

<body>

    <div class="reveal">

        <!-- Any section element inside of this container is displayed as a slide -->
        <div class="slides">
            <section>
                <h1>Web Fundamental</h1>
                <h3>Modern Web App Design Best Practices</h3>
                <p>
                    <small><a href="http://browserwork.com/contact.html" target="_blank">Aaron Zhang</a> - <a href="http://www.browserwork.com" target="_blank">Browserwork.com</a>
                    </small></p><p>
                    <small>Created based on <a href="https://github.com/google/WebFundamentals">Web Fundamentals project</a></small>
                </p>
            </section>

            <section>
                <h1>Look and Feel</h1>
            </section>
            <section>
                <section>
                    <h2>CSS vs JavaScript Animations</h2>
                </section>
                <section>
                    <p>There are two primary ways to create animations on the web: with CSS and with JavaScript. Which one you choose really depends on the other dependencies of your project, and what kinds of effects you're trying to achieve.</p>

                    <ul>
                        <li>Use CSS animations for simpler “one-shot” transitions, like toggling UI element states.</li>
                        <li>Use JavaScript animations when you want to have advanced effects like bouncing, stop, pause, rewind or slow-down.</li>
                        <li>If you choose to animate with JavaScript, go with TweenMax or, if you want a lighter-weight solution, TweenLite.</li>
                    </ul>
                </section>

                <section>
                    <p>Most basic animations can be created with either CSS or JavaScript, but the amount of effort and time will differ (see also <a href="https://developers.google.com/web/fundamentals/look-and-feel/animations/animations-and-performance.html#css-vs-javascript-performance">CSS vs JavaScript Performance</a>). Each has their pros and cons, but these are good rules-of-thumb:</p>
                    <ul>
                        <li><strong>Use CSS when you have smaller, self-contained states for UI elements.</strong> CSS transitions and animations are ideal for bringing a navigation menu in from the side, or showing a tooltip. You may end up using JavaScript to control the states, but the animations themselves will be in your CSS.</li>
                        <li><strong>Use JavaScript when you need significant control over your animations.</strong> Something that dynamically tracks a touch position, or an animation that you need to stop, pause, slow-down or reverse typically require you to use JavaScript.</li>
                    </ul>
                </section>
                <section>
                    <p>If you’re already using jQuery or a JavaScript framework that includes animation functionality then you may find it more convenient overall to stick with that for your animations than switching to CSS.</p>
                    <p>There’s no doubt that animating with CSS is the simplest way to get something moving on screen.</p>
                    <p>Below is some CSS that will move an element 100px in both the X &amp; Y axes. It’s done by using a CSS transitions that’s set to take 500ms. When the <code>move</code> class is added the <code>transform</code> value is changed and the transition begins.</p><pre><code data-lang="css">.box {
  -webkit-transform: translate(0, 0);
  -webkit-transition: -webkit-transform 500ms;

  transform: translate(0, 0);
  transition: transform 500ms;
}

.box.move {
  -webkit-transform: translate(100px, 100px);
  transform: translate(100px, 100px);
}</code></pre>
                </section>
                <section>
                    <p><a href="http://googlesamples.github.io/web-fundamentals/samples/look-and-feel/animations/box-move-simple.html">See sample</a>
                    </p>
                </section>
                <section>
                    <p>Besides the transition’s duration there are options for the easing, which is essentially how the animation feels. You can get more on that in the <a href="https://developers.google.com/web/fundamentals/look-and-feel/animations/the-basics-of-easing.html">“The Basics of Easing”</a> guide.</p>
                    <p>If, as in the above snippet, you create separate CSS classes to manage your animations, you can then use JavaScript to toggle each animation on and off:</p><pre><code data-lang="javascript">box.classList.add('move');</code></pre>
                </section>
                <section>
                    <p>Doing this will provide a very nice balance to your apps. You can focus on managing state with JavaScript, and simply set the appropriate classes on the target elements, leaving the browser to handle the animations. If you go down this route you can listen to <code>transitionend</code> events on the element, but only if you’re able to forego support for older versions of Internet Explorer; version 10 was the first version to support these events. All other browsers have supported the event for some time.</p>
                    <p>The JavaScript required to listen for the end of a transition looks like this:</p><pre><code data-lang="javascript">var box = document.querySelector('.box');
box.addEventListener('transitionend', onTransitionEnd, false);

function onTransitionEnd() {
  // Handle the transition finishing.
}</code></pre>
                </section>
                <section>
                    <p>In addition to using CSS transitions, you can also use CSS animations, which will allow you to have much more control over individual animation keyframes, durations and iterations.</p>
                </section>
                <section>
                    <p>Note</p>
                    <ul>
                        <li>If you’re new to animations, keyframes are an old term from hand-drawn animations. Animators would create specific frames for a piece of action, called key frames, which would capture things like the most extreme part of some motion, and then they would set about drawing all the individual frames in between the keyframes. We have a similar process today with CSS animations, where we instruct the browser what values CSS properties need to have at given points, and it fills in the gaps.</li>
                    </ul>
                </section>
                <section>
                    <p>You can, for example, animate the box in the same way with transitions, but have it animate without any user interactions like clicking, and with infinite repetitions. You can also change multiple properties at the same time:</p><pre><code data-lang="css">/**
 * This is a simplified version without
 * vendor prefixes. With them included
 * (which you will need) things get far
 * more verbose!
 */
.box {
  /* Choose the animation */
  animation-name: movingBox;

  /* The animation’s duration */
  animation-duration: 1300ms;

  /* The number of times we want
      the animation to run */
  animation-iteration-count: infinite;

  /* Causes the animation to reverse
      on every odd iteration */
  animation-direction: alternate;
}

@keyframes movingBox {
  0% {
    transform: translate(0, 0);
    opacity: 0.3;
  }

  25% {
    opacity: 0.9;
  }

  50% {
    transform: translate(100px, 100px);
    opacity: 0.2;
  }

  100% {
    transform: translate(30px, 30px);
    opacity: 0.8;
  }
}</code></pre>
                </section>
                <section>
                    <p><a href="http://googlesamples.github.io/web-fundamentals/samples/look-and-feel/animations/box-move-keyframes.html">See sample</a>
                    </p>
                </section>
                <section>
                    <p>With CSS animations you define the animation itself independently of the target element, and use the animation-name property to choose the required animation.</p>
                    <p>CSS Animations are still mostly vendor prefixed, with <code>-webkit-</code> being used in Chrome, Safari, Opera, Safari Mobile, and Android Browser. Internet Explorer and Firefox both ship without prefixes. Many tools will aid you in creating the prefixed versions of the CSS you need, allowing you to write the unprefixed version in your source files.</p>
                    <p>Creating animations with JavaScript is, by comparison, more complex than writing CSS transitions or animations, but it does typically provide significantly more power to you as the developer. The general approach is to use <code>requestAnimationFrame</code> and, on each frame of the animation, manually determine the value of each property of the element that is animating.</p>
                </section>
                <section>
                    <p>Note</p>
                    <ul>
                        <li>You may see code around the web that uses setInterval or setTimeout for animations. This is a terrible idea, as the animation will not be synchronized to the refresh rate of the screen, and it’s highly likely to judder and skip. You should always avoid such code, and use requestAnimationFrame, which is synchronized properly, instead.</li>
                    </ul>
                </section>
                <section>
                    <p>Below is the JavaScript that you would need to write to recreate the CSS transition we discussed earlier.</p><pre><code data-lang="javascript">function Box () {

  var animationStartTime = 0;
  var animationDuration = 500;
  var target = document.querySelector('.box');

  this.startAnimation = function() {
    animationStartTime = Date.now();
    requestAnimationFrame(update);
  };

  function update() {
    var currentTime = Date.now();
    var positionInAnimation = (currentTime - animationStartTime) / animationDuration;

    var xPosition = positionInAnimation * 100;
    var yPosition = positionInAnimation * 100;

    target.style.transform = 'translate(' + xPosition + 'px, ' + yPosition + 'px)';

    if (positionInAnimation &lt;= 1)
      requestAnimationFrame(update);
  }
}

var box = new Box();
box.startAnimation();</code></pre>
                </section>
                <section>
                    <p><a href="http://googlesamples.github.io/web-fundamentals/samples/look-and-feel/animations/box-move-js.html">See sample</a>
                    </p>
                </section>
                <section>
                    <p>This code starts to become very complex and difficult to manage as you try to expand it to cover more cases, so generally speaking you will benefit from choosing one of the many JavaScript libraries available for animation. If you are using jQuery in your project already, you will likely benefit from sticking with it and using the <a href="http://api.jquery.com/animate/"><code>.animate()</code></a> functions. If, on the other hand, you’re in need of a dedicated library then look at <a href="https://github.com/greensock/GreenSock-JS/tree/master/src/minified">Greensock’s TweenMax</a>, which is very powerful. There is a lightweight form of it, called TweenLite, which is friendlier from a file size point of view.</p>
                    <p>Since with JavaScript animations you are in total control of the elements styles at every step you can slow down the animation, pause it, stop it, reverse it and manipulate it as you see fit.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>The Basics of Easing</h2>
                </section>
                <section>
                    <p>Nothing in nature moves linearly from one point to another. In reality things tend to accelerate or decelerate as they move. Our brains are wired to expect this kind of motion, so when animating you should use this to your advantage. Natural motion will make your users feel more comfortable with your apps, which in turn leads to a better overall experience.</p>

                    <ul>
                        <li>Easing makes your animations feel more natural.</li>
                        <li>Choose ease-out animations for UI elements.</li>
                        <li>Avoid ease-in or ease-in-out animations unless you can keep them short; they tend to feel sluggish to end users.</li>
                    </ul>
                </section>
                <section>
                    <p>In classic animation the terms for motion that starts slowly and accelerates is “slow in”, and those that start quickly and decelerate are referred to as “slow out”, but the terminology most commonly used on the web for these are “ease in” and “ease out” respectively. Sometimes the two are combined, which is called “ease in out”. Easing, then, is really the process of making the animation less severe or pronounced.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="easing-keywords">Easing Keywords</h2>
                    <p>CSS transitions and animations both let you <a href="https://developers.google.com/web/fundamentals/look-and-feel/animations/choosing-the-right-easing.html">choose the kind of easing you want to use for your animations</a>. You can use keywords that affect the easing (or timing as it’s sometimes called) of the animation in question. You can also <a href="https://developers.google.com/web/fundamentals/look-and-feel/animations/custom-easing.html">go completely custom with your easing</a>, which gives you way more freedom to express your app’s personality.</p>
                </section>
                <section>
                    <p>Here are some of the keywords that you can use in CSS:</p>
                    <ul>
                        <li><code>linear</code>
                        </li>
                        <li><code>ease-in</code>
                        </li>
                        <li><code>ease-out</code>
                        </li>
                        <li><code>ease-in-out</code>
                        </li>
                    </ul>
                </section>
                <section>
                    <p>Source: <a href="http://www.w3.org/TR/css3-transitions/#transition-timing-function-property">CSS Transitions, W3C</a>
                    </p>
                    <p>You can also you use a <code>steps</code> keyword, which allows you to create transitions that have discrete steps, but those listed above are the most useful for creating animations that feel natural, and that’s exactly what you’ll want.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="linear-animations">Linear animations</h2>
                    <p>Animations without any kind of easing are referred to as <strong>linear</strong>. A graph of a linear transition looks like this:</p>
                    <p><img alt="Linear ease animation curve." src="https://developers.google.com/web/fundamentals/look-and-feel/animations/imgs/linear.png" style="max-width: 300px" />
                    </p>
                </section>
                <section>
                    <p><a href="http://googlesamples.github.io/web-fundamentals/samples/look-and-feel/animations/box-move-linear.html">See a linear animation.</a>
                    </p>
                    <p>As time moves along the value increases in equal amounts. With linear motion things tend to feel robotic and unnatural, and this is something users will find jarring. Generally speaking you should avoid linear motion.</p>
                    <p>Whether you’re coding your animations by CSS or JavaScript you’ll find that there is always an option for linear motion. To achieve the effect above with CSS, the code would look something like this:</p><pre><code data-lang="css">transition: transform 500ms linear;</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="ease-out-animations">Ease-out Animations</h2>
                    <p>Easing out causes the animation to start more quickly than linear ones, and it also has deceleration at the end.</p>
                    <p><img alt="Ease-out animation curve." src="https://developers.google.com/web/fundamentals/look-and-feel/animations/imgs/ease-out.png" style="max-width: 300px" />
                    </p>
                </section>
                <section>
                    <p>There are many ways to achieve an ease out effect, but the simplest is the <code>ease-out</code> keyword in CSS:</p><pre><code data-lang="css">transition: transform 500ms ease-out;</code></pre>
                </section>
                <section>
                    <p><a href="http://googlesamples.github.io/web-fundamentals/samples/look-and-feel/animations/box-move-ease-out.html">See an ease-out animation.</a>
                    </p>
                    <p>Easing out is typically the best for user interface work, because the fast start gives your animations a feeling of responsiveness, while still allowing for a little bit of natural slowdown at the end.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="ease-in-animations">Ease-in Animations</h2>
                    <p>Ease-in animations start slowly and end fast; the opposite of ease-out.</p>
                    <p><img alt="Ease-in animation curve." src="https://developers.google.com/web/fundamentals/look-and-feel/animations/imgs/ease-in.png" style="max-width: 300px" />
                    </p>
                </section>
                <section>
                    <p><a href="http://googlesamples.github.io/web-fundamentals/samples/look-and-feel/animations/box-move-ease-in.html">See an ease-in animation.</a>
                    </p>
                    <p>This kind of animation is like a heavy stone falling, where it starts slowly and hits the ground quickly with a deadening thump.</p>
                    <p>To use an ease-in animation, similarly to ease-out and linear animations, you can use its keyword:</p><pre><code data-lang="css">transition: transform 500ms ease-in;</code></pre>
                </section>
                <section>
                    <p>From an interaction point of view, however, ease-ins can feel a little unusual because of their abrupt end; things that move in the real world tend to decelerate rather than simply stopping dead. Ease-ins also have the detrimental effect of feeling sluggish to get going, which will negatively impact the perception of responsiveness in your site or app.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="ease-in-out-animations">Ease-in-out Animations</h2>
                    <p>Easing both in and out is akin to a car accelerating and decelerating and, used judiciously, can provide a more dramatic effect than just easing out.</p>
                    <p><img alt="Ease-in-out animation curve." src="https://developers.google.com/web/fundamentals/look-and-feel/animations/imgs/ease-in-out.png" style="max-width: 300px" />
                    </p>
                </section>
                <section>
                    <p><a href="http://googlesamples.github.io/web-fundamentals/samples/look-and-feel/animations/box-move-ease-in-out.html">See an ease-in-out animation.</a>
                    </p>
                    <p>Care must be taken here to not have an overly long animation duration, because of the sluggishness of an ease-in start to the animation. Typically something in the region of 300 - 500ms is going to be suitable, but it will depend heavily on the feel of your project as to what the exact number is. That said, because of the slow start, fast middle, and slow end, you will end up with an increased contrast to the animation, which can be quite satisfying for users.</p>
                    <p>To get an ease-in-out animation you can use the <code>ease-in-out</code> CSS keyword:</p><pre><code data-lang="css">transition: transform 500ms ease-in-out;</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>Custom Easing</h2>
                </section>
                <section>
                    <p>Sometimes you won't want to use the easing keywords that are included with CSS, or you will be using a JavaScript-based animation library. In both cases you can typically define your own curves (or equations), and this gives you a lot of control over the feel of your project's animations.</p>

                    <ul>
                        <li>Custom easing will allow you to give more personality to your projects.</li>
                        <li>You can create cubic bezier curves that resemble the default animation curves (ease-out, ease-in, etc) but with emphasis in different places.</li>
                        <li>Use JavaScript when you need more control over the animation timing and behavior, e.g. elastic or bounce animations.</li>
                    </ul>
                </section>
                <section>
                    <p>If you’re animating with CSS, you’ll find that you can define cubic bezier curves to define the timing. In fact, the keywords <code>ease</code>, <code>ease-in</code>, <code>ease-out</code> and <code>linear</code> map to predefined bezier curves, which are detailed in the <a href="http://www.w3.org/TR/css3-transitions/">CSS transitions specification</a>.</p>
                    <p>In CSS these bezier curves take four values, or 2 pairs of numbers, with each pair describing the X and Y coordinates of a cubic bezier curve’s control points. The starting point of the bezier curve has a coordinate of (0, 0) and the end coordinate is (1, 1); you get to set the X and Y values of the two control points. The X values for the two control points must be between 0 and 1, and each control point’s Y value can exceed the [0, 1] limit, although the spec isn’t clear by how much!</p>
                    <p>Changing the X and Y value of each control point will give you vastly different curve, and therefore a vastly different feel to your animation. For example, if the first control point is in the lower right the animation will be slow to start. If it’s in the top left area it’s going to be fast to start. Conversely, if the second control point is in the bottom right of the grid it’s going to be fast at the end, whereas if it’s in the top left it will be slow to end.</p>
                    <p>For comparison, here are two curves: a typical ease-in-out curve and a custom curve:</p>
                    <p><img alt="Ease-in-out animation curve." src="https://developers.google.com/web/fundamentals/look-and-feel/animations/imgs/ease-in-out-markers.png" style="display: inline; max-width: 300px"> <img alt="Custom animation curve." src="https://developers.google.com/web/fundamentals/look-and-feel/animations/imgs/custom.png" style="display: inline; max-width: 300px" /></img>
                    </p>
                </section>
                <section>

                    <p><a href="http://googlesamples.github.io/web-fundamentals/samples/look-and-feel/animations/box-move-custom-curve.html">See an animation with custom easing.</a>
                    </p>
                    <p>The CSS for the custom curve is:</p><pre><code data-lang="css">transition: transform 500ms cubic-bezier(0.465, 0.183, 0.153, 0.946);</code></pre>
                </section>
                <section>
                    <p>The first two numbers are the X and Y coordinates of the first control point, the second two numbers are the X and Y coordinates of the second control point.</p>
                    <p>Making a custom curve is a lot of fun, and it gives you significant control over the feel of the animation. For example, given the above curve, you can see the curve resembles a classic ease-in-out curve, but with a shortened ease-in, or ‘getting going’, portion, and an elongated slowdown at the end.</p>
                    <p>Experiment with this <a href="http://googlesamples.github.io/web-fundamentals/samples/look-and-feel/animations/curve-playground.html">animation curve tool</a> and see how the curve affects the feel of an animation.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="use-javascript-for-more-control">Use JavaScript for more control</h2>
                    <p>Sometimes you will need even more control than a cubic bezier curve can provide. Perhaps you want an elastic bounce feel, or you want to stop execution of the animation part way through, both of which are far more difficult to achieve with CSS. In such cases you should use JavaScript animation libraries. One of the best libraries is <a href="https://github.com/greensock/GreenSock-JS/tree/master/src/minified">Greensock’s TweenMax</a> (or TweenLite if you want to keep things super lightweight) as you get a lot of control from it in a small JavaScript library, and it’s a very mature codebase.</p>
                    <p><a href="http://googlesamples.github.io/web-fundamentals/samples/look-and-feel/animations/box-move-elastic.html">See an elastic ease animation.</a>
                    </p>
                    <p>To use something like TweenMax include the script in your page:</p><pre><code data-lang="html">&lt;script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"&gt;&lt;/script&gt;</code></pre>
                </section>
                <section>
                    <p>Once that’s in place you can call TweenMax against your element and tell it which properties you’d like, along with any easing you’d like. There are a ton of easing options that you can use; the code below uses an elastic ease-out:</p><pre><code data-lang="javascript">var box = document.getElementById('my-box');
var animationDurationInSeconds = 1.5;

TweenMax.to(box, animationDurationInSeconds, {
  x: '100%',
  ease: 'Elastic.easeOut'
});</code></pre>
                </section>
                <section>
                    <p>The <a href="http://greensock.com/docs/#/HTML5/GSAP/TweenMax/">TweenMax documentation</a> highlights all the options you have here, so it’s well worth a read.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Choosing the Right Easing</h2>
                </section>
                <section>
                    <p>Having discussed the various options available for easing in animations, what kind should you use in your projects, and what kind of durations should your animations have?</p>

                    <ul>
                        <li>Use ease-out animations for UI elements; a Quintic ease-out is a very nice, albeit snappy, ease.</li>
                        <li>Be sure to use the animation duration; ease-outs and ease-ins should be 200ms - 500ms, whereas bounces and elastic eases should clock in a longer duration of 800ms - 1200ms.</li>
                    </ul>
                </section>
                <section>
                    <p>Generally speaking an <strong>ease-out</strong> will be the right call, and certainly a good default. It is quick to start, giving your animations a feeling of responsiveness, which is desirable, but with a nice slowdown at the end.</p>
                    <p>There are a group of well-known ease-out equations beyond the one specified with the <code>ease-out</code> keyword in CSS, which range in their ‘aggressiveness’. For a super snappy ease-out effect consider a <a href="http://easings.net/#easeOutQuint">Quintic ease-out</a>.</p>
                    <p><img alt="A Quintic ease-out animation curve" src="https://developers.google.com/web/fundamentals/look-and-feel/animations/imgs/quintic-ease-out-markers.png" style="max-width: 300px" />
                    </p>
                </section>
                <section>
                    <p><a href="http://googlesamples.github.io/web-fundamentals/samples/look-and-feel/animations/box-move-quintic-ease-out.html">See a Quintic ease-out animation.</a>
                    </p>
                    <p>Other easing equations, particularly bounces or elastic eases, should be used sparingly, and only when it’s appropriate to your project. There’s few things that bring a user out of an experience like a jarring animation. If your project isn’t jolly and fun, then don’t have UI elements boinging around the place! Conversely, if you’re making a site that is supposed to be lighthearted and fun then by all means bring the bounce!</p>
                    <p>Play around with eases, see which ones match your project’s personality, and go from there. A full list of easing types, along with demos, can be found at <a href="http://easings.net">easings.net</a>.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="pick-the-right-animation-duration">Pick the right animation duration</h2>
                </section>
                <section>
                    <p>It is important that any animation added to your project has the correct duration. Too short and the animation will feel aggressive and sharp; too long and it will be obstructive and annoying.</p>
                    <ul>
                        <li><strong>Ease-outs: around 200ms - 500ms</strong>. This gives the eye chance to see the animation, but doesn’t feel obstructive.</li>
                        <li><strong>Ease-ins: around 200ms - 500ms</strong>. Bear in mind that it will jolt at the end and no amount of timing changes will soften that feel.</li>
                        <li><strong>Bounce or elastic effects: around 800ms - 1200ms</strong>. You need to allow time for the elastic or bounce effect to ‘settle’. Without this extra time the elastic bouncing part of the animation will be really aggressive and unpleasant to the eye.</li>
                    </ul>
                </section>
                <section>
                    <p>Of course these are just guidelines. Experiment with your own eases and choose what feels right for your projects.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Animating Between Views</h2>
                </section>
                <section>
                    <p>Many times you will want to move users between views in your application, whether that's a list to a details view, or show a sidebar navigation. Animations between these views are great for keeping the user engaged and add even more life to your projects.</p>

                    <ul>
                        <li>Use transitions to move between views; avoid using `left`, `top` or any other property that triggers layout.</li>
                        <li>Ensure any animations you use are snappy and the durations are kept short.</li>
                        <li>Consider how your animations and layouts change as the screen sizes go up; what works for a smaller screen may look odd when used in a desktop context.</li>
                    </ul>
                </section>
                <section>
                    <p>What these view transitions look and behave like will depend very much on the type of views you’re dealing with, so for example animating a modal overlay on top of a view should be a different experience to transitioning between a list and details view.</p>
                </section>
                <section>
                    <p>Note</p>
                    <ul>
                        <li>You should be aiming to maintain 60fps for all of your animations. That way your users will not experience stuttering animations that pull them out of their experience. Ensure that any animating element has will-change set for anything you plan to change well ahead of the animation starting. For view transitions, it’s highly likely you will want to use <code>will-change: transform</code>.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="use-translations-to-move-between-views">Use translations to move between views</h2>
                    <p>To make life a bit easier let’s assume there are two views: a list view and a details view. As the user taps on a list item inside the list view the details view will slide in, and the list view will slide out.</p>
                    <p><img alt="Translating between two views" src="https://developers.google.com/web/fundamentals/look-and-feel/animations/imgs/gifs/view-translate.gif" />
                    </p>
                </section>
                <section>
                    <p>To achieve this effect you will need a container for both views which has <code>overflow: hidden</code> set on it. That way the two views can both be inside it side-by-side without showing any horizontal scrollbars, and each view can slide side-to-side inside the container as needed.</p>
                    <p><img alt="View hierarchy." src="https://developers.google.com/web/fundamentals/look-and-feel/animations/imgs/container-two-views.svg" />
                    </p>
                </section>
                <section>
                    <p>The CSS for the container is:</p><pre><code data-lang="css">.container {
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
}</code></pre>
                </section>
                <section>
                    <p>The position of the container is set as <code>relative</code>. This will mean that each view inside it can be positioned absolutely to the top left corner and then moved around with transforms. This approach is better for performance than using the <code>left</code> property (since that triggers layout and paint), and is typically easier to rationalize.</p><pre><code data-lang="css">.view {
  width: 100%;
  height: 100%;
  position: absolute;
  left: 0;
  top: 0;

  /* let the browser know we plan to animate
     each view in and out */
  will-change: transform;
}</code></pre>
                </section>
                <section>
                    <p>Adding a <code>transition</code> on the <code>transform</code> property provides a nice slide effect. To give it a nice feel it’s using a custom <code>cubic-bezier</code> curve, which we discussed in the <a href="https://developers.google.com/web/fundamentals/look-and-feel/animations/custom-easing.html">Custom Easing guide</a>.</p><pre><code data-lang="css">.view {
  /* Prefixes are needed for Safari and other WebKit-based browsers */
  transition: -webkit-transform 0.3s cubic-bezier(0.465, 0.183, 0.153, 0.946);
  transition: transform 0.3s cubic-bezier(0.465, 0.183, 0.153, 0.946);
}</code></pre>
                </section>
                <section>
                    <p>The view that is offscreen should be translated to the right, so in this case the details view needs to be moved:</p><pre><code data-lang="css">.details-view {
  -webkit-transform: translateX(100%);
  transform: translateX(100%);
}</code></pre>
                </section>
                <section>
                    <p>Now a small amount of JavaScript is necessary to handle the classes. This will toggle the appropriate classes on the views.</p><pre><code data-lang="javascript">var container = document.querySelector('.container');
var backButton = document.querySelector('.back-button');
var listItems = document.querySelectorAll('.list-item');

/**
 * Toggles the class on the container so that
 * we choose the correct view.
 */
function onViewChange(evt) {
  container.classList.toggle('view-change');
}

// When you click on a list item bring on the details view.
for (var i = 0; i &lt; listItems.length; i++) {
  listItems[i].addEventListener('click', onViewChange, false);
}

// And switch it back again when you click on the back button
backButton.addEventListener('click', onViewChange);</code></pre>
                </section>
                <section>
                    <p>Finally, we add the CSS declarations for those classes.</p><pre><code data-lang="css">.view-change .list-view {
  -webkit-transform: translateX(-100%);
  transform: translateX(-100%);
}

.view-change .details-view {
  -webkit-transform: translateX(0);
  transform: translateX(0);
}</code></pre>
                </section>
                <section>
                    <p><a href="http://googlesamples.github.io/web-fundamentals/samples/look-and-feel/animations/inter-view-animation.html">See sample.</a>
                    </p>
                    <p>You could expand this to cover multiple views, and the basic concept should remain the same; each non-visible view should be offscreen and brought on as needed, and the currently onscreen view should be moved off.</p>
                </section>
                <section>
                    <p>Note</p>
                    <ul>
                        <li>Making this kind of hierarchy in a cross-browser way can be challenging. For example, iOS requires an additional CSS property, <code>-webkit-overflow-scrolling: touch</code>, to ‘reenable’ fling scrolling, but you don’t get to control which axis that’s for, as you can with the standard overflow property. Be sure to test your implementation across a range of devices!</li>
                    </ul>
                </section>
                <section>
                    <p>In addition to transitioning between views this technique can also be applied to other slide-in elements, like sidebar navigation elements. The only real difference is that you shouldn’t need to move the other views.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="ensure-your-animation-works-with-larger-screens">Ensure your animation works with larger screens</h2>
                    <p>For a larger screen you should keep the list view around all the time rather than removing it, and slide on the details view from the right hand side. It’s pretty much the same as dealing with a navigation view.</p>
                    <p><img alt="View hierarchy on a large screen." src="https://developers.google.com/web/fundamentals/look-and-feel/animations/imgs/container-two-views-ls.svg" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2>Animating Modal Views</h2>
                </section>
                <section>
                    <p>Modal views are for important messages, and for which you have very good reasons to block the user interface. Care must be taken when you use them as they are disruptive and can easily ruin the user’s experience if overused. But, in some circumstances, they’re the right views to use, and adding some animation will bring them to life.</p>

                    <ul>
                        <li>Modal views should be used sparingly; users will get frustrated if you interrupt their experience unnecessarily.</li>
                        <li>Adding scale to the animation gives a nice 'drop on' effect.</li>
                        <li>Be sure to get rid of the modal view quickly when the user dismisses it, but you should bring it on to screen a little more slowly so it doesn't surprise the user.</li>
                    </ul>
                </section>
                <section>
                    <p><img alt="Animating a modal view." src="https://developers.google.com/web/fundamentals/look-and-feel/animations/imgs/gifs/dont-press.gif" />
                    </p>
                </section>
                <section>
                    <p><a href="http://googlesamples.github.io/web-fundamentals/samples/look-and-feel/animations/modal-view-animation.html">See sample.</a>
                    </p>
                    <p>The modal overlay should be aligned to the viewport so it needs to have its <code>position</code> set to <code>fixed</code>:</p><pre><code data-lang="css">.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  pointer-events: none;
  opacity: 0;

  will-change: transform, opacity;
}</code></pre>
                </section>
                <section>
                    <p>It has an initial <code>opacity</code> of 0 so it’s hidden from view, but then it will also need <code>pointer-events</code> set to <code>none</code> so that click and touches pass through. Without that it will block all interactions rendering the whole page unresponsive. Finally, since it will animate its <code>opacity</code> and <code>transform</code> those need to be marked as changing with <code>will-change</code> (see also <a href="https://developers.google.com/web/fundamentals/look-and-feel/animations/animations-and-performance.html#using-the-will-change-property">Using the will-change property</a>).</p>
                    <p>When the view is visible it will need to accept interactions and have an <code>opacity</code> of 1:</p><pre><code data-lang="css">.modal.visible {
  pointer-events: auto;
  opacity: 1;
}</code></pre>
                </section>
                <section>
                    <p>Now whenever the modal view is required, you can use JavaScript to toggle the “visible” class:</p><pre><code data-lang="javascript">modal.classList.add('visible');</code></pre>
                </section>
                <section>
                    <p>At this point the modal view will appear without any animation, so that can now be added in (see also <a href="https://developers.google.com/web/fundamentals/look-and-feel/animations/custom-easing.html">Custom Easing</a>):</p><pre><code data-lang="css">.modal {
  -webkit-transform: scale(1.15);
  transform: scale(1.15);

  -webkit-transition:
    -webkit-transform 0.1s cubic-bezier(0.465, 0.183, 0.153, 0.946),
    opacity 0.1s cubic-bezier(0.465, 0.183, 0.153, 0.946);

  transition:
    transform 0.1s cubic-bezier(0.465, 0.183, 0.153, 0.946),
    opacity 0.1s cubic-bezier(0.465, 0.183, 0.153, 0.946);

}</code></pre>
                </section>
                <section>
                    <p>Adding <code>scale</code> to the transform makes the view appear to drop onto the screen slightly, which is a nice effect. The default transition applies to both transform and opacity properties with a custom curve and a duration of 0.1 seconds.</p>
                    <p>The duration is pretty short, though, but it’s ideal for when the user dismisses the view and wants to get back to your app. The downside is that it’s probably too aggressive for when the modal view appears. To fix this you should override the transition values for the <code>visible</code> class:</p><pre><code data-lang="css">.modal.visible {

  -webkit-transform: scale(1);
  transform: scale(1);

  -webkit-transition:
    -webkit-transform 0.3s cubic-bezier(0.465, 0.183, 0.153, 0.946),
    opacity 0.3s cubic-bezier(0.465, 0.183, 0.153, 0.946);

  transition:
    transform 0.3s cubic-bezier(0.465, 0.183, 0.153, 0.946),
    opacity 0.3s cubic-bezier(0.465, 0.183, 0.153, 0.946);

}</code></pre>
                </section>
                <section>
                    <p>Now the modal view takes 0.3s seconds to come onto the screen, which is a bit less aggressive, but it is dismissed quickly, which the user will appreciate.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Asymmetric Animation Timing</h2>
                </section>
                <section>
                    <p>Asymmetry to your animation durations aids your user experience by allowing you to express personality while at the same time responding quickly to user interactions. It also provides contrast to the feel, which makes the interface more visually appealing.</p>

                    <ul>
                        <li>Use asymmetric animation timing to add personality and contrast to your work.</li>
                        <li>Always favor the user's interaction; use shorter durations when responding to taps or clicks, and reserve slower durations for times where you aren't.</li>
                    </ul>
                </section>
                <section>
                    <p>Like most “rules” of animation, you should play around to find out what works for your application, but when it comes to the user experience aspects, users are notoriously impatient. The rule of thumb is to <strong>always respond to a user interaction quickly</strong>. That said, most of the time the user’s action is asymmetric, and therefore so can the animation be.</p>
                    <p>For example, when a user taps to bring on a sidebar navigation, you should bring that on to screen as quickly as possible, with a duration of around 100ms. When the user dismisses the menu, however, you can afford to animate the view out a little more slowly, say around the 300ms mark.</p>
                    <p>By contrast, when you bring on a modal view, this is normally to display an error or some other critical message. In such cases you will want to bring on the view a little more slowly, again around the 300ms mark, but dismissal, which is triggered by the user, should happen very quickly.</p>
                </section>
                <section>
                    <p>The general rule of thumb, then, is:</p>
                    <ul>
                        <li>For UI animations triggered by a user’s interaction, such as view transitions or showing an element, have a fast intro (short duration), but a slow outro (longer duration).</li>
                        <li>For UI animations triggered by your code, such as errors or modal views, have a slower intro (longer duration), but a fast outro (short duration).</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2>Animations and Performance</h2>
                </section>
                <section>
                    <p>Care must be taken to maintain 60fps whenever you are animating, because any stutters or stalls will be noticeable to your users and negatively impact their experiences.</p>

                    <ul>
                        <li>Take care that your animations don’t cause performance issues; ensure you know the impact of animating a given CSS property.</li>
                        <li>Animating properties that change the geometry of the page (layout) or cause painting are particularly expensive.</li>
                        <li>Where you can, stick to changing transforms and opacity.</li>
                        <li>Use <code>will-change</code> to ensure that the browser knows what you plan to animate.</li>
                    </ul>
                </section>
                <section>
                    <p>Animating properties is not free, and some properties are cheaper to animate than others. For example, animating the <code>width</code> and <code>height</code> of an element changes its geometry and may cause other elements on the page to move or change size. This process is called layout (or reflow in Gecko-based browsers like Firefox), and can be expensive if your page has a lot of elements. Whenever layout is triggered, the page or part of it will normally need to be painted, which is typically even more expensive than the layout operation itself.</p>
                    <p>Where you can, you should avoid animating properties that trigger layout or paint. For most modern browsers this means limiting animations to <code>opacity</code> or <code>transform</code>, both of which can be highly optimized by the browser; it doesn’t matter if the animation is handled by JavaScript or CSS.</p>
                </section>
                <section>
                    <p>For a full list of the work triggered by individual CSS properties can be found at <a href="http://csstriggers.com">CSS Triggers</a>, and you can find a full guide on creating <a href="http://www.html5rocks.com/en/tutorials/speed/high-performance-animations/">High Performance Animations on HTML5 Rocks</a>.</p>
                    <ul>
                        <li>
                            <p><a href="https://developers.google.com/web/performance/critical-rendering-path/" title="Critical Rendering Path">Critical Rendering Path</a>
                            </p>
                            <p><a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-blocking-css.html">Render Blocking CSS</a>
                            </p>
                        </li>
                    </ul>
                </section>
                <section>
                    <p><a href="https://developers.google.com/web/performance/critical-rendering-path/" title="Critical Rendering Path">Critical Rendering Path</a>
                    </p>
                    <p><a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-blocking-css.html">Render Blocking CSS</a>
                    </p>
                    <p>It is worth using <a href="http://dev.w3.org/csswg/css-will-change/"><code>will-change</code></a> to ensure the browser knows that you intend to change an element’s property. This allows the browser to put the most appropriate optimizations in place ahead of you making the change. Care must be taken to not overuse <code>will-change</code>, however, as it can cause the browser to waste resources, which will in turn cause even more performance issues.</p>
                    <p>The general rule of thumb is that if the animation could be triggered in the next 200ms, either by a user’s interaction or because of your application’s state, then having will-change on animating elements is a good idea. For most cases, then, any element in your app’s current view that you intend to animate should have <code>will-change</code> enabled for whichever properties you plan to change. In the case of the box sample we’ve been using throughout the previous guides, adding <code>will-change</code> for transforms and opacity looks like this:</p><pre><code data-lang="css">.box {
  will-change: transform, opacity;
}</code></pre>
                </section>
                <section>
                    <p>Now the browsers that support it, currently Chrome, Firefox and Opera, will make the appropriate optimizations under the hood to support changing or animating those properties.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="css-vs-javascript-performance">CSS vs JavaScript Performance</h2>
                </section>
                <section>
                    <p>There are many pages and comments threads around the web that discuss the relative merits of CSS and JavaScript animations from a performance perspective. Here are a couple of points to keep in mind:</p>
                    <ul>
                        <li>CSS-based animations are typically handled on a separate thread to the browser’s “main thread”, where styling, layout, painting, and JavaScript are executed. This means that if the browser is running some expensive tasks on the main thread, CSS-based animations can potentially keep going without being interrupted. Changes to transforms and opacity can, in many cases, be handled by the same thread as the CSS-based animations, called the “compositor thread”, so ideally you should stick to using these for your animations.</li>
                        <li>If any animation triggers paint, layout, or both, the “main thread” will be required to do work. This is true for both CSS- and JavaScript-based animations, and the overhead of layout or paint will likely dwarf any work associated with CSS or JavaScript execution, rendering the question moot.</li>
                    </ul>
                </section>
                <section>
                    <p>If you want to know exactly which work is triggered by animating a given property check <a href="http://csstriggers.com">CSS Triggers</a> for more details.</p>
                </section>
            </section>
            <section>
                <h1>Tools</h1>
            </section>
            <section>
                <section>
                    <h2>Set Up Your Editor</h2>
                </section>
                <section>
                    <p>Your code editor is your main development tool; you use it to write and save lines of code. Write better code faster by learning your editor's shortcuts and installing key plugins.</p>

                    <ul>
                        <li>Choose an editor that lets you customize shortcuts and has lots of plugins to help you write better code.</li>
                        <li>Make use of the package manager to make it easier to discover, install, and update plugins.</li>
                        <li>Install plugins that help keep you productive during development; start with the recommendations in this guide.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="install-sublime-text-editor">Install Sublime Text Editor</h2>
                    <p><a href="http://www.sublimetext.com/">Sublime</a> is a great editor with a solid base level of functionality which makes writing code a pleasure. You can install a package manager that makes it easy to install plugins and add new functionality.</p>
                    <p><strong>Note</strong>
                        <br>Rob Dodson’s <a href="http://robdodson.me/blog/2012/06/23/sublime-text-2-tips-and-shortcuts/">blog post</a> on how to get to know and love Sublime is a great reference for getting the most out of your editor. The concepts are relevant to any text editor, not just Sublime.</br>
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="why-use-a-package-manager">Why Use a Package Manager?</h2>
                    <p>Package managers make it easy to find, install, and keep packages &amp; plugins up-to-date.</p>
                    <p><img alt="Screenshot of Sublime Text Editors Package Control" src="https://developers.google.com/web/fundamentals/tools/setup/imgs/package_control.png" />
                    </p>
                </section>
                <section>
                    <p>You can install a Package Manager for Sublime by following these instructions <a href="https://sublime.wbond.net/installation">https://sublime.wbond.net/installation</a>.</p>
                    <p>You only need to do this once, after which see below for our recommended list of plugins.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="install-plugins">Install Plugins</h2>
                    <p>Plugins help you stay more productive. What are the things you keep having to go back out to other tools to do?</p>
                    <p>Linting - there’s a plugin for that. Showing what changes haven’t been committed - there are plugins for that. Integration with other tools, such as GitHub, there are plugins for that.</p>
                    <p>Package managers make it very easy to find, install, and update plugins:</p>
                    <p>Check out these <a href="https://sublime.wbond.net/browse">trending lists of Sublime Text plugins</a>. Here are the plugins we love and recommend you install because they help you speed up your development:</p>
                    <p>If you want a quick way to add vendor prefixes to your CSS, you can do so with this handy plugin.</p>
                    <p>Write CSS, ignoring vendor prefixes and when you want to add them, hit <code>ctrl+shift+p</code> and type <code>Autoprefix CSS</code>.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/tools/build/setupbuildprocess.html">We cover how you can automate this in your build process</a>, that way your CSS stays lean and you don’t need to remember to hit <code>ctrl+shift+p</code>.</p>
                    <p><img alt="Sublime Autoprefixer Plugin Example" src="https://developers.google.com/web/fundamentals/tools/setup/imgs/sublime-autoprefixer.gif" />
                    </p>
                </section>
                <section>
                    <p>Gutter Color shows you a small color sample next to your CSS.</p>
                    <p><img alt="Sublime Gutter Color Screenshot" src="https://developers.google.com/web/fundamentals/tools/setup/imgs/sublime-gutter-color.png" />
                    </p>
                </section>
                <section>
                    <p>The plugin requires ImageMagick. If you are on Mac OS X, we recommend trying the installer from <a href="http://cactuslab.com/imagemagick/">CactusLabs</a> (you may need to restart your machine to get it working).</p>
                    <p>Pick any color from the palette and add it to your CSS with <code>ctrl+shift+c</code>.</p>
                    <p><img alt="Sublime Color Picker Plugin" src="https://developers.google.com/web/fundamentals/tools/setup/imgs/sublime-color-picker.png" />
                    </p>
                </section>
                <section>
                    <p>Add some useful keyboard shortcuts and snippets to your text editor. Check out the video on <a href="http://emmet.io/">Emmet.io</a> for an intro into what it can do (a personal favorite is the ‘Toggle Comment’ command).</p>
                    <p><img alt="Demo of the Emmet.io Plugin" src="https://developers.google.com/web/fundamentals/tools/setup/imgs/emmet-io-example.gif" />
                    </p>
                </section>
                <section>
                    <p>Add a marker in the gutter wherever there is a change made to a file.</p>
                    <p><img alt="Screenshot of the Sublime Git Gutter Plugin" src="https://developers.google.com/web/fundamentals/tools/setup/imgs/sublime-git-gutter.png" />
                    </p>
                </section>
                <section>
                    <p>This extension gives you a command to format your HTML, CSS and JS. You can even prettify your files whenever your save a file.</p>
                    <p><img alt="Gif of the Sublime Prettify Plugin" src="https://developers.google.com/web/fundamentals/tools/setup/imgs/sublime-prettify.gif" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2>Set Up Command Line Shortcuts</h2>
                </section>
                <section>
                    <p>Set up shortcuts for the command line tasks you use over and over again. If you find yourself typing the same thing in your command line repeatedly, this will alleviate that.</p>

                    <ul>
                        <li>Make the command line work for you; create aliases that are easy to remember and fast to type.</li>
                        <li>Give Github dotfiles a try to save, share and sync up your command line shortcuts.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="how-to-set-them-up">How to Set Them Up</h2>
                    <p>The easiest way create command-line shortcuts is to add aliases for common commands to your bashrc file. On Mac or Linux:</p>
                    <p>From the command line anywhere, type:</p><pre><code> open -a 'Sublime Text' ~/.bashrc
</code></pre>
                </section>
                <section>
                    <p>Add a new alias, for example:</p><pre><code> alias master='git checkout master'
</code></pre>
                </section>
                <section>
                    <p>Anytime you are in a directory with a git repo, you can run the command <code>master</code> and it will checkout the master branch for you.</p>
                    <p>Note: See these instructions for <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/ms682057(v=vs.85).aspx">setting up Windows aliases</a>.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="shortcuts-we-recommend">Shortcuts We Recommend</h2>
                    <p>These are a few commands that you may find useful.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="save-share-and-sync-your-shortcuts">Save, Share and Sync Your Shortcuts</h2>
                    <p>Store your shortcuts and dot files on Github. The major gain with this is your shortcuts can be shared across devices and they are always backed up.</p>
                    <p>Github even created a <a href="http://dotfiles.github.io/">dedicated page for dotfiles</a> and quite a few of the Chrome Team have forked <a href="https://github.com/mathiasbynens/dotfiles">Mathias Bynens’ dotfiles</a>.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Set Up Browser Extensions</h2>
                    <p>Out of the box, every desktop browser comes with a set of developer tools, you can extend and add to these with extensions or plugins for your browser.</p>
                    <p>Here are two Chrome Extensions that have some useful functionality to help with debugging your designs.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="emmet-review">Emmet Re:View</h2>
                    <p>Emmet Re:View is a tool which makes it easy to see what your site looks like at each of your media queries and syncs the scrolling of all the pages. You can see a demo of it <a href="http://re-view.emmet.io/">on their site</a>.</p>
                    <p><a href="https://chrome.google.com/webstore/detail/emmet-review/epejoicbhllgiimigokgjdoijnpaphdp">Download on the Chrome Web Store</a>
                    </p>
                    <p><img alt="Screenshot of Emmet Review Extension" src="https://developers.google.com/web/fundamentals/tools/setup/imgs/emmet-review-extension.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="what-font">What Font?</h2>
                    <p>The last extension we use on a regular basis is <em>What Font?</em>. This Chrome Extension will tell you the name of the font currently being used on the page. This is really handy for debugging any web font issues.</p>
                    <p><a href="https://chrome.google.com/webstore/detail/whatfont/jabopobgcpjmedljpbcaablpmlmfcogm">Download on the Chrome Web Store</a>
                    </p>
                    <p><img alt="Screenshot of the What Font Chrome Extension" src="https://developers.google.com/web/fundamentals/tools/setup/imgs/what-font-extension.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2>Add a Build Process</h2>
                    <p>Every site should have a development version and a production version.
                        <br>
                        <br>The development version has all the HTML, CSS, JS and image files that make up your site in a clean format that you are happy to work on.
                        <br>
                        <br>A production version will take these files, minify them, concatenate / merge them and optimise files like images.</br>
                        </br>
                        </br>
                        </br>
                    </p>

                    <ul>
                        <li>Your build process tools must optimise for performance; they should automatically minify and concatenate JavaScript, CSS, HTML, and images.</li>
                        <li>Use tools like LiveReload to make your development process smoother.</li>
                    </ul>
                    <p>Before you start coding, you need to consider how to optimise and build the production version of your site. Setting up this workflow from the start prevents any nasty surprises at the end of the project and you can add tools into your workflow that speed up your development, doing the monotonous tasks for you.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="what-is-a-build-process">What Is a Build Process</h2>
                    <p>A build process is a set of tasks which run over your projects files, compiling and testing code during development and used to create the deployment version of your site. Your build process shouldn’t be a set of tasks you run at the end of your development workflow.</p>
                    <p>The most popular tools for implementing a build process are <a href="http://gulpjs.com/">Gulp</a> and <a href="http://gruntjs.com/">Grunt</a>, both of which are command line tools. If you have no experience of either, use Gulp, we use it for <a href="https://developers.google.com/web/starter-kit/">Web Starter Kit</a> and recommend you do the same.</p>
                    <p>There are tools which have GUIs and may be a bit easier to get to grips with but will be less flexible.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="what-tasks-should-be-in-a-build-process">What Tasks Should be in a Build Process</h2>
                    <p>In the following sections, we’re going to look at the most common tasks you should have in your build process and recommend tasks for Grunt and Gulp.</p>
                    <p>This requires a lot of trial and error to get each piece set-up the way you want and can be daunting if you are new to build processes.</p>
                    <p>For a good example of a build process, check out the <a href="https://developers.google.com/web/fundamentals/getting-started/web-starter-kit/">getting started guide for Web Starter Kit</a>, which goes through how to use Web Starter Kit and explains what each of the commands in the Gulp file do. This can be used as a quick way to get set-up and then you can make changes if needed.</p>
                </section>
                <section>
                    <p>If you are looking to create your own build process and you’re new to Gulp or Grunt, the quick start guides will be the best place to get into on installing and running your first build process:</p>
                    <ul>
                        <li><a href="http://gruntjs.com/getting-started">Grunt Getting Started</a>
                        </li>
                        <li><a href="https://github.com/gulpjs/gulp/blob/master/docs/getting-started.md#getting-started">Gulp Getting Started</a>
                        </li>
                    </ul>
                </section>
                <section>
                    <p>For those unfamiliar with the terms concatenation and minification, concatenation means simply merging multiple files together, i.e. copying and pasting several files into one. The reason we do this is that it’s more efficient for a browser to fetch one file, rather than lots of small files.</p>
                    <p>Minification is the process of taking a file and making the overall number of characters less, without changing how the code works. A good example of this is removing comments, or taking a long variable name and making it smaller. This makes the file size smaller, leading to faster downloads.</p>
                    <p>For minification, use the following:</p>
                    <p>For concatentation, use the following:</p>
                    <p><strong>Note</strong>
                        <br>You can use Sass by taking advantage of the ‘import’ feature (<a href="https://github.com/google/web-starter-kit/blob/master/app/styles/main.scss">See Web Starter Kit for an example</a>).</br>
                    </p>
                    <p>Image optimisation is an important step to help speed up your site; you’d be surprised how much smaller you can make an image without losing quality. Meta data is removed from the image as it’s not needed by the browser to display the image, for example, information about the camera used to take the photo.</p>
                    <p>For optimising images you can use these modules.</p>
                    <p>It can often become a bit tedious to include all the vendor prefixes for the CSS you use. Use an auto-prefixer to automatically add the prefixes you need to include:</p>
                    <p><strong>Note</strong>
                        <br>If you prefer, you can add a <a href="https://developers.google.com/web/fundamentals/tools/setup/editor.html#autoprefixer">Sublime package to do the auto-prefixing</a> for you.</br>
                    </p>
                    <p>Live reloading updates your site in your browser each time your make a change. After using it once, you won’t be able to live without it.</p>
                    <p>Web Starter Kit uses browser-sync for Live Reload support.</p>
                    <p><strong>Note</strong>
                        <br>If you like the idea of Live Reloading, but don’t want to have a build process, <a href="http://www.html5rocks.com/en/tutorials/tooling/synchronized-cross-device-testing/">Addy Osmani’s write up on HTML5Rocks</a> covers a range of alternatives (some free and some commercial).</br>
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Use Real Devices</h2>
                </section>
                <section>
                    <p>When it comes to developing on a real device, there are a few things to point out and some tips to bear in mind.</p>

                    <ul>
                        <li>There's no substitute for running your site on a real device. You must try your site on real devices.</li>
                        <li>BrowserSync allows you to synchronise user interactions across a number of devices at the same time.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="connect-to-a-local-server">Connect to a Local Server</h2>
                    <p>One of the simplest ways to test on a real device, is to simply find the IP address of your computer, run your web server and then point your mobile devices to your computer’s IP address.</p>
                    <p>Every OS has a different way of finding out your IP address. If you spot the network panel on your computer, that will be the easiest way to find your local IP address.</p>
                    <p>OS X and Ubuntu users can always run <code>ifconfig</code> from the terminal; Windows users can run <code>ipconfig</code> from the command prompt.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="use-port-forwarding-to-connect-to-your-server">Use Port Forwarding to Connect to Your Server</h2>
                    <p>It’s often easier and more flexible to test your site using Chromes Port Forwarding feature. This shares localhost sites from your computer, to your phone over USB.</p>
                    <p>The first step is to enable USB debugging on your Android device. Go to <strong>Settings &gt; About Phone</strong> and tap the <strong>Build number</strong> seven times. Then return back to the <strong>Settings</strong> screen and select <strong>Developer Options</strong>.</p>
                    <p>In Developer Options, make sure the <strong>USB debugging</strong> is checked.</p>
                    <p><img alt="Enable USB Debugging" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/usb_debugging_on.png" />
                    </p>
                </section>
                <section>
                    <p>Check your site running locally. In this example we have a server running on port <strong>3000</strong>, so the URL is <a href="http://localhost:3000/">http://localhost:3000/</a>:</p>
                    <p><img alt="Demo site we are using as an example" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/port-forwarding-site-demo.png" />
                    </p>
                </section>
                <section>
                    <p>Open a new tab in Chrome and type in the URL <code>chrome://inspect</code> and plug your phone in over USB.</p>
                    <p><img alt="Chrome Inspect Screenshot" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/chrome-inspect.png" />
                    </p>
                </section>
                <section>
                    <p>Clicking on the <code>Port Forwarding</code> button will allow you to enter the port your server is on as well as a localhost port on your phone.</p>
                    <p><img alt="Port Forwarding Settings" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/port-forwarding-dialog.png" />
                    </p>
                </section>
                <section>
                    <p>Make sure the ‘Enable port forwarding’ checkbox at the bottom of the popup is checked. Press ‘Done’ and you’ll be able to open http://localhost:3000 on your mobile device and see your site.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="using-devtools-for-mobile-browsers">Using DevTools for Mobile Browsers</h2>
                    <p>Each browser/platform has its own way to debug sites. Use the appropriate DevTools to help debug problems.</p>
                    <p>You can use Chrome DevTools with Chrome for Android by setting up your device for development and then visiting <code>chrome://inspect</code>. <a href="https://developer.chrome.com/devtools/docs/remote-debugging">Check out our Chrome docs</a> on how to set all of this up.</p>
                    <p><img alt="Chrome Inspect Demo" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/chrome-inspect-devtools.png" />
                    </p>
                </section>
                <section>
                    <p>To debug Safari for iOS, follow these steps:</p>
                    <p><img alt="Safari iOS Debugging Menu" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/ios-safari-debugging.png" />
                    </p>
                </section>
                <section>
                    <p>Unfortunately there is no way to debug a site on Windows Phone, but you can
                        <br><a href="http://msdn.microsoft.com/en-us/library/ie/dn255001%28v=vs.85%29.aspx">emulate a mobile browser on the desktop version of IE 11</a>. We’ll cover this in the <a href="https://developers.google.com/web/fundamentals/tools/devices/browseremulation.html">next article</a>.</br>
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="sync-devices-with-browsersync">Sync Devices with BrowserSync</h2>
                    <p>If you have a large number of devices to test against, you may find it overwhelming to do a basic test across all of the devices. <a href="http://www.browsersync.io/">Browser Sync</a> can help with this by synchronising interactions across all of your devices. This includes scrolling, clicking and form entry.</p>
                    <p>BrowserSync is enabled out of the box with <a href="https://developers.google.com/web/starter-kit/">Web Starter Kit</a>, so try it out there or check out the gulp file for how to integrate it in your own workflow.</p>
                    <p>If you aren’t using Gulp, head on over to the <a href="http://www.browsersync.io/">BrowserSync site</a> for alternative approaches to using it.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Use DevTools Emulation</h2>
                    <p>When you don’t have a particular device, or want to do a spot check on something, the best option is to emulate the device right inside your browser.</p>
                </section>
                <section>
                    <p>Browser emulation is great for testing a sites responsiveness, but they don’t emulate differences in API, CSS support and certain behaviors that you’d see on a mobile browser. Test your site on browsers running on real devices to be certain everything behaves as expected.</p>

                    <ul>
                        <li>Quickly test your site’s responsiveness and support for mobile APIs using DevTools emulation.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="chrome-devtools-emulation">Chrome DevTools Emulation</h2>
                    <p><a href="https://developer.chrome.com/devtools">Chrome DevTools</a> has a Device emulation tool which will create a viewport with the right width and height to match a selected device and account for the screen density.</p>
                    <p>You can activate device emulation by following these four steps:</p>
                    <p><img alt="Chrome DevTools Emulation Guide" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/chrome-devtools-emulation.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="firefox-responsive-view">Firefox Responsive View</h2>
                    <p>Firefox has a <a href="https://developer.mozilla.org/en-US/docs/Tools/Responsive_Design_View">responsive design view</a> which encourages you stop thinking in terms of specific devices and instead explore how your design changes at common screen sizes or your own size by dragging the edges.</p>
                    <p>To use the responsive view, open the developer tools in Firefox and click the icon illustrated in step 1 below and use the handles at the side of the web page to resize it, illustrated in step 2.</p>
                    <p><img alt="Firefox Responsive Design View" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/ff-responsive-design-mode.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="ie-device-emulation">IE Device Emulation</h2>
                    <p>IE11 has a feature where you can <a href="http://msdn.microsoft.com/en-gb/library/ie/dn255001(v=vs.85).aspx">change the viewport to match a Windows Phone</a> as well as view your site on older versions of IE.</p>
                    <p>To change the emulated browser, do the following:</p>
                    <p><img alt="IE Device Emulation" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/ie-device-emulation.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2>Use Device Emulators</h2>
                    <p>While nothing can replace the real thing, emulators and simulators can be used to check API and CSS support when you don't have access to a device.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="android-emulator">Android Emulator</h2>
                    <p>There is a word of warning to be said about the Android emulator. At the moment, there is no way to install Chrome on an Android emulator. However, you can use the Android Browser, the Chromium Content Shell and Firefox for Android which we’ll cover later in this guide.</p>
                    <p>Chromium Content Shell uses the same Chrome rendering engine, but comes without any of the browser specific features.</p>
                    <p>The Android emulator comes with the Android SDK which you need to <a href="http://developer.android.com/sdk/installing/studio.html">download from here</a>.</p>
                    <p>Start by opening Android Studio and go to <code>Tools &gt; Android &gt; AVD Manager (Android Virtual Device Manager)</code>. AVD is the place where you set up the emulators you’d like to use.</p>
                    <p><img alt="Android Virtual Device (AVD) Manager Menu" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/android-emulator-adv-manager.png" />
                    </p>
                </section>
                <section>
                    <p>To start off, you’ll have no emulators set-up so click <code>Create</code> and we’ll get set-up to emulate a Nexus 5.</p>
                    <p><img alt="Android Virtual Devices Empty Screenshot" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/android-avd-empty.png" />
                    </p>
                </section>
                <section>
                    <p>Initially you’ll be presented with a somewhat scary form, but most items are simple:</p>
                    <p><img alt="Android AVD Filled In" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/android-avd-filled-in.png" />
                    </p>
                </section>
                <section>
                    <p>Once you’ve clicked OK you’ll see a pop-up dialog covering the options used.</p>
                    <p><img alt="Android AVD Confirmation Dialog" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/android-avd-result.png" />
                    </p>
                </section>
                <section>
                    <p>Another click on OK and you’ll be back to the start with your new emulator listed. Select it and click start.</p>
                    <p><img alt="Android AVD List" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/android-avd-listed.png" />
                    </p>
                </section>
                <section>
                    <p>A dialog will pop up with some options. You may wish to select the <code>scale display to real size</code> so that the emulator doesn’t fill up your computer screen; otherwise click <code>Launch</code>.</p>
                    <p><img alt="Android AVD Launch Dialog" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/android-avd-launch.png" />
                    </p>
                </section>
                <section>
                    <p>Once you’re emulator is booted, click on the Browser icon and you’ll be able to test your site on the old Stock Browser for Android.</p>
                    <p><img alt="Android Emulator Stock Browser Screenshot" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/android-emulator-stock-browser.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="chromium-content-shell-on-android">Chromium Content Shell on Android</h2>
                    <p>To install the Chromium Content Shell for Android, leave your emulator running and run the following commands in a terminal:</p><pre><code>git clone https://github.com/PaulKinlan/chromium-android-installer.git
chmod u+x ./chromium-android-installer/\*.sh
./chromium-android-installer/install-chromeandroid.sh
</code></pre>
                </section>
                <section>
                    <p>Now you can test your site with the Chromium Content Shell.</p>
                    <p><img alt="Android Emulator Content Shell" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/android-avd-contentshell.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="firefox-on-android">Firefox on Android</h2>
                    <p>Similar to Chromium’s Content Shell, you can get an APK to install Firefox onto the emulator.</p>
                    <p>Open the URL below, select the right language and download the .apk file.</p>
                    <p><a href="https://ftp.mozilla.org/pub/mozilla.org/mobile/releases/latest/android/">https://ftp.mozilla.org/pub/mozilla.org/mobile/releases/latest/android/</a>
                    </p>
                    <p>From here, you can install the file onto an open emulator or connected Android device with the following command:</p><pre><code>adb install &lt;path to APK&gt;/fennec-XX.X.XX.android-arm.apk
</code></pre>
                </section>
                <section>
                    <p><img alt="Firefox Icon on Android Emulator" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/ff-on-android-emulator.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="ios-simulator">iOS Simulator</h2>
                    <p>The iOS simulator for Mac OS X comes with XCode, which you can <a href="https://itunes.apple.com/us/app/xcode/id497799835?ls=1&amp;mt=12">install from the App Store</a>.</p>
                    <p>To use the iOS Simulator, open XCode, in the top menu go to <code>XCode &gt; Open Developer Tool</code> and select <code>iOS Simulator</code>.</p>
                    <p><img alt="Xcode Menu for iOS Simulator" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/xcode-ios-simulator.png" />
                    </p>
                </section>
                <section>
                    <p>Once the simulator is open you can fire up Safari and you’re good to go.</p>
                    <p><img alt="iOS Simulator Screenshot" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/ios-simulator.png" />
                    </p>
                </section>
                <section>
                    <p><strong>Tip</strong>
                        <br>To avoid having to open XCode every time you want to use the iOS Simulator, open the iOS simulator once, as above, then right click the iOS Simulator icon in your dock and select <code>Keep in Dock</code>. Just click this icon whenever you need it.</br>
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="modernie">Modern.IE</h2>
                    <p>Modern.IE Virtual Machines let you access different versions of IE on your computer via VirtualBox (or VMWare). Choose a virtual machine on the <a href="https://modern.ie/en-us/virtualization-tools#downloads">download page here</a>.</p>
                    <p>It’s worth mentioning that in the IE11 VM, you can test different versions of IE by changing the <code>Document Mode</code>, see <a href="https://developers.google.com/web/fundamentals/tools/devices/browseremulation.html#ie-device-emulation">this section for more info.</a>
                    </p>
                    <p><img alt="Modern IE VM" src="https://developers.google.com/web/fundamentals/tools/devices/imgs/modern-ie-simulator.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2>Use Cloud Based Emulators and Devices</h2>
                    <p>If you can’t use the emulators for whatever reason and don't have access to real devices, then cloud based emulators are the next best thing.</p>
                    <p>The one big advantage of cloud-based emulators over real devices and local emulators is that you can automate unit tests for your site across different platforms.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="browserstack">BrowserStack</h2>
                    <p><a href="https://www.browserstack.com/automate">BrowserStack (commercial)</a> is the easiest to use for manual testing. You select an operating system, select your browser version and device type, select a URL to browse, and it spins up a hosted virtual machine that you can interact with.</p>
                    <p>You can also fire up multiple emulators in the same screen, letting you test how your app looks and feels across multiple devices at the same time.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="saucelabs">SauceLabs</h2>
                    <p><a href="https://saucelabs.com/">SauceLabs (Commercial)</a> allows you to run unit tests inside of an emulator, which can be really useful for scripting a flow through your site and watch the video recording of this afterwards on various devices.</p>
                    <p>You can also do manual testing with your site.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="device-anywhere">Device Anywhere</h2>
                    <p>Unlike BrowserStack and SauceLabs, <a href="http://www.keynote.com/solutions/testing/mobile-testing">Device Anywhere (commercial)</a> doesn’t use emulators, it uses real devices which you can control remotely.</p>
                    <p>This is very useful in the event where you need to reproduce a problem on a specific device and can’t see the bug on any of the options in the previous guides.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Test Against Mobile Network Conditions</h2>
                    <p>It’s easy to overlook the network conditions your users will face on mobile. Use tools to emulate different network conditions, fix up any load time issues and your users will thank you.</p>
                    <p>If you’re running Google Chrome, you can use the <a href="https://developer.chrome.com/devtools/docs/device-mode#network-conditions">Network Conditioning</a> feature offered by the DevTools.</p>
                    <p>If you’re on a Mac, try out the Network Link Conditioner tool found in the Lion Developer Tools.</p>
                    <p>This can be installed by doing the following:</p>
                    <p>After installation, the panel will open and you’ll see a drop-down listing a number of preconfigured network scenarios including 3G and EDGE. Select one, turn the tool on and your connection to the internet will be the selected speed, meaning you’ll be able to test for different network types.</p>
                    <p><img alt="OS X Network Panel" src="https://developers.google.com/web/fundamentals/tools/test/imgs/network-panel.png" />
                    </p>
                </section>
                <section>
                    <p>On Windows, options also include <a href="http://www.telerik.com/fiddler">Fiddler</a> and <a href="http://www.charlesproxy.com/">Charles</a>, an HTTP proxy which can throttle your connection speeds. These are the network characteristics you can simulate:</p>
                    <p><img alt="Throttling for other platforms" src="https://developers.google.com/web/fundamentals/tools/test/imgs/throttling.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2>Test Your Deployed Site</h2>
                    <p>Once your site is deployed, check that your site is performing and acting as you'd expect.</p>
                    <p>Running your site through these online tools gives you an overview of where your site can be improved as well as an indication as to what your users are experiencing when landing on your page.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="pagespeed-insights">PageSpeed Insights</h2>
                    <p>PageSpeed Insights is a tool which gives you a list of optimisations you can make to your site to improve page load time and highlights any common design problems to improve the user experience.</p>
                    <p>You should be aiming for 100/100 for the user experience score and over 85/100 for speed.</p>
                    <p>The speed problems will generally fall into categories which can be solved at build time using Grunt or Gulp, or problems which can be fixed with server configuration changes. The server changes will often be a small amount of work for big gains for the user.</p>
                    <p><img alt="PageSpeed Insights Example" src="https://developers.google.com/web/fundamentals/tools/test/imgs/pagespeed-insights.png" />
                    </p>
                </section>
                <section>
                    <p>To see how the Grunt and Gulp tasks can be used to improve your PageSpeed score, <a href="https://www.youtube.com/watch?v=pNKnhBIVj4w">check out this video</a>.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="webpagetestorg">WebPageTest.org</h2>
                    <p>You might want to think of WebPageTest as being the advanced version of PageSpeed Insights.</p>
                    <p><a href="http://webpagetest.org">WebPageTest.org</a> is a fantastic tool for testing your site’s performance, testing over multiple runs where you can define the network speed, location of request and even the see the performance of a repeat view.</p>
                    <p>One of the main metrics to look for is the <code>Speed Index</code> and you want to aim for a score of less than 1000.</p>
                    <p><img alt="Web PageTest Example" src="https://developers.google.com/web/fundamentals/tools/test/imgs/webpagetest.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="ssllabs">SSLLabs</h2>
                    <p>If you have SSL set-up, <a href="https://www.ssllabs.com/ssltest/">Qualys’s SSLLabs Test</a> checks your site and checks for common problems, including the selection of ciphers and any missing headers that can help with performance.</p>
                    <p><img alt="Qualys SSLLabs Example" src="https://developers.google.com/web/fundamentals/tools/test/imgs/qualsys-ssllabs.png" />
                    </p>
                </section>

            </section>
            <section>
                <h1>Principles of Site Design</h1>
            </section>
            <section>
                <section>
                    <h2>Keep Calls To Action Front and Center</h2>
                    <p>It can be easy for mobile users to miss menu items, so always put your key calls-to-action where you know users will see them.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/principles/research-study.html">Study participants</a> had the easiest time completing tasks on sites that clearly displayed primary calls-to-action in the main body of the site, with secondary tasks available through menus or below the fold. Your mobile calls-to-action will probably be different than on desktop, put yourself in your users’ shoes when determining placement.</p>
                    <p>When users get to a site, they typically have a particular task in mind. The site on the left only offers users a Learn more button, while on the right, users are able to quickly get a quote, find a local agent, make a payment or log in.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Keep Menus Short and Sweet</h2>
                    <p>An extensive menu might work well for your desktop site, but mobile users won't have the patience to scroll through a long list of options to try and find what they want. Consider how you can present the fewest menu items possible.</p>
                    <p>Macy’s, a major department store refined the product categories on its mobile site, presenting study participants with a shorter, more clearly-defined list than on desktop.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Make It Easy To Get To The Home Page</h2>
                    <p>When mobile users navigate through your site, they want an easy way to get back to your initial homepage.</p>
                    <p>For example, they may want to get back to do another search or start a new browse experience.</p>
                    <p>Users expect tapping the logo at the top of a page to take them back to the homepage, and <a href="https://developers.google.com/web/fundamentals/principles/research-study.html">study participants</a> became frustrated if it didn’t work.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Don't let promotions steal the show</h2>
                    <p>Promotions and ads can overshadow the content they're next to, and make it harder for users to accomplish tasks.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/principles/research-study.html">Participants</a> visiting one company’s mobile site were distracted by a large promotional banner and missed the navigational buttons beneath it, making it hard for them to learn more about the company’s offerings.</p>
                    <p>For app promotions, use easily dismissible banners, which were preferred by study participants; as opposed to large interstitials (also known as door slams).</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Site Search</h2>
                </section>
                <section>
                    <p>Site search is vital for helping mobile users find what they're looking for in a hurry.</p>

                    <ul>
                        <li>Place your site search near the top of your homepage via an open text field.</li>
                        <li>Make sure your site search returns the strongest results first, and implement smart-search features like autocomplete and spelling corrections.</li>
                        <li>Offer filters to help users get what they need from search, but make sure users can't filter a search to return zero results.</li>
                        <li>If your offerings can be easily narrowed by segment, asking a few questions upfront helps ensure visitors see relevant results.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="make-site-search-visible">Make site search visible</h2>
                    <p>Users looking for specific information usually turn to search - so search should be one of the first things mobile users see on your site, avoid hiding it behind a menu. In the <a href="https://developers.google.com/web/fundamentals/principles/research-study.html">study</a>, participants responded best to easily-visible, open text search boxes at the top of a page.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="ensure-site-search-results-are-relevant">Ensure site search results are relevant</h2>
                    <p>Search should be smart, providing users with the best and most relevant results so they don’t have to swipe through multiple pages of results. Make life easier for users with smart-search features like autocomplete, corrected misspellings and suggesting search terms or providing related matches.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/principles/research-study.html">Participants</a> didn’t bother to swipe through multiple pages of search results. Instead, they judged a site’s search based on the results it returned first, so make sure your first page of search results are the strongest.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="implement-filters-to-narrow-results">Implement filters to narrow results</h2>
                    <p>Provide easy to use filters to help narrow the search results to more relevant results for users. <a href="https://developers.google.com/web/fundamentals/principles/research-study.html">Participants</a> relied on filters to narrow down search results, and actually abandoned sites that couldn’t reduce volume. However, you also need to ensure users don’t filter themselves into a box - one car dealer site allowed participants to specify configurations that didn’t actually exist. Help users avoid problems by letting them know how many results will be returned with a particular filter applied.</p>
                    <p>Don’t bury the filters at the bottom of the page where users have to scroll to the end of the result set before they can begin to filter what they’re looking for.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="guide-users-to-better-site-search-results">Guide users to better site search results</h2>
                    <p>For sites that serve diverse customer segments, it can be helpful to ask users a few questions before they search to ensure they get results from the most relevant content segment.</p>
                    <p>For example, a large shoe retailer began its mobile searches by having participants select the gender and size of shoe they were looking for.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Site Search</h2>
                </section>
                <section>
                    <p>Site search is vital for helping mobile users find what they're looking for in a hurry.</p>

                    <ul>
                        <li>Place your site search near the top of your homepage via an open text field.</li>
                        <li>Make sure your site search returns the strongest results first, and implement smart-search features like autocomplete and spelling corrections.</li>
                        <li>Offer filters to help users get what they need from search, but make sure users can't filter a search to return zero results.</li>
                        <li>If your offerings can be easily narrowed by segment, asking a few questions upfront helps ensure visitors see relevant results.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="make-site-search-visible">Make site search visible</h2>
                    <p>Users looking for specific information usually turn to search - so search should be one of the first things mobile users see on your site, avoid hiding it behind a menu. In the <a href="https://developers.google.com/web/fundamentals/principles/research-study.html">study</a>, participants responded best to easily-visible, open text search boxes at the top of a page.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="ensure-site-search-results-are-relevant">Ensure site search results are relevant</h2>
                    <p>Search should be smart, providing users with the best and most relevant results so they don’t have to swipe through multiple pages of results. Make life easier for users with smart-search features like autocomplete, corrected misspellings and suggesting search terms or providing related matches.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/principles/research-study.html">Participants</a> didn’t bother to swipe through multiple pages of search results. Instead, they judged a site’s search based on the results it returned first, so make sure your first page of search results are the strongest.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="implement-filters-to-narrow-results">Implement filters to narrow results</h2>
                    <p>Provide easy to use filters to help narrow the search results to more relevant results for users. <a href="https://developers.google.com/web/fundamentals/principles/research-study.html">Participants</a> relied on filters to narrow down search results, and actually abandoned sites that couldn’t reduce volume. However, you also need to ensure users don’t filter themselves into a box - one car dealer site allowed participants to specify configurations that didn’t actually exist. Help users avoid problems by letting them know how many results will be returned with a particular filter applied.</p>
                    <p>Don’t bury the filters at the bottom of the page where users have to scroll to the end of the result set before they can begin to filter what they’re looking for.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="guide-users-to-better-site-search-results">Guide users to better site search results</h2>
                    <p>For sites that serve diverse customer segments, it can be helpful to ask users a few questions before they search to ensure they get results from the most relevant content segment.</p>
                    <p>For example, a large shoe retailer began its mobile searches by having participants select the gender and size of shoe they were looking for.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Site Search</h2>
                </section>
                <section>
                    <p>Site search is vital for helping mobile users find what they're looking for in a hurry.</p>

                    <ul>
                        <li>Place your site search near the top of your homepage via an open text field.</li>
                        <li>Make sure your site search returns the strongest results first, and implement smart-search features like autocomplete and spelling corrections.</li>
                        <li>Offer filters to help users get what they need from search, but make sure users can't filter a search to return zero results.</li>
                        <li>If your offerings can be easily narrowed by segment, asking a few questions upfront helps ensure visitors see relevant results.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="make-site-search-visible">Make site search visible</h2>
                    <p>Users looking for specific information usually turn to search - so search should be one of the first things mobile users see on your site, avoid hiding it behind a menu. In the <a href="https://developers.google.com/web/fundamentals/principles/research-study.html">study</a>, participants responded best to easily-visible, open text search boxes at the top of a page.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="ensure-site-search-results-are-relevant">Ensure site search results are relevant</h2>
                    <p>Search should be smart, providing users with the best and most relevant results so they don’t have to swipe through multiple pages of results. Make life easier for users with smart-search features like autocomplete, corrected misspellings and suggesting search terms or providing related matches.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/principles/research-study.html">Participants</a> didn’t bother to swipe through multiple pages of search results. Instead, they judged a site’s search based on the results it returned first, so make sure your first page of search results are the strongest.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="implement-filters-to-narrow-results">Implement filters to narrow results</h2>
                    <p>Provide easy to use filters to help narrow the search results to more relevant results for users. <a href="https://developers.google.com/web/fundamentals/principles/research-study.html">Participants</a> relied on filters to narrow down search results, and actually abandoned sites that couldn’t reduce volume. However, you also need to ensure users don’t filter themselves into a box - one car dealer site allowed participants to specify configurations that didn’t actually exist. Help users avoid problems by letting them know how many results will be returned with a particular filter applied.</p>
                    <p>Don’t bury the filters at the bottom of the page where users have to scroll to the end of the result set before they can begin to filter what they’re looking for.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="guide-users-to-better-site-search-results">Guide users to better site search results</h2>
                    <p>For sites that serve diverse customer segments, it can be helpful to ask users a few questions before they search to ensure they get results from the most relevant content segment.</p>
                    <p>For example, a large shoe retailer began its mobile searches by having participants select the gender and size of shoe they were looking for.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Site Search</h2>
                </section>
                <section>
                    <p>Site search is vital for helping mobile users find what they're looking for in a hurry.</p>

                    <ul>
                        <li>Place your site search near the top of your homepage via an open text field.</li>
                        <li>Make sure your site search returns the strongest results first, and implement smart-search features like autocomplete and spelling corrections.</li>
                        <li>Offer filters to help users get what they need from search, but make sure users can't filter a search to return zero results.</li>
                        <li>If your offerings can be easily narrowed by segment, asking a few questions upfront helps ensure visitors see relevant results.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="make-site-search-visible">Make site search visible</h2>
                    <p>Users looking for specific information usually turn to search - so search should be one of the first things mobile users see on your site, avoid hiding it behind a menu. In the <a href="https://developers.google.com/web/fundamentals/principles/research-study.html">study</a>, participants responded best to easily-visible, open text search boxes at the top of a page.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="ensure-site-search-results-are-relevant">Ensure site search results are relevant</h2>
                    <p>Search should be smart, providing users with the best and most relevant results so they don’t have to swipe through multiple pages of results. Make life easier for users with smart-search features like autocomplete, corrected misspellings and suggesting search terms or providing related matches.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/principles/research-study.html">Participants</a> didn’t bother to swipe through multiple pages of search results. Instead, they judged a site’s search based on the results it returned first, so make sure your first page of search results are the strongest.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="implement-filters-to-narrow-results">Implement filters to narrow results</h2>
                    <p>Provide easy to use filters to help narrow the search results to more relevant results for users. <a href="https://developers.google.com/web/fundamentals/principles/research-study.html">Participants</a> relied on filters to narrow down search results, and actually abandoned sites that couldn’t reduce volume. However, you also need to ensure users don’t filter themselves into a box - one car dealer site allowed participants to specify configurations that didn’t actually exist. Help users avoid problems by letting them know how many results will be returned with a particular filter applied.</p>
                    <p>Don’t bury the filters at the bottom of the page where users have to scroll to the end of the result set before they can begin to filter what they’re looking for.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="guide-users-to-better-site-search-results">Guide users to better site search results</h2>
                    <p>For sites that serve diverse customer segments, it can be helpful to ask users a few questions before they search to ensure they get results from the most relevant content segment.</p>
                    <p>For example, a large shoe retailer began its mobile searches by having participants select the gender and size of shoe they were looking for.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Let users explore before they commit</h2>
                    <p>Requiring login or account creation too early in a site experience can be detrimental to conversion.</p>
                    <p>In a <a href="https://developers.google.com/web/fundamentals/principles/">research study</a>, participants became frustrated by sites that demanded registration in order to continue - especially if the site was an unfamiliar brand. While getting access to customer information may be integral to your business, asking for it too early may result in fewer registrations, so don’t ask for it too early.</p>
                    <p>Before offering their personal information, users want to browse content and get a sense of what a site has to offer. In the study, many of the sites that participants rated the lowest were those where they were forced to create an account upfront in order to continue.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Let users purchase as a guest</h2>
                    <p>Offer the option to check out as a guest, and encourage registration with tangible benefits.</p>
                    <p>In a <a href="https://developers.google.com/web/fundamentals/principles/">research study</a>, participants didn’t necessarily want to commit to creating an account with the retailer. Participants described the guest checkout as <b>“convenient”</b>, <b>“simple”</b>, and <b>“easy [and] quick”</b>. They were annoyed at a site that required registration to purchase, especially since the site didn’t explain how registration would benefit them.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Use existing information to maximize convenience</h2>
                    <p>Take advantage of information you already have, and/or use third-party payment services to make conversion as easy as possible.</p>
                    <p>For your registered users, remember and pre-fill their preferences. For new users, offer a third-party checkout service they may already use. Several retail sites in the study offered third-party payment services as an option, reducing purchasing friction for users of those services and allowing the site to prefill shipping info.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Click to call</h2>
                </section>
                <section>
                    <p>On devices with phone capabilities, make it easy for users to directly connect with you by simply tapping a phone number, more commonly known as click to call.</p>

                    <ul>
                        <li>Wrap all phone numbers in hyperlinks with the <code>tel:</code> schema.</li>
                        <li>Always use the international dialing format.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="link-telephone-numbers-for-click-to-call">Link telephone numbers for click to call</h2>
                    <p>While many modern mobile browsers will automatically detect phone numbers and convert them to links, it’s a good idea to do this directly in your code. By manually tagging each phone number, you can ensure phone numbers are always enabled for click to call and that they will be styled to match your site.</p>
                    <p>To mark a phone number as a link, use the <code>tel:</code> scheme. The syntax is simple:</p><pre><code data-lang="html">NIST Telephone Time-of-Day Service &lt;a href="tel:+1-303-499-7111"&gt;+1 (303) 499-7111&lt;/a&gt;</code></pre>
                </section>
                <section>
                    <p>Results in:</p>
                    <p>NIST Telephone Time-of-Day Service <a href="tel:+1-303-499-7111">+1 (303) 499-7111</a>
                    </p>
                    <p><img alt="Click to call example." src="https://developers.google.com/web/fundamentals/device-access/click-to-call/images/click-to-call_framed.jpg" />
                    </p>
                </section>
                <section>
                    <p>On most devices with telephone capabilities, the user will receive a confirmation before the number is dialed, to ensure users are not being tricked into calling expensive long distance or premium phone numbers. When the device doesn’t support phone calls, users may be presented with a menu allowing them to choose how the browser should handle the number.</p>
                    <p>Desktop browsers that don’t support voice calls will open the default telephony app on the computer, for example Google Voice or Microsoft Communicator.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="use-the-international-dialing-format">Use the international dialing format</h2>
                    <p>Always supply the phone number using the international dialing format: the plus sign (+), country code, area code and number. While not absolutely necessary, it’s a good idea to separate each segment of the number with a hyphen (-) for easier reading and better auto-detection.</p>
                    <p>Using a hyphenated international dialing format ensures that no matter where the user is calling from, whether a few hundred meters away or thousands of kilometers, their call will be connected.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="disable-auto-detection-when-necessary">Disable auto-detection when necessary</h2>
                    <p>Modern mobile browsers will automatically detect phone numbers and enable click to call. Mobile Safari automatically converts phone numbers to links with the associated hyperlink styles. Chrome for Android will automatically detect phone numbers and will allow users to click to call, but does not wrap them in hyperlinks or apply any special styles.</p>
                    <p>To prevent Mobile Safari from automatically detecting phone numbers, add the following meta tag to the top of the page:</p><pre><code data-lang="html">&lt;meta name="format-detection" content="telephone=no"&gt;</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="other-click-to-call-features">Other click to call features</h2>
                    <p>In addition to the <code>tel:</code> schema, some modern browsers also support the <code>sms:</code> and <code>mms:</code> schemas, though support is not as consistent, and some features like setting the message body don’t always work.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Make it easy to finish on another device</h2>
                    <p>Offer an easy way to save or share information across devices, for example provide a way for users to share items across social networks or to email a link directly within the site itself.</p>
                    <p>There are many reasons a user might want to finish a task on another device, perhaps to see it on a bigger screen, or they get distracted and want to pick it up later. For instance, a career site allowed participants to email themselves jobs to apply for later.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Choose the best input type</h2>
                </section>
                <section>
                    <p>Streamline information entry by using the right input type. Users appreciate websites that automatically present number pads for entering phone numbers, or automatically advance fields as they entered them. Look for opportunities to eliminate wasted taps in your forms.</p>

                    <ul>
                        <li>Choose the most appropriate input type for your data to simplify input.</li>
                        <li>Offer suggestions as the user types with the <code>datalist</code> element.</li>
                    </ul>
                </section>
                <section>
                    <p>HTML5 introduced a number of new input types. These new input types give hints to the browser about what type of keyboard layout to display for on-screen keyboards. Users are more easily able to enter the required information without having to change their keyboard and only see the appropriate keys for that input type.</p>
                    <p>The <code>datalist</code> element isn’t an input type, but a list of suggested input values to associated with a form field. It lets the browser suggest autocomplete options as the user types. Unlike select elements where users must scan long lists to find the value they’re looking for, and limiting them only to those lists, <code>datalist</code> element provides hints as the user types.</p><pre>    &lt;label for="frmFavChocolate"&gt;Favorite Type of Chocolate&lt;/label&gt;
    &lt;input type="text" name="fav-choc" id="frmFavChocolate" list="chocType"&gt;
    &lt;datalist id="chocType"&gt;
      &lt;option value="white"&gt;
      &lt;option value="milk"&gt;
      &lt;option value="dark"&gt;
    &lt;/datalist&gt;
    
</pre>
                </section>

                <section>
                    <p>Remember</p>
                    <ul>
                        <li>The <code>datalist</code> values are provided as suggestions, and users are not restricted to the suggestions provided.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2>Choose the best input type</h2>
                </section>
                <section>
                    <p>Streamline information entry by using the right input type. Users appreciate websites that automatically present number pads for entering phone numbers, or automatically advance fields as they entered them. Look for opportunities to eliminate wasted taps in your forms.</p>

                    <ul>
                        <li>Choose the most appropriate input type for your data to simplify input.</li>
                        <li>Offer suggestions as the user types with the <code>datalist</code> element.</li>
                    </ul>
                </section>
                <section>
                    <p>HTML5 introduced a number of new input types. These new input types give hints to the browser about what type of keyboard layout to display for on-screen keyboards. Users are more easily able to enter the required information without having to change their keyboard and only see the appropriate keys for that input type.</p>
                    <p>The <code>datalist</code> element isn’t an input type, but a list of suggested input values to associated with a form field. It lets the browser suggest autocomplete options as the user types. Unlike select elements where users must scan long lists to find the value they’re looking for, and limiting them only to those lists, <code>datalist</code> element provides hints as the user types.</p><pre>    &lt;label for="frmFavChocolate"&gt;Favorite Type of Chocolate&lt;/label&gt;
    &lt;input type="text" name="fav-choc" id="frmFavChocolate" list="chocType"&gt;
    &lt;datalist id="chocType"&gt;
      &lt;option value="white"&gt;
      &lt;option value="milk"&gt;
      &lt;option value="dark"&gt;
    &lt;/datalist&gt;
    
</pre>
                </section>

                <section>
                    <p>Remember</p>
                    <ul>
                        <li>The <code>datalist</code> values are provided as suggestions, and users are not restricted to the suggestions provided.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2>Design efficient forms</h2>
                </section>
                <section>
                    <p>Design efficient forms by avoiding repeated actions, asking for only the necessary information and guide users by showing them how far along they are in multi-part forms.</p>

                    <ul>
                        <li>Use existing data to pre-populate fields and be sure to enable auto-fill.</li>
                        <li>Use clearly-labeled progress bars to help users get through multi-part forms.</li>
                        <li>Provide visual calendar so users don’t have to leave your site and jump to the calendar app on their smartphones.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="minimize-repeated-actions-and-fields">Minimize repeated actions and fields</h2>
                    <p>Make sure your forms have no repeated actions, only as many fields as necessary, and take advantage of <a href="https://developers.google.com/web/fundamentals/input/form/label-and-name-inputs.html#use-metadata-to-enable-auto-complete">autofill</a>, so that users can easily complete forms with pre-populated data.</p>
                    <p>Look for opportunities to pre-fill information you already know, or may anticipated to save the user from having to provide it. For example, pre-populate the shipping address with the last shipping address supplied by the user.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="show-users-how-far-along-they-are">Show users how far along they are</h2>
                    <p>Progress bars and menus should accurately convey overall progress through multi-step forms and processes.</p>
                    <p>If you place a disproportionately complex form in an earlier step, users are more likely to abandon your site before they go through the entire process.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="provide-visual-calendars-when-selecting-dates">Provide visual calendars when selecting dates</h2>
                    <p>Users often need more context when scheduling appointments and travel dates, to make things easier and prevent them from leaving your site to check their calendar app, provide a visual calendar with clear labeling for selecting start and end dates.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Label and name inputs properly</h2>
                </section>
                <section>
                    <p>Forms are hard to fill out on mobile. The best forms are the ones with the fewest inputs. Good forms provide semantic input types. Keys should change to match the user's input type; users pick a date in a calendar. Keep your user informed. Validation tools should tell the user what they need to do before submitting the form.</p>

                    <ul>
                        <li>Always use <code>label</code>s on form inputs, and ensure they're visible when the field is in focus.</li>
                        <li>Use <code>placeholder</code>s to provide guidance about what you expect.</li>
                        <li>To help the browser auto-complete the form, use established <code>name</code>'s for elements and include the <code>autocomplete</code> attribute.</li>
                    </ul>
                </section>
                <section>
                    <p>The <code>label</code> element provides direction to the user, telling them what information is needed in a form element. Each <code>label</code> is associated with an input element by placing it inside the <code>label</code> element, or by using the “<code>for</code>” attribute. Applying labels to form elements also helps to improve the touch target size: the user can touch either the label or the input in order to place focus on the input element.</p><pre>    &lt;label for="frmAddressS"&gt;Address&lt;/label&gt;
    &lt;input type="text" name="ship-address" required id="frmAddressS"
      placeholder="123 Any Street" autocomplete="shipping street-address"&gt;
    
</pre>
                </section>
                <section>
                    <p>Labels and inputs should be large enough to be easy to press. In portrait viewports, field labels should be above input elements, and beside them in landscape. Ensure field labels and the corresponding input boxes are visible at the same time. Be careful with custom scroll handlers that may scroll input elements to the top of the page hiding the label, or labels placed below input elements may be covered by the virtual keyboard.</p>
                    <p>The placeholder attribute provides a hint to the user about what’s expected in the input, typically by displaying the value as light text until the the user starts typing in the element.</p>
                    <p>
                        <input placeholder="MM-YYYY" />
                    </p><pre><code data-lang="html">&lt;input type="text" placeholder="MM-YYYY" ...&gt;</code></pre>
                </section>

                <section>
                    <p>Remember</p>
                    <ul>
                        <li>Placeholders disappear as soon as the user starts typing in an element, thus they are not a replacement for labels. They should be used as an aid to help guide users on the required format and content.</li>
                    </ul>
                </section>
                <section>
                    <p>Users appreciate when websites save them time by automatically filling common fields like names, email addresses and other frequently used fields, plus it helps to reduce potential input errors – especially on virtual keyboards and small devices.</p>
                    <p>Browsers use many heuristics to determine which fields they can <a href="https://support.google.com/chrome/answer/142893">auto-populate</a> <a href="https://support.google.com/chrome/answer/142893">based on previously specified data by the user</a>, and you can give hints to the browser by providing both the name attribute and the autocomplete attribute on each input element.</p>
                    <p>For example, to hint to the browser that it should auto-complete the form with the users name, email address and phone number, you should use:</p><pre>    &lt;label for="frmNameA"&gt;Name&lt;/label&gt;
    &lt;input type="text" name="name" id="frmNameA"
    placeholder="Full name" required autocomplete="name"&gt;

    &lt;label for="frmEmailA"&gt;Email&lt;/label&gt;
    &lt;input type="email" name="email" id="frmEmailA"
      placeholder="name@example.com" required autocomplete="email"&gt;

    &lt;label for="frmEmailC"&gt;Confirm Email&lt;/label&gt;
    &lt;input type="email" name="emailC" id="frmEmailC"
      placeholder="name@example.com" required autocomplete="email"&gt;
    
    &lt;label for="frmPhoneNumA"&gt;Phone&lt;/label&gt;
    &lt;input type="tel" name="phone" id="frmPhoneNumA"
      placeholder="+1-555-555-1212" required autocomplete="tel"&gt;
    
</pre>
                </section>
                <section>
                    <p>The <code>autocomplete</code> attributes should be prefixed with either <code>shipping</code> or <code>billing</code>, depending on the context.</p>
                </section>
                <section>
                    <p>Remember</p>
                    <ul>
                        <li>Auto-complete only works when the form method is post.</li>
                    </ul>
                </section>
                <section>
                    <p>On some forms, for example the Google home page where the only thing you want the user to do is fill out a particular field, you can add the <code>autofocus</code> attribute. When set, desktop browsers immediately move the focus to the input field, making it easy for users to quickly begin using the form. Mobile browsers ignore the <code>autofocus</code> attribute, to prevent the keyboard from randomly appearing.</p>
                    <p>Be careful using the autofocus attribute because it will steal keyboard focus and potentially preventing the backspace character from being used for navigation.</p><pre><code data-lang="html">&lt;input type="text" autofocus ...&gt;</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>Provide real-time validation</h2>
                </section>
                <section>
                    <p>Real-time data validation doesn't just help to keep your data clean, but it also helps improve the user experience. Modern browsers have several built-in tools to help provide real-time data validation and may prevent the user from submitting an invalid form. Visual cues should be used to indicate whether a form has been completed properly.</p>

                    <ul>
                        <li>Leverage the browser's built-in validation attributes like <code>pattern</code>, <code>required</code>, <code>min</code>, <code>max</code>, etc.</li>
                        <li>Use JavaScript and the Constraints Validation API for more complex validation requirements.</li>
                        <li>Show validation errors in real time, and if the user tries to submit an invalid form, show all fields they need to fix.</li>
                    </ul>
                </section>
                <section>
                    <p>The <code>pattern</code> attribute specifies a <a href="http://en.wikipedia.org/wiki/Regular_expression">regular expression</a> used to validate an input field. For example, to validate a US Zip code (5 digits, sometimes followed by a dash and an additional 4 digits), we would set the <code>pattern</code> like this:</p><pre><code data-lang="html">&lt;input type="text" pattern="^\d{5,6}(?:[-\s]\d{4})?$" ...&gt;</code></pre>
                </section>
                <section>
                    <p>If the <code>required</code> attribute is present, then the field must contain a value before the form can be submitted. For example, to make the zip code required, we’d simply add the required attribute:</p><pre><code data-lang="html">&lt;input type="text" required pattern="^\d{5,6}(?:[-\s]\d{4})?$" ...&gt;</code></pre>
                </section>
                <section>
                    <p>For numeric input types like number or range as well as date/time inputs, you can specify the minimum and maximum values, as well as how much they should each increment/decrement when adjusted by the slider or spinners. For example, a shoe size input would set a minumum size of 1 and a maximum size 13, with a step of 0.5</p><pre><code data-lang="html">&lt;input type="number" min="1" max="13" step="0.5" ...&gt;</code></pre>
                </section>
                <section>
                    <p>The <code>maxlength</code> attribute can be used to specify the maximum length of an input or textbox and is useful when you want to limit the length of information that the user can provide. For example, if you want to limit a filename to 12 characters, you can use the following.</p><pre><code data-lang="html">&lt;input type="text" id="83filename" maxlength="12" ...&gt;</code></pre>
                </section>
                <section>
                    <p>In some cases, you may want to allow the user to submit the form even if it contains invalid input. To do this, add the <code>novalidate</code> attribute to the form element, or individual input fields. In this case, all pseudo classes and JavaScript APIs will still allow you to check if the form validates.</p><pre><code data-lang="html">&lt;form role="form" novalidate&gt;
  &lt;label for="inpEmail"&gt;Email address&lt;/label&gt;
  &lt;input type="email" ...&gt;
&lt;/form&gt;</code></pre>
                </section>

                <section>
                    <p>Remember</p>
                    <ul>
                        <li>Even with client-side input validation, it is always important to validate data on the server to ensure consistency and security in your data.</li>
                    </ul>
                </section>
                <section>
                    <p>When the built-in validation plus regular expressions aren’t enough, you can use the <a href="http://dev.w3.org/html5/spec-preview/constraints.html#constraint-validation">Constraint Validation API</a>, a powerful tool for handling custom validation. The API allows you to do things like set a custom error, check whether an element is valid, and determine the reason that an element is invalid:</p>
                    <p>If a field fails validation, use <code>setCustomValidity()</code> to mark the field invalid and explain why the field didn’t validate. For example, a sign up form might ask the user to confirm their email address by entering it twice. Use the blur event on the second input to validate the two inputs and set the appropriate response. For example:</p><pre>    if (input.value != primaryEmail) {
      // the provided value doesn't match the primary email address
      input.setCustomValidity('The two email addresses must match.');
      console.log("E-mail addresses do not match", primaryEmail, input.value);
    } else {
      // input is valid -- reset the error message
      input.setCustomValidity('');
    }
    
</pre>
                </section>
                <section>
                    <p>Because not all browsers will prevent the user from submitting the form if there is invalid data, you should catch the submit event, and use the <code>checkValidity()</code> on the form element to determine if the form is valid. For example:</p><pre>    form.addEventListener("submit", function(evt) {
      if (form.checkValidity() === false) {
        evt.preventDefault();
        alert("Form is invalid - submission prevented!");
        return false;
      } else {
        // To prevent data from being sent, we've prevented submission
        // here, but normally this code block would not exist.
        evt.preventDefault();
        alert("Form is valid - submission prevented to protect privacy.");
        return false;
      }
    });
    
</pre>
                </section>
                <section>
                    <p>It’s helpful to provide a visual indication on each field that indicates whether the user has completed the form properly before they’ve submitted the form. HTML5 also introduces a number of new pseudo-classes that can be used to style inputs based on their value or attributes.</p>
                    <p>Validation happens immediately which means that when the page is loaded, fields may be marked as invalid, even though the user hasn’t had a chance to fill them in yet. It also means that as the user types, and it’s possible they’ll see the invalid style while typing. To prevent this, you can combine the CSS with JavaScript to only show invalid styling when the user has visited the field.</p><pre>    input.dirty:not(:focus):invalid {
      background-color: #FFD9D9;
    }
    input.dirty:not(:focus):valid {
      background-color: #D9FFD9;
    }
    
</pre>
                </section>
                <section><pre>    var inputs = document.getElementsByTagName("input");
    var inputs_len = inputs.length;
    var addDirtyClass = function(evt) {
      sampleCompleted("Forms-order-dirty");
      evt.srcElement.classList.toggle("dirty", true);
    };
    for (var i = 0; i &lt; inputs_len; i++) {
      var input = inputs[i];
      input.addEventListener("blur", addDirtyClass);
      input.addEventListener("invalid", addDirtyClass);
      input.addEventListener("valid", addDirtyClass);
    }
    
</pre>
                </section>

                <section>
                    <p>Important</p>
                    <ul>
                        <li>You should show the user all of the issues on the form at once, rather than showing them one at a time.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2>Design efficient forms</h2>
                </section>
                <section>
                    <p>Design efficient forms by avoiding repeated actions, asking for only the necessary information and guide users by showing them how far along they are in multi-part forms.</p>

                    <ul>
                        <li>Use existing data to pre-populate fields and be sure to enable auto-fill.</li>
                        <li>Use clearly-labeled progress bars to help users get through multi-part forms.</li>
                        <li>Provide visual calendar so users don’t have to leave your site and jump to the calendar app on their smartphones.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="minimize-repeated-actions-and-fields">Minimize repeated actions and fields</h2>
                    <p>Make sure your forms have no repeated actions, only as many fields as necessary, and take advantage of <a href="https://developers.google.com/web/fundamentals/input/form/label-and-name-inputs.html#use-metadata-to-enable-auto-complete">autofill</a>, so that users can easily complete forms with pre-populated data.</p>
                    <p>Look for opportunities to pre-fill information you already know, or may anticipated to save the user from having to provide it. For example, pre-populate the shipping address with the last shipping address supplied by the user.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="show-users-how-far-along-they-are">Show users how far along they are</h2>
                    <p>Progress bars and menus should accurately convey overall progress through multi-step forms and processes.</p>
                    <p>If you place a disproportionately complex form in an earlier step, users are more likely to abandon your site before they go through the entire process.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="provide-visual-calendars-when-selecting-dates">Provide visual calendars when selecting dates</h2>
                    <p>Users often need more context when scheduling appointments and travel dates, to make things easier and prevent them from leaving your site to check their calendar app, provide a visual calendar with clear labeling for selecting start and end dates.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Responsive Web Design Basics</h2>
                    <p>The use of mobile devices to surf the web is growing at an astronomical pace, but unfortunately much of the web isn't optimized for those mobile devices. Mobile devices are often constrained by display size and require a different approach to how content is laid out on screen.</p>
                    <p>There is a multitude of different screen sizes across phones, “phablets”, tablets, desktops, game consoles, TVs, even wearables. Screen sizes will always be changing, so it’s important that your site can adapt to any screen size, today or in the future.</p>
                    <p>
                        <a href="http://googlesamples.github.io/web-fundamentals/samples/layouts/rwd-fundamentals/weather.html">
                            <video autoplay="" controls="" loop="">
                                <source src="videos/resize.webm" type="video/webm">
                                    <source src="videos/resize.mp4" type="video/mp4"></source>
                                </source>
                            </video>
                        </a>
                    </p>
                    <p>Responsive web design, originally defined by <a href="http://alistapart.com/article/responsive-web-design/">Ethan Marcotte in A List Apart</a> responds to the needs of the users and the devices they’re using. The layout changes based on the size and capabilities of the device. For example, on a phone, users would see content shown in a single column view; a tablet might show the same content in two columns.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Size content to the viewport</h2>
                </section>
                <section>
                    <p>On both desktop and mobile devices, users are used to scrolling websites vertically but not horizontally, and forcing the user to scroll horizontally or to zoom out in order to see the whole page results in a poor user experience.</p>

                    <ul>
                        <li>Do not use large fixed width elements.</li>
                        <li>Content should not rely on a particular viewport width to render well.</li>
                        <li>Use CSS media queries to apply different styling for small and large screens.</li>
                    </ul>
                </section>
                <section>
                    <p>When developing a mobile site with a <code>meta viewport</code> tag, it’s easy to accidentally create page content that doesn’t quite fit within the specified viewport. For example, an image that is displayed at a width wider than the viewport can cause the viewport to scroll horizontally. You should adjust this content to fit within the width of the viewport, so that the user does not need to scroll horizontally.</p>
                    <p>Since screen dimensions and width in CSS pixels vary widely between devices (e.g. between phones and tablets, and even between different phones), content should not rely on a particular viewport width to render well.</p>
                    <p>Setting large absolute CSS widths for page elements (such as the example below), will cause the <code>div</code> to be too wide for the viewport on a narrower device (e.g. a device with a width of 320 CSS pixels, such as an iPhone). Instead, consider using relative width values, such as <code>width: 100%</code>. Similarly, beware of using large absolute positioning values that may cause the element to fall outside the viewport on small screens.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Images in Markup</h2>
                </section>
                <section>
                    <p>The <code>img</code> element is powerful – it downloads, decodes and renders content – and modern browsers support a range of image formats. Including images that work across devices is no different than for desktop, and only requires a few minor tweaks to create a good experience.</p>

                    <ul>
                        <li>Use relative sizes for images to prevent them from accidentally overflowing the container.</li>
                        <li>Use the <code>picture</code> element when you want to specify different images depending on device characteristics (a.k.a. art direction).</li>
                        <li>Use <code>srcset</code> and the <code>x</code> descriptor in the <code>img</code> element to give hints to the browser about the best image to use when choosing from different densities.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="use-relative-sizes-for-images">Use relative sizes for images</h2>
                    <p>Remember to use relative units when specifying widths for images to prevent them from accidentally overflowing the viewport. For example, <code>width: 50%;</code>, will cause the image width to be 50% of the containing element (not the viewport or actual pixel size).</p>
                    <p>Because CSS allows content to overflow its container, it may be necessary use max-width: 100% to prevent images and other content from overflowing. For example:</p><pre><code data-lang="css">img, embed, object, video {
  max-width: 100%;
}</code></pre>
                </section>
                <section>
                    <p>Be sure to provide meaningful descriptions via the <code>alt</code> attribute on <code>img</code> elements; these help make your site more accessible by providing context to screen readers and other assistive technologies.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="enhance-imgs-with-srcset-for-high-dpi-devices">Enhance <code>img</code>’s with <code>srcset</code> for high DPI devices</h2>
                    <p>The <code>srcset</code> attribute enhances the behavior of the <code>img</code> element, making it easy to provide multiple image files for different device characteristics. Similar to the <code>image-set</code> <a href="https://developers.google.com/web/fundamentals/media/images/images-in-css.html#use-image-set-to-provide-high-res-images">CSS function</a> native to CSS, <code>srcset</code> allows the browser to choose the best image depending on the characteristics of the device, for example using a 2x image on a 2x display, and potentially in the future, a 1x image on a 2x device when on a limited bandwidth network.</p><pre><code data-lang="html">&lt;img src="photo.png" srcset="photo@2x.png 2x" ...&gt;</code></pre>
                </section>
                <section>
                    <p>On browsers that don’t support <code>srcset</code>, the browser simply uses the default image file specified by the <code>src</code> attribute. This is why it is important to always include a 1x image that can be displayed on any device, regardless of capabilities. When <code>srcset</code> is supported, the comma-separated list of image/conditions is parsed prior to making any requests, and only the most appropriate image is downloaded and displayed.</p>
                    <p>While the conditions can include everything from pixel density to width and height, only pixel density is well supported today. To balance current behavior with future features, stick with simply providing the 2x image in the attribute.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="art-direction-in-responsive-images-with-picture">Art direction in responsive images with <code>picture</code></h2>
                    <p>Changing images based on device characteristics, also known as art direction can be accomplished using the picture element. The <code>picture</code> element defines a declarative solution for providing multiple versions of an image based on different characteristics, like device size, device resolution, orientation, and more.</p>
                    <p><img alt="Art direction example" src="https://developers.google.com/web/fundamentals/media/images/img/art-direction.png" srcset="img/art-direction.png 1x, img/art-direction-2x.png 2x" />
                    </p>
                </section>

                <section>
                    <p>Important</p>
                    <ul>
                        <li>The <code>picture</code> element is beginning to land in browsers. Although it's not available in every browser yet, we recommend its use because of the strong backward compatibility and potential use of the <a href="http://picturefill.responsiveimages.org/">Picturefill polyfill</a>. See the <a href="http://responsiveimages.org/#implementation">ResponsiveImages.org</a> site for further details.</li>
                    </ul>
                </section>
                <section>
                    <p>The <code>picture</code> element should be used when an image source exists in multiple densities, or when a responsive design dictates a somewhat different image on some types of screens. Similar to the <code>video</code> element, multiple <code>source</code> elements can be included, making it possible to specify different image files depending on media queries or image format.</p><pre>    &lt;picture&gt;
      &lt;source media="(min-width: 800px)" srcset="head.jpg, head-2x.jpg 2x"&gt;
      &lt;source media="(min-width: 450px)" srcset="head-small.jpg, head-small-2x.jpg 2x"&gt;
      &lt;img src="head-fb.jpg" srcset="head-fb-2x.jpg 2x" &gt;
    &lt;/picture&gt;
    
</pre>
                </section>
                <section>
                    <p>In the above example, if the browser width is at least 800px, then either <code>head.jpg</code> or <code>head-2x.jpg</code> will be used, depending on the device resolution. If the browser is between 450px and 800px, then either <code>head-small.jpg</code> or <code>head-small-2x.jpg</code> will be used, again, depending on the device resolution. For screen widths less than 450px and backwards compatibility where the <code>picture</code> element isn’t supported, the browser will render the <code>img</code> element instead, and should always be included.</p>
                    <p>When the final size of the image isn’t known, it can be difficult to specify a density descriptor for the image sources. This is especially true for images that span a proportional width of the browser and are fluid, depending on the size of the browser.</p>
                    <p>Instead of supplying fixed image sizes and densities, the size of each supplied image can be specified by adding a width descriptor along with the size of the image element, allowing the browser to automatically calculate the effective pixel density and choose the best image to download.</p><pre>    &lt;img src="lighthouse-200.jpg" sizes="50vw"
         srcset="lighthouse-100.jpg 100w, lighthouse-200.jpg 200w,
                 lighthouse-400.jpg 400w, lighthouse-800.jpg 800w,
                 lighthouse-1000.jpg 1000w, lighthouse-1400.jpg 1400w,
                 lighthouse-1800.jpg 1800w"&gt;
    
</pre>
                </section>
                <section>
                    <p>The above example renders an image that is half of the viewport width (<code>sizes="50vw"</code>), and depending on the width of the browser and it’s device pixel ratio, allowing the browser to choose the correct image regardless of how large the browser window is. For example, the table below shows which image the browser would choose:</p>
                    <p>In many cases, the size or image may change depending on the site’s layout breakpoints. For example, on a small screen, you might want the image to span the full width of the viewport, while on larger screens, it should only take a small proportion.</p><pre>    &lt;img src="400.png"
         sizes="(min-width: 600px) 25vw, (min-width: 500px) 50vw, 100vw"
         srcset="100.png 100w, 200.png 200w, 400.png 400w,
                 800.png 800w, 1600.png 1600w, 2000.png 2000w"&gt;
    
</pre>
                </section>
                <section>
                    <p>The <code>sizes</code> attribute in the above example uses several media queries to specify the size of the image. When the browser width is greater than 600px, the image will be 25% of the viewport width, when it is between 500px and 600px, the image will be 50% of the viewport width, and below 500px, it will be full width.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="make-product-images-expandable">Make product images expandable</h2>
                    <p>Customers want to see what they’re buying. On retail sites, users expect to be able to view high resolution closeups of products to get a better look at details, and <a href="https://developers.google.com/web/fundamentals/principles/research-study.html">study participants</a> got frustrated if they weren’t able to.</p>
                    <p>A good example of tappable, expandable images is provided by the J. Crew site.
                        <br>An disappearing overlay indicates that an image is tappable, providing a zoomed in image with fine detail visible.</br>
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="other-image-techniques">Other image techniques</h2>
                    <p>The <a href="http://www.html5rocks.com/en/mobile/high-dpi/#toc-tech-overview">compressive image technique</a> serves a highly compressed 2x image to all devices, no matter the actual capabilities of the device. Depending on the type of image and level of compression, image quality may not appear to change, but the file size drops significantly.</p>
                    <p><a href="http://googlesamples.github.io/web-fundamentals/samples/media/images/compressive.html">See example</a>
                    </p>
                </section>
                <section>
                    <p>Important</p>
                    <ul>
                        <li>Use caution with the compressive technique because of the increased memory and decoding costs it requires. Resizing large images to fit on smaller screens is expensive and can be particularly painful on low-end devices where both memory and processing is limited.</li>
                    </ul>
                </section>
                <section>
                    <p>JavaScript image replacement checks the capabilities of the device and “does the right thing”. You can determine device pixel ratio via <code>window.devicePixelRatio</code>, get screen width and height, and even potentially do some network connection sniffing via <code>navigator.connection</code> or issuing a fake request. Once you’ve collected all of this information, you can decide which image to load.</p>
                    <p>One big drawback to this approach is that using JavaScript means that you will delay image loading until at least the look-ahead parser has finished. This means that images won’t even start downloading until after the <code>pageload</code> event fires. In addition, the browser will most likely download both the 1x and 2x images, resulting in increased page weight.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Tell users which orientation works best</h2>
                    <p>Design for both landscape and portrait, or encourage users to switch to the optimal screen orientation - but make sure your important calls-to-action can be completed even if they ignore the suggestion to switch.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/principles/research-study.html">Study participants</a> tended to stay in the same screen orientation until something prompted them to switch, like trying to read small type or watch a video.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Keep users in a single browser window</h2>
                    <p>Switching between windows on a smartphone can be troublesome, and raises the risk that visitors might not find their way back to your site.</p>
                    <p>Try to keep users in one place by avoiding calls-to-action that launch new windows.</p>
                    <p>For example, if you accept coupons, consider offering these on your site to avoid users opening new windows to search elsewhere. Consider other ways that might cause a user to to look outside your site and provide easy to use features to keep them on your site.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Avoid 'full site' labels</h2>
                    <p>If you provide a link on a page to a separate desktop experience, use terms like 'desktop' instead of 'full' to avoid confusion between what's available between the sites.</p>
                    <p>When <a href="https://developers.google.com/web/fundamentals/principles/research-study.html">study participants</a> saw an option for “full site” vs “mobile site”, they assumed the mobile site was condensed and chose the full site instead. One participant preferred the desktop site because it had “so much more information” - even though the mobile and desktop sites had the same content.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Getting the user to consent to location sharing</h2>
                    <p>As a web developer, having access to the user's location opens up a huge number of possibilities such as advanced filtering, pinpointing the user on a map, and offering pro-active suggestions on things the user can do based on their current position.</p>
                    <p>As a user, your physical location is a piece of information you want to guard and only give out to people that you trust. This is why the browser shows a prompt when a site asks for your location.</p>
                </section>
                <section>
                    <p>Recent user studies <a href="http://static.googleusercontent.com/media/www.google.com/en/us/intl/ALL_ALL/think/multiscreen/pdf/multi-screen-moblie-whitepaper_research-studies.pdf">have shown</a> that users are distrustful of sites that simply prompt the user to give away their position on page load. So what are the best practices?</p>

                    <ul>
                        <li>Assume users will not give you their location.</li>
                        <li>Make it clear why you need access to the user's location.</li>
                        <li>Don't immediately prompt for access on page load.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="assume-users-will-not-give-you-their-location">Assume users will not give you their location</h2>
                    <p>It might be a pain, but many of your users will not want to give you their location so you need to adopt a defensive development style.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="use-a-fallback-if-geolocation-is-required">Use a fallback if geolocation is required</h2>
                    <p>Our recommendation is to not tie your site or application in to requiring access to the user’s current location, but if your application or site absolutely requires it there are 3rd party solutions that allow you to obtain a best guess of where the person currently is.</p>
                    <p>These solutions often work by looking at the user’s IP address and mapping that to the physical addresses registered with the RIPE database. These locations are often not very accurate normally giving you a position of the nearest telecommunications hub to the user, or the nearest cell phone tower. In many cases, they might not even be that accurate, especially if the user is on VPN or some other proxy service.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="always-request-access-to-location-on-a-user-gesture">Always request access to location on a user gesture</h2>
                    <p>Make sure users understand why you’re asking for their location, and what the benefit to them will be. Asking for it immediately on the homepage as the site loads results in a poor user experience.</p>
                    <p>Instead you should give the user a clear call-to-action or an indication that an operation will require access to their location. The user will then be able to more easily associate the system prompt for access with the action just initiated.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="give-clear-indication-that-an-action-will-request-their-location">Give clear indication that an action will request their location</h2>
                    <p><a href="http://static.googleusercontent.com/media/www.google.com/en/us/intl/ALL_ALL/think/multiscreen/pdf/multi-screen-moblie-whitepaper_research-studies.pdf">In a study by the Google Ads team</a>, when a user was asked to book a hotel room in Boston for an upcoming conference on one particular hotels site, they were prompted to share their GPS location immediately after tapping the ‘Find and Book’ call-to-action on the homepage.</p>
                    <p>In some cases, the user became frustrated because they struggled to understand why they were being shown hotels in San Francisco when they wanted to book a room in Boston.</p>
                    <p>A better experience is to make sure users understands why you’re asking them for location. Add in a well known signifier that is common across devices, such as range finder.</p>
                    <p><img src="https://developers.google.com/web/fundamentals/device-access/user-location/images/indication.png" />
                    </p>
                </section>
                <section>
                    <p>Or consider a very explicit call to action such as “Find Near Me.”</p>
                    <p><img src="https://developers.google.com/web/fundamentals/device-access/user-location/images/nearme.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="gently-nudge-users-to-grant-permission-to-their-location">Gently nudge users to grant permission to their location</h2>
                    <p>You don’t have access to any of the steps of what users are doing. You know exactly when the users disallow access to their location, but you don’t know when they grant you access; you only know you obtained access when results appear.</p>
                    <p>It is good practice to “tickle” the user into action if you need them to complete the action.</p>
                    <p>We recommend:</p><pre><code data-lang="javascript">button.onclick = function() {
  var startPos;
  var element = document.getElementById("nudge");

  var showNudgeBanner = function() {
    nudge.style.display = "block";
  };

  var hideNudgeBanner = function() {
    nudge.style.display = "none";
  };

  var nudgeTimeoutId = setTimeout(showNudgeBanner, 5000);

  var geoSuccess = function(position) {
    hideNudeBanner();
    // We have the location, don't display banner
    clearTimeout(nudgeTimeoutId); 

    // Do magic with location
    startPos = position;
    document.getElementById('startLat').innerHTML = startPos.coords.latitude;
    document.getElementById('startLon').innerHTML = startPos.coords.longitude;
  };
  var geoError = function(error) {
    switch(error.code) {
      case error.TIMEOUT:
        // The user didn't accept the callout
        showNudgeBanner();
        break;
  };

  navigator.geolocation.getCurrentPosition(geoSuccess, geoError);
};</code></pre>
                </section>

            </section>
            <section>
                <h1>Multi-Device Layouts</h1>
            </section>
            <section>
                <section>
                    <h2>Tell users which orientation works best</h2>
                    <p>Design for both landscape and portrait, or encourage users to switch to the optimal screen orientation - but make sure your important calls-to-action can be completed even if they ignore the suggestion to switch.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/principles/research-study.html">Study participants</a> tended to stay in the same screen orientation until something prompted them to switch, like trying to read small type or watch a video.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Avoid 'full site' labels</h2>
                    <p>If you provide a link on a page to a separate desktop experience, use terms like 'desktop' instead of 'full' to avoid confusion between what's available between the sites.</p>
                    <p>When <a href="https://developers.google.com/web/fundamentals/principles/research-study.html">study participants</a> saw an option for “full site” vs “mobile site”, they assumed the mobile site was condensed and chose the full site instead. One participant preferred the desktop site because it had “so much more information” - even though the mobile and desktop sites had the same content.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Keep Calls To Action Front and Center</h2>
                    <p>It can be easy for mobile users to miss menu items, so always put your key calls-to-action where you know users will see them.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/principles/research-study.html">Study participants</a> had the easiest time completing tasks on sites that clearly displayed primary calls-to-action in the main body of the site, with secondary tasks available through menus or below the fold. Your mobile calls-to-action will probably be different than on desktop, put yourself in your users’ shoes when determining placement.</p>
                    <p>When users get to a site, they typically have a particular task in mind. The site on the left only offers users a Learn more button, while on the right, users are able to quickly get a quote, find a local agent, make a payment or log in.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Keep Menus Short and Sweet</h2>
                    <p>An extensive menu might work well for your desktop site, but mobile users won't have the patience to scroll through a long list of options to try and find what they want. Consider how you can present the fewest menu items possible.</p>
                    <p>Macy’s, a major department store refined the product categories on its mobile site, presenting study participants with a shorter, more clearly-defined list than on desktop.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Make It Easy To Get To The Home Page</h2>
                    <p>When mobile users navigate through your site, they want an easy way to get back to your initial homepage.</p>
                    <p>For example, they may want to get back to do another search or start a new browse experience.</p>
                    <p>Users expect tapping the logo at the top of a page to take them back to the homepage, and <a href="https://developers.google.com/web/fundamentals/principles/research-study.html">study participants</a> became frustrated if it didn’t work.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Don't let promotions steal the show</h2>
                    <p>Promotions and ads can overshadow the content they're next to, and make it harder for users to accomplish tasks.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/principles/research-study.html">Participants</a> visiting one company’s mobile site were distracted by a large promotional banner and missed the navigational buttons beneath it, making it hard for them to learn more about the company’s offerings.</p>
                    <p>For app promotions, use easily dismissible banners, which were preferred by study participants; as opposed to large interstitials (also known as door slams).</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Keep users in a single browser window</h2>
                    <p>Switching between windows on a smartphone can be troublesome, and raises the risk that visitors might not find their way back to your site.</p>
                    <p>Try to keep users in one place by avoiding calls-to-action that launch new windows.</p>
                    <p>For example, if you accept coupons, consider offering these on your site to avoid users opening new windows to search elsewhere. Consider other ways that might cause a user to to look outside your site and provide easy to use features to keep them on your site.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Set the viewport</h2>
                </section>
                <section>
                    <p>Pages optimized for a variety of devices must include a meta viewport element in the head of the document. A meta viewport tag gives the browser instructions on how to control the page's dimensions and scaling.</p>

                    <ul>
                        <li>Use meta viewport tag to control the width and scaling of the browsers viewport.</li>
                        <li>Include <code>width=device-width</code> to match the screen's width in device independent pixels.</li>
                        <li>Include <code>initial-scale=1</code> to establish a 1:1 relationship between CSS pixels and device independent pixels.</li>
                        <li>Ensure your page is accessible by not disabling user scaling.</li>
                    </ul>
                </section>
                <section>
                    <p>In order to attempt to provide the best experience, mobile browsers will render the page at a desktop screen width (usually about 980px, though this varies across devices), and then try to make the content look better by increasing font sizes and scaling the content to fit the screen. For users, this means that font sizes may appear inconsistently and they have to double-tap or pinch-to-zoom in order to be able to see and interact with the content.</p><pre><code data-lang="html">&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;</code></pre>
                </section>
                <section>
                    <p>Using the meta viewport value <code>width=device-width</code> instructs the page to match the screen’s width in device independent pixels. This allows the page to reflow content to match different screen sizes, whether rendered on a small mobile phone or a large desktop monitor.</p>
                    <p>Some browsers will keep the page’s width constant when rotating to landscape mode, and zoom rather than reflow to fill the screen. Adding the attribute <code>initial-scale=1</code> instructs browsers to establish a 1:1 relationship between CSS pixels and device independent pixels regardless of device orientation, and allows the page to take advantage of the full landscape width.</p>
                </section>
                <section>
                    <p>Remember</p>
                    <ul>
                        <li>Use a comma to separate attributes to ensure older browsers can properly parse the attributes.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="ensure-an-accessible-viewport">Ensure an accessible viewport</h2>
                </section>
                <section>
                    <p>In addition to setting an <code>initial-scale</code>, you can also set the following attributes on the viewport:</p>
                    <ul>
                        <li><code>minimum-scale</code>
                        </li>
                        <li><code>maximum-scale</code>
                        </li>
                        <li><code>user-scalable</code>
                        </li>
                    </ul>
                </section>
                <section>
                    <p>When set, these can disable the user’s ability to zoom the viewport, potentially causing accessibility issues.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Size content to the viewport</h2>
                </section>
                <section>
                    <p>On both desktop and mobile devices, users are used to scrolling websites vertically but not horizontally, and forcing the user to scroll horizontally or to zoom out in order to see the whole page results in a poor user experience.</p>

                    <ul>
                        <li>Do not use large fixed width elements.</li>
                        <li>Content should not rely on a particular viewport width to render well.</li>
                        <li>Use CSS media queries to apply different styling for small and large screens.</li>
                    </ul>
                </section>
                <section>
                    <p>When developing a mobile site with a <code>meta viewport</code> tag, it’s easy to accidentally create page content that doesn’t quite fit within the specified viewport. For example, an image that is displayed at a width wider than the viewport can cause the viewport to scroll horizontally. You should adjust this content to fit within the width of the viewport, so that the user does not need to scroll horizontally.</p>
                    <p>Since screen dimensions and width in CSS pixels vary widely between devices (e.g. between phones and tablets, and even between different phones), content should not rely on a particular viewport width to render well.</p>
                    <p>Setting large absolute CSS widths for page elements (such as the example below), will cause the <code>div</code> to be too wide for the viewport on a narrower device (e.g. a device with a width of 320 CSS pixels, such as an iPhone). Instead, consider using relative width values, such as <code>width: 100%</code>. Similarly, beware of using large absolute positioning values that may cause the element to fall outside the viewport on small screens.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Use CSS media queries for responsiveness</h2>
                </section>
                <section>
                    <p>Media queries are simple filters that can be applied to CSS styles. They make it easy to change styles based on the characteristics of the device rendering the content, including the display type, width, height, orientation and even resolution.</p>

                    <ul>
                        <li>Media queries can be used to apply styles based on device characteristics.</li>
                        <li>Use <code>min-width</code> over <code>min-device-width</code> to ensure the broadest experience.</li>
                        <li>Use relative sizes for elements to avoid breaking layout.</li>
                    </ul>
                </section>
                <section>
                    <p>For example, you could place all styles necessary for printing inside a print media query:</p><pre><code data-lang="html">&lt;link rel="stylesheet" href="print.css" media="print"&gt;</code></pre>
                </section>
                <section>
                    <p>In addition to using the <code>media</code> attribute in the stylesheet link, there are two other ways to apply media queries that can be embedded in a CSS file: <code>@media</code> and <code>@import</code>. For performance reasons, either of the first two methods are recommended over the <code>@import</code> syntax (see <a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/page-speed-rules-and-recommendations.html">Avoid CSS imports</a>).</p><pre><code data-lang="css">@media print {
  /* print style sheets go here */
}

@import url(print.css) print;</code></pre>
                </section>
                <section>
                    <p>The logic that applies to media queries is not mutually exclusive and any filter that meets that criteria the resulting CSS block will be applied using the standard rules of precedence in CSS.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="apply-media-queries-based-on-viewport-size">Apply media queries based on viewport size</h2>
                    <p>Media queries enable us to create a responsive experience, where specific styles are applied to small screens, large screens and anywhere in between. The media query syntax allows for the creation of rules that can be applied depending on device characteristics.</p><pre><code data-lang="css">@media (query) {
  /* CSS Rules used when query matches */
}</code></pre>
                </section>
                <section>
                    <p>While there are several different items we can query on, the ones used most often for responsive web design are <code>min-width</code>, <code>max-width</code>, <code>min-height</code> and <code>max-height</code>.</p>
                    <p>Let’s take a look an example:</p><pre>    &lt;link rel="stylesheet" media="(max-width: 640px)" href="max-640px.css"&gt;
    &lt;link rel="stylesheet" media="(min-width: 640px)" href="min-640px.css"&gt;
    &lt;link rel="stylesheet" media="(orientation: portrait)" href="portrait.css"&gt;
    &lt;link rel="stylesheet" media="(orientation: landscape)" href="landscape.css"&gt;
    &lt;style&gt;
      @media (min-width: 500px) and (max-width: 600px) {
        h1 {
          color: fuchsia;
        }

        .desc:after {
          content:" In fact, it's between 500px and 600px wide.";
        }
      }
    &lt;/style&gt;
    
</pre>
                </section>
                <section>
                    <ul>
                        <li>When the browser is between <b>0px</b> and <b>640px</b> wide, <code>max-640px.css</code> will be applied.</li>
                        <li>When the browser is between <b>500px</b> and <b>600px</b> wide, styles within the <code>@media</code> will be applied.</li>
                        <li>When the browser is <b>640px or wider</b>, <code>min-640px.css</code> will be applied.</li>
                        <li>When the browser <b>width is greater than the height</b>, <code>landscape.css</code> will be applied.</li>
                        <li>When the browser <b>height is greater than the width</b>, <code>portrait.css</code> will be applied.</li>
                    </ul>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="a-note-on-min-device-width">A note on <code>min-device-width</code></h2>
                    <p>It is also possible to create queries based on <code>*-device-width</code>; though this practice is <strong>strongly discouraged</strong>.</p>
                    <p>The difference is subtle but very important: <code>min-width</code> is based on the size of the browser window, whereas <code>min-device-width</code> is based on the size of the screen. Unfortunately some browsers, including the legacy Android browser may not report the device width properly and instead report the screen size in device pixels instead of the expected viewport width.</p>
                    <p>In addition, using <code>*-device-width</code> can prevent content from adapting on desktops or other devices that allow windows to be resized because the query is based on the actual device size, not the size of the browser window.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="use-any-pointer-and-any-hover-for-flexible-interactions">Use <code>any-pointer</code> and <code>any-hover</code> for flexible interactions</h2>
                    <p>Starting with Chrome 39, your style sheets can write selectors that cover multiple pointer types and hover behaviors. The <code>any-pointer</code> and <code>any-hover</code> media features are similar to <code>pointer</code> and <code>hover</code> in allowing you to query the capabilities of the user’s pointer. Unlike the later, <code>any-pointer</code> and <code>any-hover</code> operate on the union of all pointer devices rather than the just the primary pointer device.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="use-relative-units">Use relative units</h2>
                    <p>A key concept behind responsive design is fluidity and proportionality as opposed to fixed width layouts. Using relative units for measurements can help simplify layouts and prevent accidentally creating components that are too big for the viewport.</p>
                    <p>For example, setting width: 100% on a top level div, ensures that it spans the width of the viewport and is never too big or too small for the viewport. The div will fit, no matter if it’s a 320px wide iPhone, 342px wide Blackberry Z10 or a 360px wide Nexus 5.</p>
                    <p>In addition, using relative units allows browsers to render the content based on the users zoom level without the need for adding horizontal scroll bars to the page.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>NO</h2><pre><code data-lang="css">div.fullWidth {
  width: 320px;
  margin-left: auto;
  margin-right: auto;
}</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>YES</h2><pre><code data-lang="css">div.fullWidth {
  width: 100%;
}</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>How to choose breakpoints</h2>
                </section>
                <section>
                    <p>While it may be helpful to think about defining breakpoints based on device classes, use caution. Defining breakpoints based on specific devices, products, brand names, or operating systems that are in use today can result in a maintenance nightmare. Instead, the content itself should determine how the layout adjusts to its container.</p>

                    <ul>
                        <li>Create breakpoints based on content, never on specific devices, products or brands.</li>
                        <li>Design for the smallest mobile device first, then progressively enhance the experience as more screen real estate becomes available.</li>
                        <li>Keep lines of text to a maximum of around 70 or 80 characters.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="pick-major-breakpoints-by-starting-small-then-working-up">Pick major breakpoints by starting small, then working up</h2>
                    <p>Design the content to fit on a small screen size first, then expand the screen until a breakpoint becomes necessary. This will allow you to optimize breakpoints based on content and maintain the fewest number of breakpoints possible.</p>
                    <p>Let’s work through the example we saw at the beginning, the <a href="https://developers.google.com/web/fundamentals/layouts/rwd-fundamentals/index.html">weather forecast</a>. The first step is to make the forecast look good on a small screen.</p>
                    <p>Next, resize the browser until there is too much white space between the elements and the forecast simply doesn’t look as good. The decision is somewhat subjective, but above 600px is certainly too wide.</p>
                    <p>To insert a breakpoint at 600px, create two new stylesheets, one to use when the browser is 600px and below, and one for when it is wider than 600px.</p><pre>    &lt;link rel="stylesheet" href="weather.css"&gt;
    &lt;link rel="stylesheet" media="(max-width:600px)" href="weather-2-small.css"&gt;
    &lt;link rel="stylesheet" media="(min-width:601px)" href="weather-2-large.css"&gt;
    
</pre>
                </section>
                <section>
                    <p>Finally, refactor the CSS. In this example, we’ve placed the common styles such as fonts, icons, basic positioning, colors in <code>weather.css</code>. Specific layouts for the small screen are then placed in <code>weather-small.css</code> and large screen styles are placed in <code>weather-large.css</code>.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="pick-minor-breakpoints-when-necessary">Pick minor breakpoints when necessary</h2>
                    <p>In addition to choosing major breakpoints when layout changes significantly, it is also helpful to adjust for minor changes. For example between major breakpoints, it may be helpful to adjust the margins or padding on an element, or increase the font size to make it feel more natural in the layout.</p>
                    <p>Let’s start by optimizing the small screen layout. In this case, let’s boost the font when the viewport width is greater than 360px. Second, when there is enough space, we can separate the high and low temperature so they’re on the same line, instead of on top of each other. And let’s also make the weather icons a bit larger.</p><pre>    @media (min-width: 360px) {
      body {
        font-size: 1.0em;
      }
    }
    
    @media (min-width: 500px) {
      .seven-day-fc .temp-low,
      .seven-day-fc .temp-high {
        display: inline-block;
        width: 45%;
      }
    
      .seven-day-fc .seven-day-temp {
        margin-left: 5%;
      }
    
      .seven-day-fc .icon {
        width: 64px;
        height: 64px;
      }
    }
</pre>
                </section>
                <section>
                    <p>Similarly, for the large screens, it’s best to limit to maximum width of the forecast panel so it doesn’t consume the whole screen width.</p><pre>    @media (min-width: 700px) {
      .weather-forecast {
        width: 700px;
      }
    }
</pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="optimize-text-for-reading">Optimize text for reading</h2>
                    <p>Classic readability theory suggests that an ideal column should contain 70 to 80 characters per line (about 8 to 10 words in English), thus each time the width of a text block grows past about 10 words, a breakpoint should be considered.</p>
                    <p>Let’s take a deeper look at the above blog post example. On smaller screens, the Roboto font at 1em works perfectly giving 10 words per line, but larger screens will require a breakpoint. In this case, if the browser width is greater than 575px, the ideal content width is 550px.</p><pre>    @media (min-width: 575px) {
      article {
        width: 550px;
        margin-left: auto;
        margin-right: auto;
      }
    }
    
</pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="never-completely-hide-content">Never completely hide content</h2>
                    <p>Be careful when choosing what content to hide or show depending on screen size. Don’t simply hide content just because you can’t fit it on screen. Screen size is not a definitive indication of what a user may want. For example, eliminating the pollen count from the weather forecast could be a serious issue for spring time allergy sufferers who need the information to determine if they can go outside or not.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Mostly fluid</h2>
                    <p>The mostly fluid pattern consists primarily of a fluid grid. On large or medium screens, it usually remains the same size, simply adjusting the margins on wider screens.</p>
                    <p>On smaller screens, the fluid grid causes the main content to reflow, while columns are stacked vertically. One major advantage of this pattern is that it usually only requires one breakpoint between small screens and large screens.</p>
                    <p>
                        <a href="http://googlesamples.github.io/web-fundamentals/samples/layouts/rwd-patterns/mostly-fluid.html"><img src="https://developers.google.com/web/fundamentals/layouts/rwd-patterns/imgs/mostly-fluid.svg"> Try it</img>
                        </a>
                    </p>
                </section>
                <section>
                    <p>In the smallest view, each content <code>div</code> is stacked vertically. Once the screen width hits 600px, the primary content <code>div</code> remains at <code>width: 100%</code>, while the secondary <code>div</code>’s are shown as two columns below the primary <code>div</code>. Beyond 800px, the container <code>div</code> becomes fixed width and is centered on the screen.</p>
                </section>
                <section>
                    <p>Sites using this pattern include:</p>
                    <ul>
                        <li><a href="http://mediaqueri.es/ala/">A List Apart</a>
                        </li>
                        <li><a href="http://mediaqueri.es/">Media Queries</a>
                        </li>
                        <li><a href="http://simplebits.com/">SimpleBits</a>
                        </li>
                    </ul>
                </section>
                <section><pre>    .container {
      display: -webkit-flex;
      display: flex;
      -webkit-flex-flow: row wrap;
      flex-flow: row wrap;
    }

    .c1, .c2, .c3, .c4, .c5 {
      width: 100%;
    }

    @media (min-width: 600px) {
      .c2, .c3, .c4, .c5 {
        width: 50%;
      }
    }

    @media (min-width: 800px) {
      .c1 {
        width: 60%;
      }
      .c2 {
        width: 40%;
      }
      .c3, .c4, .c5 {
        width: 33.33%;
      }
    }

    @media (min-width: 800px) {
      .container {
        width: 800px;
        margin-left: auto;
        margin-right: auto;
      }
    }
    
</pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>Column Drop</h2>
                    <p>For full-width multi-column layouts, column drop simply stacks the columns vertically as the window width becomes too narrow for the content.</p>
                    <p>Eventually this results in all of the columns being stacked vertically. Choosing breakpoints for this layout pattern is dependent on the content and will change for each design.</p>
                    <p>
                        <a href="http://googlesamples.github.io/web-fundamentals/samples/layouts/rwd-patterns/column-drop.html"><img src="https://developers.google.com/web/fundamentals/layouts/rwd-patterns/imgs/column-drop.svg"> Try it</img>
                        </a>
                    </p>
                </section>
                <section>
                    <p>Like the mostly fluid sample, content is stacked vertically in the smallest view, but as the screen expands beyond 600px, the primary and secondary content <code>div</code>’s take the full width of the screen. The order of the <code>div</code>’s is set using the order CSS property. At 800px all three content <code>div</code>’s are shown, using the full screen width.</p>
                </section>
                <section>
                    <p>Sites using this pattern include:</p>
                    <ul>
                        <li><a href="http://modernizr.com/">Modernizr</a>
                        </li>
                        <li><a href="http://weenudge.com/">Wee Nudge</a>
                        </li>
                    </ul>
                </section>
                <section><pre>    .container {
      display: -webkit-flex;
      display: flex;
      -webkit-flex-flow: row wrap;
      flex-flow: row wrap;
    }

    .c1, .c2, .c3 {
      width: 100%;
    }

    @media (min-width: 600px) {
      .c1 {
        width: 60%;
        -webkit-order: 2;
        order: 2;
      }

      .c2 {
        width: 40%;
        -webkit-order: 1;
        order: 1;
      }

      .c3 {
        width: 100%;
        -webkit-order: 3;
        order: 3;
      }
    }


    @media (min-width: 800px) {
      .c2 {
        width: 20%;
      }

      .c3 {
        width: 20%;
      }
    }
    
</pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>Layout shifter</h2>
                    <p>The layout shifter pattern is the most responsive pattern, with multiple breakpoints across several screen widths.</p>
                    <p>Key to this layout is the way content moves about, instead of reflowing and dropping below other columns. Due to the significant differences between each major breakpoint, it is more complex to maintain and likely involves changes within elements, not just overall content layout.</p>
                    <p>
                        <a href="http://googlesamples.github.io/web-fundamentals/samples/layouts/rwd-patterns/layout-shifter.html"><img src="https://developers.google.com/web/fundamentals/layouts/rwd-patterns/imgs/layout-shifter.svg"> Try it</img>
                        </a>
                    </p>
                </section>
                <section>
                    <p>This simplified example shows the layout shifter pattern, on smaller screens content is stacked vertically, but changes significantly as the screen becomes larger, with a left <code>div</code> and two stacked <code>div</code>’s on the right.</p>
                </section>
                <section>
                    <p>Sites using this pattern include:</p>
                    <ul>
                        <li><a href="http://foodsense.is/">Food Sense</a>
                        </li>
                        <li><a href="http://alistapart.com/d/responsive-web-design/ex/ex-site-FINAL.html">Seminal Responsive Design Example</a>
                        </li>
                        <li><a href="http://www.anderssonwise.com/">Andersson-Wise Architects</a>
                        </li>
                    </ul>
                </section>
                <section><pre>    .container {
      display: -webkit-flex;
      display: flex;
      -webkit-flex-flow: row wrap;
      flex-flow: row wrap;
    }

    .c1, .c2, .c3, .c4 {
      width: 100%;
    }

    @media (min-width: 600px) {
      .c1 {
        width: 25%;
      }

      .c4 {
        width: 75%;
      }

    }

    @media (min-width: 800px) {
      .container {
        width: 800px;
        margin-left: auto;
        margin-right: auto;
      }
    }
    
</pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>Tiny tweaks</h2>
                    <p>Tiny tweaks simply makes small changes to the layout, such as adjusting font size, resizing images or moving content around in very minor ways.</p>
                    <p>It works well on single column layouts such as one page linear websites, text heavy articles.</p>
                    <p>
                        <a href="http://googlesamples.github.io/web-fundamentals/samples/layouts/rwd-patterns/tiny-tweaks.html"><img src="https://developers.google.com/web/fundamentals/layouts/rwd-patterns/imgs/tiny-tweaks.svg"> Try it</img>
                        </a>
                    </p>
                </section>
                <section>
                    <p>As its name implies, little changes with this sample as the screen size changes. As the screen width gets larger, so do the font size and padding.</p>
                </section>
                <section>
                    <p>Sites using this pattern include:</p>
                    <ul>
                        <li><a href="http://shinydemos.com/">Opera’s Shiny Demos</a>
                        </li>
                        <li><a href="http://gingerwhale.com/">Ginger Whale</a>
                        </li>
                        <li><a href="http://futurefriendlyweb.com/">Future Friendly</a>
                        </li>
                    </ul>
                </section>
                <section><pre>    .c1 {
      padding: 10px;
      width: 100%;
    }

    @media (min-width: 500px) {
      .c1 {
        padding: 20px;
        font-size: 1.5em;
      }
    }

    @media (min-width: 800px) {
      .c1 {
        padding: 40px;
        font-size: 2em;
      }
    }
    
</pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>Off canvas</h2>
                    <p>Rather than stacking content vertically, the off canvas pattern places less frequently used content, perhaps navigation or app menus off screen, only showing it when the screen size is large enough, and on smaller screens, content is only a click away.</p>
                    <p>
                        <a href="http://googlesamples.github.io/web-fundamentals/samples/layouts/rwd-patterns/off-canvas.html"><img src="https://developers.google.com/web/fundamentals/layouts/rwd-patterns/imgs/off-canvas.svg"> Try it</img>
                        </a>
                    </p>
                </section>
                <section>
                    <p>Rather than stacking content vertically, this sample hides two of the content <code>div</code>s off screen by using a <code>transform: translate(-250px, 0)</code>. JavaScript is used to show the divs by adding an open class to the element to make visible. As the screen gets wider, the off-screen positioning is removed from the elements and they’re shown within the visible viewport.</p>
                    <p>Note in this sample, Safari for iOS 6 and Android Browser do not support the <code>flex-flow: row nowrap</code> feature of <code>flexbox</code>, so we’ve had to fallback to absolute positioning.</p>
                </section>
                <section>
                    <p>Sites using this pattern include:</p>
                    <ul>
                        <li><a href="http://www.html5rocks.com/en/tutorials/developertools/async-call-stack/">HTML5Rocks Articles</a>
                        </li>
                        <li><a href="http://www.google.com/nexus/">Google Nexus</a>
                        </li>
                        <li><a href="https://m.facebook.com/">Facebook’s Mobile Site</a>
                        </li>
                    </ul>
                </section>
                <section><pre>    body {
      overflow-x: hidden;
    }
    
    .container {
      display: block;
    }

    .c1, .c3 {
      position: absolute;
      width: 250px;
      height: 100%;
    
      /*
        This is a trick to improve performance on newer versions of Chrome
        #perfmatters
      */
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;

      -webkit-transition: -webkit-transform 0.4s ease-out;
      transition: transform 0.4s ease-out;
    
      z-index: 1;
    }

    .c1 {
      /*
      Using translate3d as a trick to improve performance on older versions of Chrome
      See: http://aerotwist.com/blog/on-translate3d-and-layer-creation-hacks/
      #perfmatters
      */
      -webkit-transform: translate(-250px,0);
      transform: translate(-250px,0);
    }

    .c2 {
      width: 100%;
      position: absolute;
    }
    
    .c3 {
      left: 100%;
    }

    .c1.open {
      -webkit-transform: translate(0,0);
      transform: translate(0,0);
    }

    .c3.open {
      -webkit-transform: translate(-250px,0);
      transform: translate(-250px,0);
    }
    
    @media (min-width: 500px) {
      /* If the screen is wider then 500px, use Flexbox */
      .container {
        display: -webkit-flex;
        display: flex;
        -webkit-flex-flow: row nowrap;
        flex-flow: row nowrap;
      }
      .c1 {
        position: relative;
        -webkit-transition: none 0s ease-out;
        transition: none 0s ease-out;
        -webkit-transform: translate(0,0);
        transform: translate(0,0);
      }
      .c2 {
        position: static;
      }
    }

    @media (min-width: 800px) {
      body {
        overflow-x: auto;
      }
      .c3 {
        position: relative;
        left: auto;
        -webkit-transition: none 0s ease-out;
        transition: none 0s ease-out;
        -webkit-transform: translate(0,0);
        transform: translate(0,0);
      }
    }
    
</pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>App Bar</h2>
                    <p>Users have learnt to expect a header on all of the desktop sites, but on mobile you should be using the App Bar.</p>
                    <p>One expectation users will make when they land on your site is that your site’s logo will be at the top of every page and clicking it will take them to your home page.</p>
                </section>
                <section>
                    <p>Traditionally the web has used page headers for this. On mobile devices use the App Bar.</p>

                    <ul>
                        <li>Your logo should be placed at the top of each screen and take the user back to your homepage.</li>
                        <li>If you have a menu button, place it on the far left or far right of the App Bar and keep it in the same place throughout your site.</li>
                        <li>Key actions for your page should be kept in the App Bar.</li>
                    </ul>
                </section>

                <section>
                    <p>The App Bar consists of three elements.</p>
                    <ul>
                        <li>Your sites logo</li>
                        <li>Primary actions</li>
                        <li>(Optional) Menu button</li>
                    </ul>
                </section>
                <section>
                    <p>Nearly every site on the internet will have actions they enable their users to perform, search for example. Place buttons to perform these actions in the App Bar, giving your user a common to find out what the current actions are available on that page.</p>
                    <p>If you have a menu, use the hamburger icon (three horizontal lines) and place it on the far left or far right. Once you have selected a side, don’t move it, always keep it in the same position meaning the user only needs to learn where it is once.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="left-vs-right-menu-button">Left vs Right Menu Button</h2>
                    <p>If you have a slide in menu, you have the choice of putting the menu on the left or right hand side.</p>
                    <p>The top left corner is perceived by the user as where the most important elements of your UI lives, however it can also one of hardest places to reach when holding the phone one handed. Putting the menu on the top right still gives it prominence and importance, but is easier to tap while holding the phone single-handedly.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="guidelines">Guidelines</h2>
                    <p>The App Bar is a set of principles that you should apply to give your users a predictable experience, but there is plenty of opportunity to be creative in terms of style of the bar, button and interactions.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Tab Bar</h2>
                    <p>A Tab Bar can be used as the main navigation for your site. It gives the user visibility of the main sections of your site as well as an easy way to identify where they are within your web app.</p>
                    <p>The Tab Bar can be used to quickly switch between the sections of your site.</p>
                </section>
                <section>
                    <p>It’s only appropriate for sites with a relatively small structure, but users find it easy to glance at where they are, and where they can go, within your site.</p>

                    <ul>
                        <li>Use only if your site has no more than five sections.</li>
                        <li>Position below or above your main content.</li>
                        <li>Make it clear to the user which section is currently selected.</li>
                    </ul>
                </section>
                <section>
                    <p>Limit the total number of tabs to five or less, otherwise each icon and tap target becomes too small and users will struggle to hit the right tab.</p>
                    <p>Position your tabs above or below your main content, this is a trade off between what feels best to use and best suites your design.</p>
                    <p>One advantage to using tabs is that it gives the user a consistent place to go for navigation and makes it easy to glance at where they are within the site.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Navigation Drawer</h2>
                    <p>For sites with a larger number of sections and subsections the Navigation Drawer is a much better fit. It can be a scrollable off-canvas element to your site as well as be a common place for global state.</p>
                    <p>The Navigation Drawer is a slide in panel which is primarily used for displaying a sites navigation, but can also be used for displaying global state, i.e. user login.</p>
                </section>
                <section>
                    <p>A user accesses the drawer using a menu button at the top of the screen in the App Bar.</p>

                    <ul>
                        <li>Your Navigation Drawer should be easily accessible to the user.</li>
                        <li>If the number of sections is too large, consider grouping the items and expanding / contracting the groups. Avoid overwhelming your users.</li>
                        <li>Don't hide key actions inside the drawer. Actions like search should be prominently on the home page, not hidden in the drawer.</li>
                    </ul>
                </section>
                <section>
                    <p>The key advantages of this approach is that the content can grow inside a scrolling element, allowing for larger site structures and it takes up a very small amount of screen real estate.</p>
                    <p>For users there is a small amount to learning to do to find the Navigation Drawer so having a clearly place menu button is extremely important.</p>
                    <p>Some developers find they get higher rates of interaction when using a tab bar instead of a Navigation Drawer.</p>
                    <p>The choice is a trade off between the flexibility of the Navigation Drawer with the visibility of a Tab Bar which you should consider what is best suited to your site.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Bottom Bar</h2>
                    <p>If you are developing a web app and find that the number of actions a user can perform is more than the App Bar can handle, the best option is to overflow into a Bottom Bar.</p>
                    <p>We’ve seen that the App Bar can be used for placing actions.</p>
                    <p>For many sites, especially content driven sites, this will be enough space since there are relatively few actions available. However, web apps may find they have more actions for sections of their UI.</p>
                </section>
                <section>
                    <p>If you aren’t using a tab and you have too many actions to fit on the App Bar, place actions in a bar along the bottom.</p>

                    <ul>
                        <li>Only consider using this approach if you aren't using a Tab Bar.</li>
                        <li>Stick to 5 items at most.</li>
                        <li>Use when you need to add more actions than the App Bar can hold.</li>
                    </ul>
                </section>
                <section>
                    <p>The advantage of this is that you have more space for actions and it’s in a touch friendly area and gives you a secondary tier of actions.</p>
                    <p>Limit yourself to five actions at most, avoiding the buttons becoming too small and difficult to tap.</p>
                </section>
            </section>
            <section>
                <h1>Forms and User Input</h1>
            </section>
            <section>
                <section>
                    <h2>Design efficient forms</h2>
                </section>
                <section>
                    <p>Design efficient forms by avoiding repeated actions, asking for only the necessary information and guide users by showing them how far along they are in multi-part forms.</p>

                    <ul>
                        <li>Use existing data to pre-populate fields and be sure to enable auto-fill.</li>
                        <li>Use clearly-labeled progress bars to help users get through multi-part forms.</li>
                        <li>Provide visual calendar so users don’t have to leave your site and jump to the calendar app on their smartphones.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="minimize-repeated-actions-and-fields">Minimize repeated actions and fields</h2>
                    <p>Make sure your forms have no repeated actions, only as many fields as necessary, and take advantage of <a href="https://developers.google.com/web/fundamentals/input/form/label-and-name-inputs.html#use-metadata-to-enable-auto-complete">autofill</a>, so that users can easily complete forms with pre-populated data.</p>
                    <p>Look for opportunities to pre-fill information you already know, or may anticipated to save the user from having to provide it. For example, pre-populate the shipping address with the last shipping address supplied by the user.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="show-users-how-far-along-they-are">Show users how far along they are</h2>
                    <p>Progress bars and menus should accurately convey overall progress through multi-step forms and processes.</p>
                    <p>If you place a disproportionately complex form in an earlier step, users are more likely to abandon your site before they go through the entire process.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="provide-visual-calendars-when-selecting-dates">Provide visual calendars when selecting dates</h2>
                    <p>Users often need more context when scheduling appointments and travel dates, to make things easier and prevent them from leaving your site to check their calendar app, provide a visual calendar with clear labeling for selecting start and end dates.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Choose the best input type</h2>
                </section>
                <section>
                    <p>Streamline information entry by using the right input type. Users appreciate websites that automatically present number pads for entering phone numbers, or automatically advance fields as they entered them. Look for opportunities to eliminate wasted taps in your forms.</p>

                    <ul>
                        <li>Choose the most appropriate input type for your data to simplify input.</li>
                        <li>Offer suggestions as the user types with the <code>datalist</code> element.</li>
                    </ul>
                </section>
                <section>
                    <p>HTML5 introduced a number of new input types. These new input types give hints to the browser about what type of keyboard layout to display for on-screen keyboards. Users are more easily able to enter the required information without having to change their keyboard and only see the appropriate keys for that input type.</p>
                    <p>The <code>datalist</code> element isn’t an input type, but a list of suggested input values to associated with a form field. It lets the browser suggest autocomplete options as the user types. Unlike select elements where users must scan long lists to find the value they’re looking for, and limiting them only to those lists, <code>datalist</code> element provides hints as the user types.</p><pre>    &lt;label for="frmFavChocolate"&gt;Favorite Type of Chocolate&lt;/label&gt;
    &lt;input type="text" name="fav-choc" id="frmFavChocolate" list="chocType"&gt;
    &lt;datalist id="chocType"&gt;
      &lt;option value="white"&gt;
      &lt;option value="milk"&gt;
      &lt;option value="dark"&gt;
    &lt;/datalist&gt;
    
</pre>
                </section>

                <section>
                    <p>Remember</p>
                    <ul>
                        <li>The <code>datalist</code> values are provided as suggestions, and users are not restricted to the suggestions provided.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2>Label and name inputs properly</h2>
                </section>
                <section>
                    <p>Forms are hard to fill out on mobile. The best forms are the ones with the fewest inputs. Good forms provide semantic input types. Keys should change to match the user's input type; users pick a date in a calendar. Keep your user informed. Validation tools should tell the user what they need to do before submitting the form.</p>

                    <ul>
                        <li>Always use <code>label</code>s on form inputs, and ensure they're visible when the field is in focus.</li>
                        <li>Use <code>placeholder</code>s to provide guidance about what you expect.</li>
                        <li>To help the browser auto-complete the form, use established <code>name</code>'s for elements and include the <code>autocomplete</code> attribute.</li>
                    </ul>
                </section>
                <section>
                    <p>The <code>label</code> element provides direction to the user, telling them what information is needed in a form element. Each <code>label</code> is associated with an input element by placing it inside the <code>label</code> element, or by using the “<code>for</code>” attribute. Applying labels to form elements also helps to improve the touch target size: the user can touch either the label or the input in order to place focus on the input element.</p><pre>    &lt;label for="frmAddressS"&gt;Address&lt;/label&gt;
    &lt;input type="text" name="ship-address" required id="frmAddressS"
      placeholder="123 Any Street" autocomplete="shipping street-address"&gt;
    
</pre>
                </section>
                <section>
                    <p>Labels and inputs should be large enough to be easy to press. In portrait viewports, field labels should be above input elements, and beside them in landscape. Ensure field labels and the corresponding input boxes are visible at the same time. Be careful with custom scroll handlers that may scroll input elements to the top of the page hiding the label, or labels placed below input elements may be covered by the virtual keyboard.</p>
                    <p>The placeholder attribute provides a hint to the user about what’s expected in the input, typically by displaying the value as light text until the the user starts typing in the element.</p>
                    <p>
                        <input placeholder="MM-YYYY" />
                    </p><pre><code data-lang="html">&lt;input type="text" placeholder="MM-YYYY" ...&gt;</code></pre>
                </section>

                <section>
                    <p>Remember</p>
                    <ul>
                        <li>Placeholders disappear as soon as the user starts typing in an element, thus they are not a replacement for labels. They should be used as an aid to help guide users on the required format and content.</li>
                    </ul>
                </section>
                <section>
                    <p>Users appreciate when websites save them time by automatically filling common fields like names, email addresses and other frequently used fields, plus it helps to reduce potential input errors – especially on virtual keyboards and small devices.</p>
                    <p>Browsers use many heuristics to determine which fields they can <a href="https://support.google.com/chrome/answer/142893">auto-populate</a> <a href="https://support.google.com/chrome/answer/142893">based on previously specified data by the user</a>, and you can give hints to the browser by providing both the name attribute and the autocomplete attribute on each input element.</p>
                    <p>For example, to hint to the browser that it should auto-complete the form with the users name, email address and phone number, you should use:</p><pre>    &lt;label for="frmNameA"&gt;Name&lt;/label&gt;
    &lt;input type="text" name="name" id="frmNameA"
    placeholder="Full name" required autocomplete="name"&gt;

    &lt;label for="frmEmailA"&gt;Email&lt;/label&gt;
    &lt;input type="email" name="email" id="frmEmailA"
      placeholder="name@example.com" required autocomplete="email"&gt;

    &lt;label for="frmEmailC"&gt;Confirm Email&lt;/label&gt;
    &lt;input type="email" name="emailC" id="frmEmailC"
      placeholder="name@example.com" required autocomplete="email"&gt;
    
    &lt;label for="frmPhoneNumA"&gt;Phone&lt;/label&gt;
    &lt;input type="tel" name="phone" id="frmPhoneNumA"
      placeholder="+1-555-555-1212" required autocomplete="tel"&gt;
    
</pre>
                </section>
                <section>
                    <p>The <code>autocomplete</code> attributes should be prefixed with either <code>shipping</code> or <code>billing</code>, depending on the context.</p>
                </section>
                <section>
                    <p>Remember</p>
                    <ul>
                        <li>Auto-complete only works when the form method is post.</li>
                    </ul>
                </section>
                <section>
                    <p>On some forms, for example the Google home page where the only thing you want the user to do is fill out a particular field, you can add the <code>autofocus</code> attribute. When set, desktop browsers immediately move the focus to the input field, making it easy for users to quickly begin using the form. Mobile browsers ignore the <code>autofocus</code> attribute, to prevent the keyboard from randomly appearing.</p>
                    <p>Be careful using the autofocus attribute because it will steal keyboard focus and potentially preventing the backspace character from being used for navigation.</p><pre><code data-lang="html">&lt;input type="text" autofocus ...&gt;</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>Provide real-time validation</h2>
                </section>
                <section>
                    <p>Real-time data validation doesn't just help to keep your data clean, but it also helps improve the user experience. Modern browsers have several built-in tools to help provide real-time data validation and may prevent the user from submitting an invalid form. Visual cues should be used to indicate whether a form has been completed properly.</p>

                    <ul>
                        <li>Leverage the browser's built-in validation attributes like <code>pattern</code>, <code>required</code>, <code>min</code>, <code>max</code>, etc.</li>
                        <li>Use JavaScript and the Constraints Validation API for more complex validation requirements.</li>
                        <li>Show validation errors in real time, and if the user tries to submit an invalid form, show all fields they need to fix.</li>
                    </ul>
                </section>
                <section>
                    <p>The <code>pattern</code> attribute specifies a <a href="http://en.wikipedia.org/wiki/Regular_expression">regular expression</a> used to validate an input field. For example, to validate a US Zip code (5 digits, sometimes followed by a dash and an additional 4 digits), we would set the <code>pattern</code> like this:</p><pre><code data-lang="html">&lt;input type="text" pattern="^\d{5,6}(?:[-\s]\d{4})?$" ...&gt;</code></pre>
                </section>
                <section>
                    <p>If the <code>required</code> attribute is present, then the field must contain a value before the form can be submitted. For example, to make the zip code required, we’d simply add the required attribute:</p><pre><code data-lang="html">&lt;input type="text" required pattern="^\d{5,6}(?:[-\s]\d{4})?$" ...&gt;</code></pre>
                </section>
                <section>
                    <p>For numeric input types like number or range as well as date/time inputs, you can specify the minimum and maximum values, as well as how much they should each increment/decrement when adjusted by the slider or spinners. For example, a shoe size input would set a minumum size of 1 and a maximum size 13, with a step of 0.5</p><pre><code data-lang="html">&lt;input type="number" min="1" max="13" step="0.5" ...&gt;</code></pre>
                </section>
                <section>
                    <p>The <code>maxlength</code> attribute can be used to specify the maximum length of an input or textbox and is useful when you want to limit the length of information that the user can provide. For example, if you want to limit a filename to 12 characters, you can use the following.</p><pre><code data-lang="html">&lt;input type="text" id="83filename" maxlength="12" ...&gt;</code></pre>
                </section>
                <section>
                    <p>In some cases, you may want to allow the user to submit the form even if it contains invalid input. To do this, add the <code>novalidate</code> attribute to the form element, or individual input fields. In this case, all pseudo classes and JavaScript APIs will still allow you to check if the form validates.</p><pre><code data-lang="html">&lt;form role="form" novalidate&gt;
  &lt;label for="inpEmail"&gt;Email address&lt;/label&gt;
  &lt;input type="email" ...&gt;
&lt;/form&gt;</code></pre>
                </section>

                <section>
                    <p>Remember</p>
                    <ul>
                        <li>Even with client-side input validation, it is always important to validate data on the server to ensure consistency and security in your data.</li>
                    </ul>
                </section>
                <section>
                    <p>When the built-in validation plus regular expressions aren’t enough, you can use the <a href="http://dev.w3.org/html5/spec-preview/constraints.html#constraint-validation">Constraint Validation API</a>, a powerful tool for handling custom validation. The API allows you to do things like set a custom error, check whether an element is valid, and determine the reason that an element is invalid:</p>
                    <p>If a field fails validation, use <code>setCustomValidity()</code> to mark the field invalid and explain why the field didn’t validate. For example, a sign up form might ask the user to confirm their email address by entering it twice. Use the blur event on the second input to validate the two inputs and set the appropriate response. For example:</p><pre>    if (input.value != primaryEmail) {
      // the provided value doesn't match the primary email address
      input.setCustomValidity('The two email addresses must match.');
      console.log("E-mail addresses do not match", primaryEmail, input.value);
    } else {
      // input is valid -- reset the error message
      input.setCustomValidity('');
    }
    
</pre>
                </section>
                <section>
                    <p>Because not all browsers will prevent the user from submitting the form if there is invalid data, you should catch the submit event, and use the <code>checkValidity()</code> on the form element to determine if the form is valid. For example:</p><pre>    form.addEventListener("submit", function(evt) {
      if (form.checkValidity() === false) {
        evt.preventDefault();
        alert("Form is invalid - submission prevented!");
        return false;
      } else {
        // To prevent data from being sent, we've prevented submission
        // here, but normally this code block would not exist.
        evt.preventDefault();
        alert("Form is valid - submission prevented to protect privacy.");
        return false;
      }
    });
    
</pre>
                </section>
                <section>
                    <p>It’s helpful to provide a visual indication on each field that indicates whether the user has completed the form properly before they’ve submitted the form. HTML5 also introduces a number of new pseudo-classes that can be used to style inputs based on their value or attributes.</p>
                    <p>Validation happens immediately which means that when the page is loaded, fields may be marked as invalid, even though the user hasn’t had a chance to fill them in yet. It also means that as the user types, and it’s possible they’ll see the invalid style while typing. To prevent this, you can combine the CSS with JavaScript to only show invalid styling when the user has visited the field.</p><pre>    input.dirty:not(:focus):invalid {
      background-color: #FFD9D9;
    }
    input.dirty:not(:focus):valid {
      background-color: #D9FFD9;
    }
    
</pre>
                </section>
                <section><pre>    var inputs = document.getElementsByTagName("input");
    var inputs_len = inputs.length;
    var addDirtyClass = function(evt) {
      sampleCompleted("Forms-order-dirty");
      evt.srcElement.classList.toggle("dirty", true);
    };
    for (var i = 0; i &lt; inputs_len; i++) {
      var input = inputs[i];
      input.addEventListener("blur", addDirtyClass);
      input.addEventListener("invalid", addDirtyClass);
      input.addEventListener("valid", addDirtyClass);
    }
    
</pre>
                </section>

                <section>
                    <p>Important</p>
                    <ul>
                        <li>You should show the user all of the issues on the form at once, rather than showing them one at a time.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2>Simplify checkout with requestAutocomplete API</h2>
                </section>
                <section>
                    <p>While <code>requestAutocomplete</code> was designed to help users fill out any form, today its most common use is in eCommerce where shopping cart abandonment on the mobile web <a href="http://seewhy.com/97-shopping-cart-abandonment-rate-mobile-devices-concern-you/">can be as high as 97%</a>. Imagine 97% of people in a supermarket, with a cart brimming full of things that they want, flipping their cart over and walking out.</p>

                    <ul>
                        <li><code>requestAutocomplete</code> can greatly simplify the checkout process and improve the user experience.</li>
                        <li>If <code>requestAutocomplete</code> is available, hide the checkout form and move people directly to the confirmation page.</li>
                        <li>Ensure input fields include the appropriate autocomplete attribute.</li>
                    </ul>
                </section>
                <section>
                    <p>Rather than the site relying on a particular payment provider, <code>requestAutocomplete</code> requests payment details (such as name, address and credit card information) from the browser, which are optionally stored by the browser much like other auto-complete fields.</p>
                    <p>The ideal experience will show the <code>requestAutocomplete</code> dialog instead of loading the page that displays the checkout form. If all goes well, the user shouldn’t see the form at all. You can easily add <code>requestAutocomplete</code> to existing forms without having to change any field names. Simply add the <code>autocomplete</code> attribute to each form element with the appropriate value and add the <code>requestAutocomplete()</code> function on the form element. The browser will handle the rest.</p>
                    <p><img alt="Request autocomplete flow" src="https://developers.google.com/web/fundamentals/input/form/imgs/rac_flow.png" />
                    </p>
                </section>
                <section><pre>    var doRAC = document.getElementById("doRAC");
    doRAC.addEventListener("click", doRequestAutocomplete);

    form = document.getElementById("usrForm");
    form.addEventListener("autocompleteerror", requestAutocompleteError);
    form.addEventListener("autocomplete", requestAutocompleteCompleted);

    if (form.requestAutocomplete) {
      isRACSupported(true, "");
    } else {
      isRACSupported(false, "Please complete the form manually.");
    }
    
</pre>
                </section>
                <section>
                    <p>The <code>requestAutocomplete</code> function on the <code>form</code> element indicates to the browser that it should populate the form. As a security feature, the function must be called via a user gesture like a touch or mouse click. A dialog is then displayed asking the user permission to populate the fields and which details they want to populate it with.</p><pre>    function requestAutocompleteCompleted(evt) {
      console.log("requestAutocomplete Completed", evt);
      form.classList.toggle("hidden", false);
    }

    function requestAutocompleteError(evt) {
      console.log("requestAutocomplete Error", evt);
      isRACSupported(false, "An error occured attempting to autocomplete the form.");
    }
    
</pre>
                </section>
                <section>
                    <p>Upon completion of <code>requestAutocomplete</code>, the function will either fire the <code>autocomplete</code> event if it finished successfully, or <code>autocompleteerror</code> if it was unable to complete the form. If it completed successfully and the form validates to your needs, simply submit the form and proceed to the final confirmation.</p>
                </section>
                <section>
                    <p>Remember</p>
                    <ul>
                        <li>If you're asking for any kind of personal information or credit card data, ensure the page is served via SSL. Otherwise the dialog will warn the user their information may not be secure.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2>Stateful Elements Respond to Touch</h2>
                    <p>Touchscreens are available on more and more devices, ranging from phones up to desktop screens. When your users choose to interact with your UI, your app should respond to their touch in intuitive and beautiful ways.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="add-touch-states">Add Touch States</h2>
                    <p>Have you ever touched or clicked an element on a web page and questioned whether the site actually detected it?</p>
                    <p>Simply altering the color of elements as users touch parts of your UI gives a basic reassurance that your site is working. Not only does this alleviate frustation, but can also give a snappy and responsive feel to your site.</p>
                </section>
                <section>
                    <p>The fastest way to support touch is to change the UI in response to a DOM element’s change in state.</p>

                    <ul>
                        <li>Make your site feel snappy and responsive&amp;colon; change the UI for each state :hover, :active and :focus.</li>
                        <li>Don’t override a browser’s default responses to touch and focus unless you are implementing your own UI changes.</li>
                        <li>Disable text selection on elements users will touch, unless there’s a good reason why users might need to copy / select the text.</li>
                    </ul>
                </section>
                <section>
                    <p>DOM elements can be in one of the following states, default, focus, hover, and active. To change our UI for each of these states, we need to apply styles to the following pseudo classes <code>:hover</code>, <code>:focus</code> and <code>:active</code> as shown below:</p><pre>    .btn {
      background-color: #4285f4;
    }

    .btn:hover {
      background-color: #296CDB;
    }

    .btn:focus {
      background-color: #0F52C1;
    
      /* The outline parameter surpresses the border
      color / outline when focused */
      outline: 0;
    }

    .btn:active {
      background-color: #0039A8;
    }
    
</pre>
                </section>
                <section>
                    <p>See <a href="https://developers.google.com/web/fundamentals/input/touch/activestates/#pseudo-classes-for-touch-states">Pseudo classes for touch states</a>:</p>
                    <p><img alt="Image illustrating the different colors for button states" src="https://developers.google.com/web/fundamentals/input/touch/activestates/images/button-states.png" />
                    </p>
                </section>
                <section>
                    <p>On most mobile browsers <em>hover</em> and/or <em>focus</em> states will apply to an element after it’s been tapped.</p>
                    <p>Consider carefully what styles you set and how they will look to the user after they finish their touch.</p>
                    <p>Bear in mind that anchor tags and buttons may have different behaviour in different browsers, so assume in some cases <em>hover</em> will remain and in others <em>focus</em> will remain.</p>
                    <p>Unfortunately, Safari on iOS does not apply the <em>active</em> state by default, to get it working you need to add a <code>touchstart</code> event listener to the <em>document body</em> or to each element.</p>
                    <p>You should do this behind a user agent test so it’s only run on iOS devices.</p>
                    <p>Adding a touch start to the body has the advantage of applying to all elements in the DOM, however this may have performance issues when scrolling the page.</p><pre><code data-lang="js">window.onload = function() {
  if(/iP(hone|ad)/.test(window.navigator.userAgent)) {
    document.body.addEventListener('touchstart', function() {}, false);
  }
};</code></pre>
                </section>
                <section>
                    <p>The alternative is to add the touch start listeners to all the interactable elements in the page, alleviating some of the performance concerns.</p><pre><code data-lang="js">window.onload = function() {
  if(/iP(hone|ad)/.test(window.navigator.userAgent)) {
    var elements = document.querySelectorAll('button');
    var emptyFunction = function() {};
    for(var i = 0; i &lt; elements.length; i++) {
      elements[i].addEventListener('touchstart', emptyFunction, false);
    }
  }
};</code></pre>
                </section>
                <section>
                    <p>Once you add styles for the different states, you’ll notice that most browsers implement their own styles to respond to a user’s touch, you should override these defaults when you’ve added your own styles.</p>
                </section>
                <section>
                    <p>Remember</p>
                    <ul>
                        <li>Only override browser styles if you are implementing your own!</li>
                    </ul>
                </section>
                <section>
                    <p>When mobile devices first launched, a number of sites didn’t have styling for the active state. As a result, many browsers add a highlight color or style to elements when a user touches them.</p>
                    <p>Safari and Chrome add a tap highlight color which can be prevented with the <code>-webkit-tap-highlight-color</code> CSS property:</p><pre>    /* Webkit / Chrome Specific CSS to remove tap
    highlight color */
    .btn {
      -webkit-tap-highlight-color: transparent;
    }
    
</pre>
                </section>
                <section>
                    <p>Internet Explorer on Windows Phone has a similar behavior, but is suppressed via a meta tag:</p><pre><code data-lang="html">&lt;meta name="msapplication-tap-highlight" content="no"&gt;</code></pre>
                </section>
                <section>
                    <p>The Firefox <code>-moz-focus-inner</code> pseudo class includes an outline on touchable elements. You can remove this outline by setting the <code>border: 0</code>.</p>
                    <p>If you are using a <code>&lt;button&gt;</code> element, you get a gradient applied to your button which you can remove by setting <code>background-image: none</code>.</p><pre>    /* Firefox Specific CSS to remove button
    differences and focus ring */
    .btn {
      background-image: none;
    }

    .btn::-moz-focus-inner {
      border: 0;
    }
    
</pre>
                </section>
                <section>
                    <p>Suppress the outline color when an element is focused using <code>outline: 0</code>.</p><pre><code data-lang="css">.btn:focus {
  outline: 0;

  // Add replacement focus styling here (i.e. border)
}</code></pre>
                </section>
                <section>
                    <p>Some mobile browsers will select text if the user long presses on the screen. This can result in a bad user experience if the user accidentally presses down on a button for too long. You can prevent this from happening using the <code>user-select</code> CSS property.</p><pre><code data-lang="css">-moz-user-select: none;
-webkit-user-select: none;
-ms-user-select: none;
user-select: none;</code></pre>
                </section>

                <section>
                    <p>Remember</p>
                    <ul>
                        <li>You should be cautious not to disable user selection if the information on the element may be useful to the user (phone number, e-mail address, and so on).</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="reference">Reference</h2>
                </section>
            </section>
            <section>
                <section>
                    <h2>Implement Custom Gestures</h2>
                    <p>If you have an idea for custom interactions and gestures for your site, there are two topics to keep in mind: how to support the range of mobile browsers and how to keep your frame rate high. In this article, we'll look at exactly these topics.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="respond-to-touch-input-using-events">Respond to Touch Input Using Events</h2>
                </section>
                <section>
                    <p>Depending on what you would like to do with touch, you’re likely to fall into one of two camps:</p>
                    <ul>
                        <li>I want the user to interact with one particular element.</li>
                        <li>I want the user to interact with multiple elements at the same time.</li>
                    </ul>
                </section>
                <section>
                    <p>There are trade offs to be had with both.</p>
                    <p>If the user will only be able to interact with one element, you might want all touch events to be given to that one element, as long as the gesture initially started on the element itself. For example, moving a finger off the swipable element can still control the element.</p>
                    <p><img alt="Example GIF of touch on document" src="https://developers.google.com/web/fundamentals/input/touch/touchevents/images/touch-document-level.gif" />
                    </p>
                </section>
                <section>
                    <p>If, however, you expect users to interact with multiple elements at the same time (using multi-touch), you should restrict the touch to the specific element.</p>
                    <p><img alt="Example GIF of touch on element" src="https://developers.google.com/web/fundamentals/input/touch/touchevents/images/touch-element-level.gif" />
                    </p>
                </section>
                <section>

                    <ul>
                        <li>For full device support, handle touch, mouse and Pointer Events.</li>
                        <li>Always bind start event listeners to the element itself.</li>
                        <li>If you want the user to interact with one particular element, bind your move and end listeners to the document in the touchstart method; ensure you unbind them from the document in the end listener.</li>
                        <li>If you want to support multi-touch, either restrict move and end touch events to the element itself or handle all the touches on an element.</li>
                    </ul>
                    <p>Touch events and mouse events are implemented on most mobile browsers.</p>
                    <p>The event names you need to implement are <code>touchstart</code>, <code>touchmove</code>, <code>touchend</code> and <code>touchcancel</code>.</p>
                    <p>For some situations, you may find that you would like to support mouse interaction as well; which you can do with the mouse events: <code>mousedown</code>, <code>mousemove</code>, and <code>mouseup</code>.</p>
                    <p>For Windows Touch devices, you need to support Pointer Events which are a new set of events. Pointer Events merge mouse and touch events into one set of callbacks. This is currently only supported in Internet Explorer 10+ with the prefixed events <code>MSPointerDown</code>, <code>MSPointerMove</code>, and <code>MSPointerUp</code> and in IE 11+ the unprefixed events <code>pointerdown</code>, <code>pointermove</code>, and <code>pointerup</code>.</p>
                    <p>Touch, mouse and Pointer Events are the building blocks for adding new gestures into your application (see <a href="https://developers.google.com/web/fundamentals/input/touch/touchevents/#touch-mouse-and-pointer-events">Touch, mouse and Pointer events</a>).</p>
                    <p>Include these event names in the <code>addEventListener()</code> method, along with the event’s callback function and a boolean. The boolean determines whether you should catch the event before or after other elements have had the opportunity to catch and interpret the events (<code>true</code> means we want the event before other elements).</p><pre>    // Check if pointer events are supported.
    if (window.PointerEventsSupport) {
      // Add Pointer Event Listener
      swipeFrontElement.addEventListener(pointerDownName, this.handleGestureStart, true);
    } else {
      // Add Touch Listener
      swipeFrontElement.addEventListener('touchstart', this.handleGestureStart, true);

      // Add Mouse Listener
      swipeFrontElement.addEventListener('mousedown', this.handleGestureStart, true);
    }
    
</pre>
                </section>
                <section>
                    <p>This code first checks to see if Pointer Events are supported by testing for <code>window.PointerEventsSupport</code>, if Pointer Events aren’t supported, we add listeners for touch and mouse events instead.</p>
                    <p>The value <code>window.PointerEventSupport</code> is determined by looking for the existence of <code>window.PointerEvent</code> or the now deprecated <code>window.navigator.msPointerEnabled</code> objects. If they are supported we use varibles for event names, which use the prefixed or unprefixed versions depending on the existence of <code>window.PointerEvent</code>.</p><pre>    var pointerDownName = 'MSPointerDown';
    var pointerUpName = 'MSPointerUp';
    var pointerMoveName = 'MSPointerMove';

    if(window.PointerEvent) {
      pointerDownName = 'pointerdown';
      pointerUpName = 'pointerup';
      pointerMoveName = 'pointermove';
    }

    // Simple way to check if some form of pointerevents is enabled or not
    window.PointerEventsSupport = false;
    if(window.PointerEvent || window.navigator.msPointerEnabled) {
      window.PointerEventsSupport = true;
    }
    
</pre>
                </section>
                <section>
                    <p>In the short snippet of code above you may have noticed that we only add the starting event listener, this is a conscious decision.</p>
                    <p>By adding the move and end event listeners once the gesture has started on the element itself, the browser can check if the touch occured in a region with a touch event listener and if it’s not, can handle it faster by not having to run any additional javascript.</p>
                    <p>The steps taken to implement this are:</p>
                    <p>Below is a snippet of our <code>handleGestureStart</code> method which adds the move and end events to the document:</p><pre>    // Handle the start of gestures
    this.handleGestureStart = function(evt) {
      evt.preventDefault();

      if(evt.touches &amp;&amp; evt.touches.length &gt; 1) {
        return;
      }

      // Add the move and end listeners
      if (window.PointerEventsSupport) {
        // Pointer events are supported.
        document.addEventListener(pointerMoveName, this.handleGestureMove, true);
        document.addEventListener(pointerUpName, this.handleGestureEnd, true);
      } else {
        // Add Touch Listeners
        document.addEventListener('touchmove', this.handleGestureMove, true);
        document.addEventListener('touchend', this.handleGestureEnd, true);
        document.addEventListener('touchcancel', this.handleGestureEnd, true);

        // Add Mouse Listeners
        document.addEventListener('mousemove', this.handleGestureMove, true);
        document.addEventListener('mouseup', this.handleGestureEnd, true);
      }

      initialTouchPos = getGesturePointFromEvent(evt);

      swipeFrontElement.style.transition = 'initial';
    }.bind(this);
    
</pre>
                </section>
                <section>
                    <p>The end callback we add is <code>handleGestureEnd</code> which removes the move and end events from the document when the gesture has finished:</p><pre>    // Handle end gestures
    this.handleGestureEnd = function(evt) {
      evt.preventDefault();

      if(evt.touches &amp;&amp; evt.touches.length &gt; 0) {
        return;
      }

      isAnimating = false;

      // Remove Event Listeners
      if (window.PointerEventsSupport) {
        // Remove Pointer Event Listeners
        document.removeEventListener(pointerMoveName, this.handleGestureMove, true);
        document.removeEventListener(pointerUpName, this.handleGestureEnd, true);
      } else {
        // Remove Touch Listeners
        document.removeEventListener('touchmove', this.handleGestureMove, true);
        document.removeEventListener('touchend', this.handleGestureEnd, true);
        document.removeEventListener('touchcancel', this.handleGestureEnd, true);

        // Remove Mouse Listeners
        document.removeEventListener('mousemove', this.handleGestureMove, true);
        document.removeEventListener('mouseup', this.handleGestureEnd, true);
      }

      updateSwipeRestPosition();
    }.bind(this);
    
</pre>
                </section>
                <section>
                    <p>Mouse events follow this same pattern since it’s easy for a user to accidentally move the mouse outside of the element, which results in the move events no longer firing. By adding the move event to the document, we’ll continue to get mouse movements regardless of where they are on the page.</p>
                    <p>You can use the <a href="https://developer.chrome.com/devtools/docs/rendering-settings#show-potential scroll bottlenecks">Show potential scroll bottlenecks</a> feature in Chrome DevTools to show how the touch events behave:</p>
                    <p><img alt="Enable Scroll Bottleneck in DevTools" src="https://developers.google.com/web/fundamentals/input/touch/touchevents/images/scroll-bottleneck-devtool.png" />
                    </p>
                </section>
                <section>
                    <p>With this enabled you can see where touch events are bound and ensure your logic for adding and removing listeners is working as you’d expect.</p>
                    <p><img alt="Illustrating Binding Touch Events to Document in touchstart" src="https://developers.google.com/web/fundamentals/input/touch/touchevents/images/scroll-bottleneck.gif" />
                    </p>
                </section>
                <section>
                    <p>If you expect your users to use multiple elements at once, you can add the move and end events listeners directly to the elements themselves. This applies to touch only, for mouse interactions you should continue to apply the <code>mousemove</code> and <code>mouseup</code> listeners to the document.</p>
                    <p>Since we only wish to track touches on a particular element, we can add the move and end listeners for touch and pointer events to the element straight away:</p><pre>    // Check if pointer events are supported.
    if (window.PointerEventsSupport) {
      // Add Pointer Event Listener
      elementHold.addEventListener(pointerDownName, this.handleGestureStart, true);
      elementHold.addEventListener(pointerMoveName, this.handleGestureMove, true);
      elementHold.addEventListener(pointerUpName, this.handleGestureEnd, true);
    } else {
      // Add Touch Listeners
      elementHold.addEventListener('touchstart', this.handleGestureStart, true);
      elementHold.addEventListener('touchmove', this.handleGestureMove, true);
      elementHold.addEventListener('touchend', this.handleGestureEnd, true);
      elementHold.addEventListener('touchcancel', this.handleGestureEnd, true);

      // Add Mouse Listeners
      elementHold.addEventListener('mousedown', this.handleGestureStart, true);
    }
    
</pre>
                </section>
                <section>
                    <p>In our <code>handleGestureStart</code> and <code>handleGestureEnd</code> function, we add and remove the mouse event listeners to the document.</p><pre>    // Handle the start of gestures
    this.handleGestureStart = function(evt) {
      evt.preventDefault();

              var point = getGesturePointFromEvent(evt);
      initialYPos = point.y;
    
      if (!window.PointerEventsSupport) {
        // Add Mouse Listeners
        document.addEventListener('mousemove', this.handleGestureMove, true);
        document.addEventListener('mouseup', this.handleGestureEnd, true);
      }
    }.bind(this);

    this.handleGestureEnd = function(evt) {
      evt.preventDefault();
    
      if(evt.targetTouches &amp;&amp; evt.targetTouches.length &gt; 0) {
        return;
      }
    
      if (!window.PointerEventsSupport) {
        // Remove Mouse Listeners
        document.removeEventListener('mousemove', this.handleGestureMove, true);
        document.removeEventListener('mouseup', this.handleGestureEnd, true);
      }

      isAnimating = false;
      lastHolderPos = lastHolderPos + -(initialYPos - lastYPos);
    }.bind(this);
    
</pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="fps-while-using-touch">60fps while Using Touch</h2>
                    <p>Now that we have the start and end events taken care of we can actually respond to the touch events.</p>
                    <p>For any of the start and move events, you can easily extract <code>x</code> and <code>y</code> from an event.</p>
                    <p>The following code snippet checks whether the event is from a touch event by looking for <code>targetTouches</code>, if it is then it extracts the <code>clientX</code> and <code>clientY</code> from the first touch. If the event is a mouse or pointer event then we extract <code>clientX</code> and <code>clientY</code> directly from the event itself.</p><pre>    function getGesturePointFromEvent(evt) {
        var point = {};

        if(evt.targetTouches) {
          // Prefer Touch Events
          point.x = evt.targetTouches[0].clientX;
          point.y = evt.targetTouches[0].clientY;
        } else {
          // Either Mouse event or Pointer Event
          point.x = evt.clientX;
          point.y = evt.clientY;
        }

        return point;
      }
    
</pre>
                </section>

                <section>
                    <p>Each touch event has three lists containing touch data (see also <a href="https://developers.google.com/web/fundamentals/input/touch/touchevents/#touch-lists">Touch lists</a>):</p>
                    <ul>
                        <li><code>touches</code>: list of all current touches on the screen, regardless of DOM element they are on.</li>
                        <li><code>targetTouches</code>: list of touches currently on the DOM element the event is bound to.</li>
                        <li><code>changedTouches</code>: list of touches which changed resulting in the event being fired.</li>
                    </ul>
                </section>
                <section>
                    <p>In most cases, <code>targetTouches</code> gives you everything you need.</p>
                    <p>Since the event callbacks are fired on the main thread, we want to run as little code as possible in the callback to keep our frame rate high, preventing jank.</p>
                    <p>Use <code>requestAnimationFrame</code> to change the UI in response to an event. This gives you an opportunity to update the UI when the browser is intending to draw a frame and will help you move some work out of your callback.</p>
                    <p>A typical implementation is to save the <code>x</code> and <code>y</code> coordinates from the start and move events and request an animation frame in the move event callback.</p>
                    <p>In our demo, we store the initial touch position in <code>handleGestureStart</code>:</p><pre>    // Handle the start of gestures
    this.handleGestureStart = function(evt) {
      evt.preventDefault();

      if(evt.touches &amp;&amp; evt.touches.length &gt; 1) {
        return;
      }

      // Add the move and end listeners
      if (window.PointerEventsSupport) {
        // Pointer events are supported.
        document.addEventListener(pointerMoveName, this.handleGestureMove, true);
        document.addEventListener(pointerUpName, this.handleGestureEnd, true);
      } else {
        // Add Touch Listeners
        document.addEventListener('touchmove', this.handleGestureMove, true);
        document.addEventListener('touchend', this.handleGestureEnd, true);
        document.addEventListener('touchcancel', this.handleGestureEnd, true);

        // Add Mouse Listeners
        document.addEventListener('mousemove', this.handleGestureMove, true);
        document.addEventListener('mouseup', this.handleGestureEnd, true);
      }

      initialTouchPos = getGesturePointFromEvent(evt);

      swipeFrontElement.style.transition = 'initial';
    }.bind(this);
    
</pre>
                </section>
                <section>
                    <p>The <code>handleGestureMove</code> method stores the <code>y</code> position before requesting an animation frame if we need to, passing in our <code>onAnimFrame</code> function as the callback:</p><pre>    var point = getGesturePointFromEvent(evt);
    lastYPos = point.y;
    
      if(isAnimating) {
        return;
      }

      isAnimating = true;
      window.requestAnimFrame(onAnimFrame);
    
</pre>
                </section>
                <section>
                    <p>It’s in the <code>onAnimFrame</code> function that we change our UI to move the elements around. Initially we check to see if the gesture is still on-going to determine whether we should still animate or not, if so we use our initial and last y positions to calculate the new transform for our element.</p>
                    <p>Once we’ve set the transform, we set the <code>isAnimating</code> variable to <code>false</code> so the next touch event will request a new animation frame.</p><pre>    function onAnimFrame() {
        if(!isAnimating) {
          return;
        }
    
        var newYTransform = lastHolderPos + -(initialYPos - lastYPos);
    
        newYTransform = limitValueToSlider(newYTransform);
    
        var transformStyle = 'translateY('+newYTransform+'px)';
        elementHold.style.msTransform = transformStyle;
        elementHold.style.MozTransform = transformStyle;
        elementHold.style.webkitTransform = transformStyle;
        elementHold.style.transform = transformStyle;
    
        isAnimating = false;
      }
    
</pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="control-gestures-using-touch-actions">Control Gestures using Touch Actions</h2>
                    <p>The CSS property <code>touch-action</code> allows you to control the default touch behavior of an element. In our examples, we use <code>touch-action: none</code> to prevent the browser from doing anything with a users’ touch, allowing us to intercept all of the touch events.</p><pre>    /* Pass all touches to javascript */
    -ms-touch-action: none;
    touch-action: none;
    
</pre>
                </section>
                <section>
                    <p><code>touch-action</code> allows you to disable gestures implemented by a browser. For example, IE10+ supports a double-tap to zoom gesture. By setting a touch-action of <code>pan-x | pan-y | manipulation</code> you prevent the default double-tap behavior.</p>
                    <p>This allows you to implement a double-tap gesture yourself. In the case of IE10+, it also eliminates the 300ms click delay.</p>
                    <p>Below is a list of the available parameters for <em>touch-action</em>.</p>
                </section>
                <section>
                    <p>Remember</p>
                    <ul>
                        <li>Using <code>touch-action&amp;colon; pan-x</code> or <code>touch-action&amp;colon; pan-y</code> are great for being explicit in your intention that a user should only ever scroll vertically or horizontally on an element.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="reference">Reference</h2>
                    <p>The definitive touch events reference can be found here: <a href="http://www.w3.org/TR/touch-events/">w3 Touch Events</a>.</p>
                    <p>These events are the building blocks for adding new gestures into your application:</p>
                </section>
                <section>
                    <p>Each touch event includes three list attributes:</p>
                    <ul>
                        <li>For the <code><a href="http://www.w3.org/TR/touch-events/#dfn-touchstart">touchstart</a></code> event-- list of the touch points that just became active with the current event.</li>
                        <li>For the <code><a href="http://www.w3.org/TR/touch-events/#dfn-touchmove">touchmove</a></code> event-- list of the touch points that have moved since the last event.</li>
                        <li>For the <code><a href="http://www.w3.org/TR/touch-events/#dfn-touchend">touchend</a></code> and <code><a href="http://www.w3.org/TR/touch-events/#dfn-touchcancel">touchcancel</a></code> events-- list of the touch points that have just been removed from the surface.</li>
                    </ul>
                </section>

            </section>
            <section>
                <h1>Images, Audio and Video</h1>
            </section>
            <section>
                <section>
                    <h2>Images in Markup</h2>
                </section>
                <section>
                    <p>The <code>img</code> element is powerful – it downloads, decodes and renders content – and modern browsers support a range of image formats. Including images that work across devices is no different than for desktop, and only requires a few minor tweaks to create a good experience.</p>

                    <ul>
                        <li>Use relative sizes for images to prevent them from accidentally overflowing the container.</li>
                        <li>Use the <code>picture</code> element when you want to specify different images depending on device characteristics (a.k.a. art direction).</li>
                        <li>Use <code>srcset</code> and the <code>x</code> descriptor in the <code>img</code> element to give hints to the browser about the best image to use when choosing from different densities.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="use-relative-sizes-for-images">Use relative sizes for images</h2>
                    <p>Remember to use relative units when specifying widths for images to prevent them from accidentally overflowing the viewport. For example, <code>width: 50%;</code>, will cause the image width to be 50% of the containing element (not the viewport or actual pixel size).</p>
                    <p>Because CSS allows content to overflow its container, it may be necessary use max-width: 100% to prevent images and other content from overflowing. For example:</p><pre><code data-lang="css">img, embed, object, video {
  max-width: 100%;
}</code></pre>
                </section>
                <section>
                    <p>Be sure to provide meaningful descriptions via the <code>alt</code> attribute on <code>img</code> elements; these help make your site more accessible by providing context to screen readers and other assistive technologies.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="enhance-imgs-with-srcset-for-high-dpi-devices">Enhance <code>img</code>’s with <code>srcset</code> for high DPI devices</h2>
                    <p>The <code>srcset</code> attribute enhances the behavior of the <code>img</code> element, making it easy to provide multiple image files for different device characteristics. Similar to the <code>image-set</code> <a href="https://developers.google.com/web/fundamentals/media/images/images-in-css.html#use-image-set-to-provide-high-res-images">CSS function</a> native to CSS, <code>srcset</code> allows the browser to choose the best image depending on the characteristics of the device, for example using a 2x image on a 2x display, and potentially in the future, a 1x image on a 2x device when on a limited bandwidth network.</p><pre><code data-lang="html">&lt;img src="photo.png" srcset="photo@2x.png 2x" ...&gt;</code></pre>
                </section>
                <section>
                    <p>On browsers that don’t support <code>srcset</code>, the browser simply uses the default image file specified by the <code>src</code> attribute. This is why it is important to always include a 1x image that can be displayed on any device, regardless of capabilities. When <code>srcset</code> is supported, the comma-separated list of image/conditions is parsed prior to making any requests, and only the most appropriate image is downloaded and displayed.</p>
                    <p>While the conditions can include everything from pixel density to width and height, only pixel density is well supported today. To balance current behavior with future features, stick with simply providing the 2x image in the attribute.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="art-direction-in-responsive-images-with-picture">Art direction in responsive images with <code>picture</code></h2>
                    <p>Changing images based on device characteristics, also known as art direction can be accomplished using the picture element. The <code>picture</code> element defines a declarative solution for providing multiple versions of an image based on different characteristics, like device size, device resolution, orientation, and more.</p>
                    <p><img alt="Art direction example" src="https://developers.google.com/web/fundamentals/media/images/img/art-direction.png" srcset="img/art-direction.png 1x, img/art-direction-2x.png 2x" />
                    </p>
                </section>

                <section>
                    <p>Important</p>
                    <ul>
                        <li>The <code>picture</code> element is beginning to land in browsers. Although it's not available in every browser yet, we recommend its use because of the strong backward compatibility and potential use of the <a href="http://picturefill.responsiveimages.org/">Picturefill polyfill</a>. See the <a href="http://responsiveimages.org/#implementation">ResponsiveImages.org</a> site for further details.</li>
                    </ul>
                </section>
                <section>
                    <p>The <code>picture</code> element should be used when an image source exists in multiple densities, or when a responsive design dictates a somewhat different image on some types of screens. Similar to the <code>video</code> element, multiple <code>source</code> elements can be included, making it possible to specify different image files depending on media queries or image format.</p><pre>    &lt;picture&gt;
      &lt;source media="(min-width: 800px)" srcset="head.jpg, head-2x.jpg 2x"&gt;
      &lt;source media="(min-width: 450px)" srcset="head-small.jpg, head-small-2x.jpg 2x"&gt;
      &lt;img src="head-fb.jpg" srcset="head-fb-2x.jpg 2x" &gt;
    &lt;/picture&gt;
    
</pre>
                </section>
                <section>
                    <p>In the above example, if the browser width is at least 800px, then either <code>head.jpg</code> or <code>head-2x.jpg</code> will be used, depending on the device resolution. If the browser is between 450px and 800px, then either <code>head-small.jpg</code> or <code>head-small-2x.jpg</code> will be used, again, depending on the device resolution. For screen widths less than 450px and backwards compatibility where the <code>picture</code> element isn’t supported, the browser will render the <code>img</code> element instead, and should always be included.</p>
                    <p>When the final size of the image isn’t known, it can be difficult to specify a density descriptor for the image sources. This is especially true for images that span a proportional width of the browser and are fluid, depending on the size of the browser.</p>
                    <p>Instead of supplying fixed image sizes and densities, the size of each supplied image can be specified by adding a width descriptor along with the size of the image element, allowing the browser to automatically calculate the effective pixel density and choose the best image to download.</p><pre>    &lt;img src="lighthouse-200.jpg" sizes="50vw"
         srcset="lighthouse-100.jpg 100w, lighthouse-200.jpg 200w,
                 lighthouse-400.jpg 400w, lighthouse-800.jpg 800w,
                 lighthouse-1000.jpg 1000w, lighthouse-1400.jpg 1400w,
                 lighthouse-1800.jpg 1800w"&gt;
    
</pre>
                </section>
                <section>
                    <p>The above example renders an image that is half of the viewport width (<code>sizes="50vw"</code>), and depending on the width of the browser and it’s device pixel ratio, allowing the browser to choose the correct image regardless of how large the browser window is. For example, the table below shows which image the browser would choose:</p>
                    <p>In many cases, the size or image may change depending on the site’s layout breakpoints. For example, on a small screen, you might want the image to span the full width of the viewport, while on larger screens, it should only take a small proportion.</p><pre>    &lt;img src="400.png"
         sizes="(min-width: 600px) 25vw, (min-width: 500px) 50vw, 100vw"
         srcset="100.png 100w, 200.png 200w, 400.png 400w,
                 800.png 800w, 1600.png 1600w, 2000.png 2000w"&gt;
    
</pre>
                </section>
                <section>
                    <p>The <code>sizes</code> attribute in the above example uses several media queries to specify the size of the image. When the browser width is greater than 600px, the image will be 25% of the viewport width, when it is between 500px and 600px, the image will be 50% of the viewport width, and below 500px, it will be full width.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="make-product-images-expandable">Make product images expandable</h2>
                    <p>Customers want to see what they’re buying. On retail sites, users expect to be able to view high resolution closeups of products to get a better look at details, and <a href="https://developers.google.com/web/fundamentals/principles/research-study.html">study participants</a> got frustrated if they weren’t able to.</p>
                    <p>A good example of tappable, expandable images is provided by the J. Crew site.
                        <br>An disappearing overlay indicates that an image is tappable, providing a zoomed in image with fine detail visible.</br>
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="other-image-techniques">Other image techniques</h2>
                    <p>The <a href="http://www.html5rocks.com/en/mobile/high-dpi/#toc-tech-overview">compressive image technique</a> serves a highly compressed 2x image to all devices, no matter the actual capabilities of the device. Depending on the type of image and level of compression, image quality may not appear to change, but the file size drops significantly.</p>
                    <p><a href="http://googlesamples.github.io/web-fundamentals/samples/media/images/compressive.html">See example</a>
                    </p>
                </section>
                <section>
                    <p>Important</p>
                    <ul>
                        <li>Use caution with the compressive technique because of the increased memory and decoding costs it requires. Resizing large images to fit on smaller screens is expensive and can be particularly painful on low-end devices where both memory and processing is limited.</li>
                    </ul>
                </section>
                <section>
                    <p>JavaScript image replacement checks the capabilities of the device and “does the right thing”. You can determine device pixel ratio via <code>window.devicePixelRatio</code>, get screen width and height, and even potentially do some network connection sniffing via <code>navigator.connection</code> or issuing a fake request. Once you’ve collected all of this information, you can decide which image to load.</p>
                    <p>One big drawback to this approach is that using JavaScript means that you will delay image loading until at least the look-ahead parser has finished. This means that images won’t even start downloading until after the <code>pageload</code> event fires. In addition, the browser will most likely download both the 1x and 2x images, resulting in increased page weight.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Images in CSS</h2>
                </section>
                <section>
                    <p>The CSS `background` property is a powerful tool for adding complex images to elements, making it easy to add multiple images, cause them to repeat, and more. When combined with media queries, the background property becomes even more powerful, enabling conditional image loading based on screen resolution, viewport size and more.</p>

                    <ul>
                        <li>Use the best image for the characteristics of the display, consider screen size, device resolution and page layout.</li>
                        <li>Change the <code>background-image</code> property in CSS for high DPI displays using media queries with <code>min-resolution</code> and <code>-webkit-min-device-pixel-ratio</code>.</li>
                        <li>Use srcset to provide high resolution images in addition to the 1x image in markup.</li>
                        <li>Consider the performance costs when using JavaScript image replacement techniques or when serving highly compressed high resolution images to lower resolution devices.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="use-media-queries-for-conditional-image-loading-or-art-direction">Use media queries for conditional image loading or art direction</h2>
                    <p>Media queries not only affect the page layout, but can also be used to conditionally load images or to provide art direction depending on the viewport width.</p>
                    <p>For example in the sample below, on smaller screens, only <code>small.png</code> is downloaded and applied to the content <code>div</code>, while on larger screens, <code>background-image: url(body.png)</code> is applied to the body and <code>background-image: url(large.png)</code> is applied to the content <code>div</code>.</p><pre>    .example {
      height: 400px;
      background-image: url(small.png);
      background-repeat: no-repeat;
      background-size: contain;
      background-position-x: center;
    }

    @media (min-width: 500px) {
      body {
        background-image: url(body.png);
      }
      .example {
        background-image: url(large.png);
      }
    }
    
</pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="use-image-set-to-provide-high-res-images">Use image-set to provide high res images</h2>
                    <p>The <code>image-set()</code> function in CSS enhances the behavior <code>background</code> property, making it easy to provide multiple image files for different device characteristics. This allows the browser to choose the best image depending on the characteristics of the device, for example using a 2x image on a 2x display, or a 1x image on a 2x device when on a limited bandwidth network.</p><pre><code data-lang="css">background-image: image-set(
  url(icon1x.jpg) 1x,
  url(icon2x.jpg) 2x
);</code></pre>
                </section>
                <section>
                    <p>In addition to loading the correct image, the browser will also scale it accordingly. In other words, the browser assumes that 2x images are twice as large as 1x images, and so will scale the 2x image down by a factor of 2, so that the image appears to be the same size on the page.</p>
                    <p>Support for <code>image-set()</code> is still new and is only supported in Chrome and Safari with the <code>-webkit</code> vendor prefix. Care must also be taken to include a fallback image for when <code>image-set()</code> is not supported, for example:</p><pre>    .sample {
      width: 128px;
      height: 128px;
      background-image: url(icon1x.png);
      background-image: -webkit-image-set(
        url(icon1x.png) 1x,
        url(icon2x.png) 2x
      );
      background-image: image-set(
        url(icon1x.png) 1x,
        url(icon2x.png) 2x
      );
    }
    
</pre>
                </section>
                <section>
                    <p>The above will load the appropriate asset in browsers that support image-set, and fall back to the 1x asset otherwise. The obvious caveat is that while <code>image-set()</code> browser support is low, most browsers will get the 1x asset.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="use-media-queries-to-provide-high-res-images-or-art-direction">Use media queries to provide high res images or art direction</h2>
                    <p>Media queries can create rules based on the <a href="http://www.html5rocks.com/en/mobile/high-dpi/#toc-bg">device pixel ratio</a>, making it possible to specify different images for 2x vs 1x displays.</p><pre><code data-lang="css">@media (min-resolution: 2dppx),
(-webkit-min-device-pixel-ratio: 2)
{
  /* High dpi styles &amp; resources here */
}</code></pre>
                </section>
                <section>
                    <p>Chrome, Firefox and Opera all support the standard <code>(min-resolution: 2dppx)</code>, while Safari and Android Browser both require the older vendor prefixed syntax without the <code>dppx</code> unit. Remember, these styles are only loaded if the device matches the media query, and you must specify styles for the base case. This also provides the benefit of ensuring something will be rendered if the browser doesn’t support resolution specific media queries.</p><pre>    .sample {
      width: 128px;
      height: 128px;
      background-image: url(icon1x.png);
    }

    @media (min-resolution: 2dppx), /* Standard syntax */
    (-webkit-min-device-pixel-ratio: 2)  /* Safari &amp; Android Browser */
    {
      .sample {
        background-size: contain;
        background-image: url(icon2x.png);
      }
    }
    
</pre>
                </section>
                <section>
                    <p>You can also use the min-width syntax to display alternative images depending on the viewport size. This technique has the advantage that the image is not downloaded if media query doesn’t match. For example, <code>bg.png</code> is only downloaded and applied to the <code>body</code> if the browser width is 500px or greater:</p><pre><code data-lang="css">@media (min-width: 500px) {
  body {
    background-image: url(bg.png);
  }
}</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>Use SVG for icons</h2>
                </section>
                <section>
                    <p>When adding icons to your page, use SVG icons where possible or in some cases, unicode characters.</p>

                    <ul>
                        <li>Use SVG or unicode for icons instead of raster images.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="replace-simple-icons-with-unicode">Replace simple icons with unicode</h2>
                    <p>Many fonts include support for the myriad of unicode glyphs, which can be used instead of images. Unlike images, unicode fonts scale well, and look good no matter how small or large they appear on screen.</p>
                    <p>Including a unicode character is done in the same way named entities are: <code>&amp;#XXXX</code>, where <code>XXXX</code> represents the unicode character number. For example:</p><pre><code data-lang="html">You're a super &amp;#9733;</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="replace-complex-icons-with-svg">Replace complex icons with SVG</h2>
                </section>
                <section>
                    <p>For more complex icon requirements, SVG icons are generally lightweight, easy to use and can be styled with CSS. SVG have a number of advantages over raster images:</p>
                    <ul>
                        <li>They’re vector graphics that can be infinitely scaled.</li>
                        <li>CSS effects such as color, shadowing, transparency and animations are straightforward.</li>
                        <li>SVG images can be inlined right in the document.</li>
                        <li>They are semantic.</li>
                        <li>Provide better accessibility with the appropriate attributes.</li>
                    </ul>
                </section>
                <section>
                    <p> </p><pre>    With SVG icons, you can either add icons using inline SVG, like
    this checkmark:
      &lt;svg version="1.1" xmlns="http://www.w3.org/2000/svg"
           xmlns:xlink="http://www.w3.org/1999/xlink"
           width="32" height="32" viewBox="0 0 32 32"&gt;
        &lt;path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#000000"&gt;&lt;/path&gt;
      &lt;/svg&gt;
    or by using an image tag, like this credit card icon:
    &lt;img src="credit.svg"&gt;.
    
</pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="use-icon-fonts-with-caution">Use icon fonts with caution</h2>
                </section>
                <section>
                    <p>Icon fonts are popular, and can be easy to use, but have some drawbacks compared to SVG icons.</p>
                    <ul>
                        <li>They’re vector graphics that can be infinitely scaled, but may be anti-aliased resulting in icons that aren’t as sharp as expected.</li>
                        <li>Limited styling with CSS.</li>
                        <li>Pixel perfect positioning can be difficult, depending on line-height, letter spacing, etc.</li>
                        <li>Are not semantic, and can be difficult to use with screen readers or other assistive technology.</li>
                        <li>Unless properly scoped, can result in a large file size for only using a small subset of the icons available.</li>
                    </ul>
                </section>
                <section>
                    <p>
                        <a href="http://googlesamples.github.io/web-fundamentals/samples/media/images/icon-font.html"><img alt="Example of a page that uses FontAwesome for its font icons." src="https://developers.google.com/web/fundamentals/media/images/img/icon-fonts.png" srcset="img/icon-fonts.png 1x, img/icon-fonts-2x.png 2x" />
                        </a>
                    </p><pre>    With Font Awesome, you can either add icons by using a unicode
    entity, like this HTML5 logo (&lt;span&gt;&amp;#xf13b;&lt;/span&gt;)
    or by adding special classes to an &amp;lt;i&amp;gt; element like the CSS3
    logo (&lt;i&gt;&lt;/i&gt;).
    
</pre>
                </section>
                <section>
                    <p>There are hundreds of free and paid icon fonts available including <a href="http://fortawesome.github.io/Font-Awesome/">Font Awesome</a>, <a href="http://pictos.cc/">Pictos</a> and <a href="http://glyphicons.com/">Glyphicons</a>.</p>
                    <p>Be sure to balance the weight of the additional HTTP request and file size with the need for the icons. For example, if you only need a handful of icons, it may be better to use an image or an image sprite.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Optimize images for performance</h2>
                </section>
                <section>
                    <p>Images often account for most of the downloaded bytes and also often occupy a significant amount of the visual space on the page. As a result, optimizing images can often yield some of the largest byte savings and performance improvements for your website: the fewer bytes the browser has to download, the less competition there is for client's bandwidth and the faster the browser can download and display all the assets.</p>

                    <ul>
                        <li>Don't just randomly choose an image format, understand the different formats available, and use the format best suited.</li>
                        <li>Include image optimization and compression tools into your workflow to reduce file sizes.</li>
                        <li>Reduce the number of http requests by placing frequently used images into image sprites.</li>
                        <li>Consider loading images only after they’ve scrolled into view to improve the initial page load time and reduce the initial page weight.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="choose-the-right-format">Choose the right format</h2>
                    <p>There are two types of images to consider: <a href="http://en.wikipedia.org/wiki/Vector_graphics">vector images</a> and <a href="http://en.wikipedia.org/wiki/Raster_graphics">raster images</a>. For raster images, you also need to choose the right compression format, for example: <code>GIF</code>, <code>PNG</code>, <code>JPG</code>.</p>
                    <p><strong>Raster images</strong>, like photographs and other images which are represented as a grid of individual dots or pixels. Raster images typically come from a camera or scanner, or can be created in the browser with the <code>canvas</code> element. As the image size gets larger, the file size grows as well. When scaled larger than their original size, raster images get blurry as the browser needs to guess how to fill in the missing pixels.</p>
                    <p><strong>Vector images</strong>, such as logos and line art are be defined by a set of curves, lines, shapes and fill colors. Vector images are created with programs like Adobe Illustrator or Inkscape and saved to a vector format like <a href="http://css-tricks.com/using-svg/"><code>SVG</code></a>. Because vector images are built on simple primitives, they can be scaled without any loss in quality without a change in file size.</p>
                    <p>When choosing the right format, it is important to consider both the origin of the image (raster or vector), and the content (colors, animation, text, etc). No one format will fit all image types and each has its own strengths and weaknesses.</p>
                </section>
                <section>
                    <p>Start with these guidelines when choosing the right format:</p>
                    <ul>
                        <li>Use <code>JPG</code> for photographic images.</li>
                        <li>Use <code>SVG</code> for vector art and solid color graphics such as logos and line art. If vector art is unavailable, try WebP or PNG.</li>
                        <li>Use <code>PNG</code> rather than <code>GIF</code> as it allows for more colors and offers better compression ratios.</li>
                        <li>For longer animations, consider using <code>&lt;video&gt;</code> which provide better image quality and gives the user control over playback.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="reduce-the-file-size">Reduce the file size</h2>
                    <p>Image file size can be considerably reduced by ‘post-processing’ them after saving. There are a number of tools for image compression – lossy and lossless, online, GUI, command line. Where possible, it’s best to try automating image optimization so that it’s a first-class citizen in your workflow.</p>
                    <p>Several tools are available that perform further, lossless compression on <code>JPG</code> and <code>PNG</code> files, with no effect on image quality. For <code>JPG</code>, try <a href="http://jpegclub.org/">jpegtran</a> or <a href="http://freshmeat.net/projects/jpegoptim/">jpegoptim</a> (available on Linux only; run with the –strip-all option). For <code>PNG</code>, try <a href="http://optipng.sourceforge.net/">OptiPNG</a> or <a href="http://www.advsys.net/ken/util/pngout.htm">PNGOUT</a>.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="use-image-sprites">Use image sprites</h2>
                    <p>CSS spriting is a technique whereby a number of images are combined in a single ‘sprite sheet’ image. Individual images can then be used by specifying the background image for an element (the sprite sheet) plus an offset to display the correct part.</p>
                    <p>
                        <a href="http://googlesamples.github.io/web-fundamentals/samples/media/images/image-sprite.html"><img alt="Image sprite sheet used in example" src="https://developers.google.com/web/fundamentals/media/images/img/sprite-sheet.png" />
                        </a>
                    </p><pre>    .sprite-sheet {
      background-image: url(sprite-sheet.png);
      width: 40px;
      height: 25px;
    }

    .google-logo {
      width: 125px;
      height: 45px;
      background-position: -190px -170px;
    }

    .gmail {
      background-position: -150px -210px;
    }

    .maps {
      height: 40px;
      background-position: -120px -165px;
    }
    
</pre>
                </section>
                <section>
                    <p>Spriting has the advantage of reducing the number of downloads required to get multiple images, while still enabling caching.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="consider-lazy-loading">Consider lazy loading</h2>
                    <p>Lazy loading can significantly speed up loading on long pages that include many images below the fold by loading them either as needed or once the primary content has finished loading and rendering. In addition to performance improvements, using lazy loading can create infinite scrolling experiences.</p>
                </section>
                <section>
                    <p>Be careful when creating infinite scrolling pages, because content is loaded as it becomes visible, search engines may never see that content. In addition, users who are looking for information they expect to see in the footer will never see the footer because new content is always loaded.</p>
                    <ul>
                        <li>
                            <p><a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/" title="Optimizing Content Efficiency">Optimizing Content Efficiency</a>
                            </p>
                            <p><a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/optimize-encoding-and-transfer.html#image-optimization">Image optimization</a>
                            </p>
                        </li>
                    </ul>
                </section>
                <section>
                    <p><a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/" title="Optimizing Content Efficiency">Optimizing Content Efficiency</a>
                    </p>
                    <p><a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/optimize-encoding-and-transfer.html#image-optimization">Image optimization</a>
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Avoid images completely</h2>
                </section>
                <section>
                    <p>Sometimes, the best image isn't actually an image at all. Whenever possible, use the native capabilities of the browser to provide the same or similar functionality. Browsers generate visuals that would have previously required images. This means that browsers no longer need to download separate image files and prevents awkwardly scaled images. Icons can be rendered using unicode or special icon fonts.</p>

                    <ul>
                        <li>Avoid images whenever possible, instead, leverage browser capabilities for shadows, gradients, rounded corners and more.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="place-text-in-markup-instead-of-embedded-in-images">Place text in markup, instead of embedded in images</h2>
                    <p>Wherever possible, text should be text, and not embedded into images, for example using images for headlines, or placing contact information like phone numbers or addresses directly into images. This prevents people from being able to copy and paste the information, makes it inaccessible for screen readers, and isn’t responsive. Instead, place the text in your markup and if necessary use webfonts to achieve the style you need.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="use-css-to-replace-images">Use CSS to replace images</h2>
                    <p>Modern browsers can use CSS features to create styles that would previously required images. For examples, complex gradients can be created using the <code>background</code> property, shadows can be created using <code>box-shadow</code> and rounded corners can be added with the <code>border-radius</code> property.</p>
                    <p id="noImage">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque sit amet augue eu magna scelerisque porta ut ut dolor. Nullam placerat egestas nisl sed sollicitudin. Fusce placerat, ipsum ac vestibulum porta, purus dolor mollis nunc, pharetra vehicula nulla nunc quis elit. Duis ornare fringilla dui non vehicula. In hac habitasse platea dictumst. Donec ipsum lectus, hendrerit malesuada sapien eget, venenatis tempus purus.</p><pre><code data-lang="html">&lt;style&gt;
  div#noImage {
    color: white;
    border-radius: 5px;
    box-shadow: 5px 5px 4px 0 rgba(9,130,154,0.2);
    background: linear-gradient(rgba(9, 130, 154, 1), rgba(9, 130, 154, 0.5));
  }
&lt;/style&gt;</code></pre>
                </section>
                <section>
                    <p>Keep in mind that using these techniques does require rendering cycles, which can be significant on mobile. If over-used, you’ll lose any benefit you may have gained and may hinder performance.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Add a video</h2>
                </section>
                <section>
                    <p>Learn about the simplest ways to add video to your site and ensure users get the best possible experience on any device.</p>

                    <ul>
                        <li>Use the video element to load, decode, and play video on your site.</li>
                        <li>Produce video in multiple formats to cover a range of mobile platforms.</li>
                        <li>Size videos correctly; ensure they don't overflow their containers.</li>
                        <li>Accessibility matters; add the track element as a child of the video element.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="add-the-video-element">Add the video element</h2>
                    <p>Add the video element to load, decode, and play video in your site:</p>
                    <p>This browser does not support the video element.</p><pre><code data-lang="html">&lt;video src="chrome.webm" type="video/webm"&gt;
    &lt;p&gt;Your browser does not support the video element.&lt;/p&gt;
&lt;/video&gt;</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="specify-multiple-file-formats">Specify multiple file formats</h2>
                    <p>Not all browsers support the same video formats. The <code>&lt;source&gt;</code> element lets you specify multiple formats as a fallback in case the user’s browser doesn’t support one of them. For example:</p><pre>    &lt;video controls&gt;
      &lt;source src="chrome.webm" type="video/webm"&gt;
      &lt;source src="chrome.mp4" type="video/mp4"&gt;
      &lt;p&gt;This browser does not support the video element.&lt;/p&gt;
    &lt;/video&gt;
    
</pre>
                </section>
                <section>
                    <p>When the browser parses the <code>&lt;source&gt;</code> tags, it uses the optional <code>type</code> attribute to help decide which file to download and play. If the browser supports WebM, it will play chrome.webm, if not, it will check if it can play MPEG-4 videos. Check out <a href="https://www.xiph.org/video/vid1.shtml" title="Highly entertaining and informative video guide to digital video">A Digital Media Primer for Geeks</a> to find out more about how video and audio work on the web.</p>
                </section>
                <section>
                    <p>This approach has several advantages over serving different HTML or server-side scripting, especially on mobile:</p>
                    <ul>
                        <li>Developers can list formats in order of preference.</li>
                        <li>Native client-side switching reduces latency; only one request is made to get content.</li>
                        <li>Letting the browser choose a format is simpler, quicker and potentially more reliable than using a server-side support database with user-agent detection.</li>
                        <li>Specifying each file source’s type improves network performance; the browser can select a video source without having to download part of the video to ‘sniff’ the format.</li>
                    </ul>
                </section>
                <section>
                    <p>All of these points are especially important in mobile contexts, where bandwidth and latency are at a premium, and the user’s patience is likely to be limited. Not including a type attribute can affect performance when there are multiple sources with unsupported types.</p>
                    <p>Using your mobile browser developer tools, compare network activity <a href="http://googlesamples.github.io/web-fundamentals/samples/media/video/video-main.html">with type attributes</a> and <a href="http://googlesamples.github.io/web-fundamentals/samples/media/video/notype.html">without type attributes</a>. Also check the response headers in your browser developer tools to <a href="https://developer.mozilla.org/en/docs/Properly_Configuring_Server_MIME_Types">ensure your server reports the right MIME type</a>; otherwise video source type checks won’t work.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="specify-a-start-and-end-time">Specify a start and end time</h2>
                    <p>Save bandwidth and make your site feel more responsive: use the Media Fragments API to add a start and end time to the video element.</p>
                    <p>This browser does not support the video element.</p>
                    <p>To add a media fragment, you simply add <code>#t=[start_time][,end_time]</code> to the media URL. For example, to play the video between seconds 5 through 10, specify:</p><pre><code data-lang="html">&lt;source src="video/chrome.webm#t=5,10" type="video/webm"&gt;</code></pre>
                </section>
                <section>
                    <p>You can also use the Media Fragments API to deliver multiple views on the same video – like cue points in a DVD – without having to encode and serve multiple files.</p>
                </section>
                <section>
                    <p>Remember</p>
                    <ul>
                        <li>The Media Fragments API is supported on most platforms, but not on iOS.</li>
                        <li>Make sure Range Requests are supported by your server. Range Requests are enabled by default on most servers, but some hosting services may turn them off.</li>
                    </ul>
                </section>
                <section>
                    <p>Using your browser developer tools, check for <code>Accept-Ranges: bytes</code> in the response headers:</p>
                    <p><img alt="Chrome Dev Tools screenshot: Accept-Ranges: bytes" src="https://developers.google.com/web/fundamentals/media/video/images/Accept-Ranges-Chrome-Dev-Tools.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="include-a-poster-image">Include a poster image</h2>
                    <p>Add a poster attribute to the video element so that your users have an idea of the content as soon as the element loads, without needing to download video or start playback.</p><pre><code data-lang="html">&lt;video poster="poster.jpg" ...&gt;
  ...
&lt;/video&gt;</code></pre>
                </section>
                <section>
                    <p>A poster can also be a fallback if the video <code>src</code> is broken or none of the video formats supplied are supported. The only downside to poster images is an additional file request, which consumes some bandwidth and requires rendering. For more information see <a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/optimize-encoding-and-transfer.html#image-optimization">Image optimization</a>.</p>
                    <p>Here’s a side-by-side comparison of videos without and with a poster image – we’ve made the poster image grayscale to prove it’s not the video:</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Provide alternatives for legacy platforms</h2>
                    <p>Not all video formats are supported on all platforms. Check which formats are supported on the major platforms and make sure your video works in each of these.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="check-which-formats-are-supported">Check which formats are supported</h2>
                    <p>Use <code>canPlayType()</code> to find out which video formats are supported. The method takes a string argument consistent of a <code>mime-type</code> and optional codecs and returns one of the following values:</p>
                    <p>Here are some examples of <code>canPlayType()</code> arguments and return values when run in Chrome:</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="produce-video-in-multiple-formats">Produce video in multiple formats</h2>
                </section>
                <section>
                    <p>There are lots of tools to help save the same video in different formats:</p>
                    <ul>
                        <li>Desktop tools: <a href="https://ffmpeg.org/">FFmpeg</a>
                        </li>
                        <li>GUI applications: <a href="https://www.mirovideoconverter.com/">Miro</a>, <a href="https://handbrake.fr/">HandBrake</a>, <a href="https://www.videolan.org/">VLC</a>
                        </li>
                        <li>Online encoding/transcoding services: <a href="https://en.wikipedia.org/wiki/Zencoder">Zencoder</a>, <a href="https://aws.amazon.com/elastictranscoder">Amazon Elastic Encoder</a>
                        </li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="check-which-format-was-used">Check which format was used</h2>
                    <p>Want to know which video format was actually chosen by the browser?</p>
                    <p>In JavaScript, use the video’s <code>currentSrc</code> property to return the source used.</p>
                    <p>To see this in action, check out <a href="http://googlesamples.github.io/web-fundamentals/samples/media/video/video-main.html">this demo</a>: Chrome and Firefox choose <code>chrome.webm</code> (because that’s the first in the list of potential sources these browsers support) whereas Safari chooses <code>chrome.mp4</code>.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Size videos correctly</h2>
                </section>
                <section>
                    <p>When it comes to keeping your users happy, size matters.</p>

                    <ul>
                        <li>Don't serve videos with a larger frame size or higher quality than the platform can handle.</li>
                        <li>Don't make your videos any longer than they need be.</li>
                        <li>Long videos can cause hiccups with download and seeking; some browsers may have to wait until the video downloads before beginning playback.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="check-video-size">Check video size</h2>
                    <p>The actual video frame size as encoded may be different from the video element dimensions (just as an image may not be displayed using its actual dimensions).</p>
                    <p>To check the encoded size of a video, use the video element <code>videoWidth</code> and <code>videoHeight</code> properties. <code>width</code> and <code>height</code> return the dimensions of the video element, which may have been sized using CSS or inline width and height attributes.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="ensure-videos-dont-overflow-containers">Ensure videos don’t overflow containers</h2>
                    <p>When video elements are too big for the viewport, they may overflow their container, making it impossible for the user to see the content or use the controls.</p>
                    <p>You can control video dimensions using JavaScript or CSS. JavaScript libraries and plugins such as <a href="https://fitvidsjs.com/">FitVids</a> make it possible to maintain appropriate size and aspect ratio, even for Flash videos from YouTube and other sources.</p>
                </section>
                <section>
                    <p>Use <a href="https://developers.google.com/web/fundamentals/layouts/rwd-fundamentals/#use-css-media-queries-for-responsiveness">CSS media queries</a> to specify the size of elements depending on the viewport dimensions; <code>max-width: 100%</code> is your friend.</p>
                    <ul>
                        <li>
                            <p><a href="https://developers.google.com/web/layouts/rwd-fundamentals/" title="Responsive Web Design Basics">Responsive Web Design Basics</a>
                            </p>
                            <p><a href="https://developers.google.com/web/fundamentals/layouts/rwd-fundamentals/use-media-queries.html">Use CSS media queries for responsiveness</a>
                            </p>
                        </li>
                    </ul>
                </section>
                <section>
                    <p><a href="https://developers.google.com/web/layouts/rwd-fundamentals/" title="Responsive Web Design Basics">Responsive Web Design Basics</a>
                    </p>
                    <p><a href="https://developers.google.com/web/fundamentals/layouts/rwd-fundamentals/use-media-queries.html">Use CSS media queries for responsiveness</a>
                    </p>
                    <p>For media content in iframes (such as YouTube videos), try a responsive approach (like the one <a href="https://avexdesigns.com/responsive-youtube-embed/">proposed by John Surdakowski</a>).</p>
                </section>
                <section>
                    <p>Remember</p>
                    <ul>
                        <li>Don't force element sizing that results in an aspect ratio different from the original video. Squashed or stretched looks bad.</li>
                    </ul>
                </section>
                <section>
                    <p><strong>CSS:</strong>
                    </p><pre>    .video-container {
        position: relative;
        padding-bottom: 56.25%;
        padding-top: 30px;
        height: 0;
        overflow: hidden;
    }

    .video-container iframe,
    .video-container object,
    .video-container embed {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    
</pre>
                </section>
                <section>
                    <p><strong>HTML:</strong>
                    </p><pre>    &lt;div&gt;
      &lt;iframe src="//www.youtube.com/embed/l-BA9Ee2XuM"
              frameborder="0" width="560" height="315"&gt;
      &lt;/iframe&gt;
    &lt;/div&gt;
    
</pre>
                </section>
                <section>
                    <p>Compare the <a href="http://googlesamples.github.io/web-fundamentals/samples/media/video/responsive_embed.html">responsive sample</a> to the <a href="http://googlesamples.github.io/web-fundamentals/samples/media/video/unyt.html">unresponsive version</a>.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Customize the video player</h2>
                    <p>Different platforms display video differently. Mobile solutions need to consider device orientation. Use Fullscreen API to control the fullscreen view of video content.</p>
                    <p>Different platforms display video differently. Mobile solutions need to consider device orientation. Use Fullscreen API to control the fullscreen view of video content.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="how-device-orientation-works-across-devices">How device orientation works across devices</h2>
                    <p>Device orientation isn’t an issue for desktop monitors or laptops, but is hugely important when considering web page design for mobile and tablets.</p>
                    <p>Safari on iPhone does a good job of switching between portrait and landscape orientation:</p>
                    <p>Device orientation on an iPad and Chrome on Android can be problematic. For example, without any customization a video playing on an iPad in landscape orientation looks like this:</p>
                    <p><img alt="Screenshot of video playing in Safari on iPad Retina, landscape" src="https://developers.google.com/web/fundamentals/media/video/images/iPad-Retina-landscape-video-playing.png" />
                    </p>
                </section>
                <section>
                    <p>Setting the video <code>width: 100%</code> or <code>max-width: 100%</code> with CSS can resolve many device orientation layout problems. You may also want to consider fullscreen alternatives.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="inline-or-fullscreen-display">Inline or fullscreen display</h2>
                    <p>Different platforms display video differently. Safari on an iPhone displays a video element inline on a web page, but plays video back in fullscreen mode:</p>
                    <p><img alt="Screenshot of video element on iPhone, portrait" src="https://developers.google.com/web/fundamentals/media/video/images/iPhone-video-with-poster.png" />
                    </p>
                </section>
                <section>
                    <p>On Android, users can request request fullscreen mode by clicking the fullscreen icon. But the default is to play video inline:</p>
                    <p><img alt="Screenshot of video playing in Chrome on Android, portrait" src="https://developers.google.com/web/fundamentals/media/video/images/Chrome-Android-video-playing-portrait-3x5.png" />
                    </p>
                </section>
                <section>
                    <p>Safari on an iPad plays video inline:</p>
                    <p><img alt="Screenshot of video playing in Safari on iPad Retina, landscape" src="https://developers.google.com/web/fundamentals/media/video/images/iPad-Retina-landscape-video-playing.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="control-fullscreening-of-content">Control fullscreening of content</h2>
                    <p>For platforms that do not force fullscreen video playback, the Fullscreen API is <a href="https://caniuse.com/fullscreen">widely supported</a>. Use this API to control fullscreening of content, or the page.</p>
                    <p>To full screen an element, like a video:</p><pre><code data-lang="javascript">elem.requestFullScreen();</code></pre>
                </section>
                <section>
                    <p>To full screen the entire document:</p><pre><code data-lang="javascript">document.body.requestFullScreen();</code></pre>
                </section>
                <section>
                    <p>You can also listen for fullscreen state changes:</p><pre><code data-lang="javascript">video.addEventListener("fullscreenchange", handler);</code></pre>
                </section>
                <section>
                    <p>Or, check to see if the element is currently in fullscreen mode:</p><pre><code data-lang="javascript">console.log("In full screen mode: ", video.displayingFullscreen);</code></pre>
                </section>
                <section>
                    <p>You can also use the CSS <code>:fullscreen</code> pseudo-class to change the way elements are displayed in fullscreen mode.</p>
                    <p>On devices that support the Fullscreen API, consider using thumbnail images as placeholders for video:</p>
                    <p>This browser does not support the video element.</p>
                    <p>To see this in action, check out the <a href="http://googlesamples.github.io/web-fundamentals/samples/media/video/fullscreen.html">demo</a>.</p>
                    <p><strong>NOTE:</strong> <code>requestFullScreen()</code> is currently vendor prefixed and may require extra code for full cross browser compatibility.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Accessibility matters</h2>
                    <p>Accessibility isn't a feature. Users who can't hear or see won't be able to experience a video at all without captions or descriptions. The time it takes to add these to your video is much less than the bad experience you are delivering to users. Provide at least a base experience for all users.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="include-captions-to-improve-accessibility">Include captions to improve accessibility</h2>
                    <p>To make media more accessible on mobile, include captions or descriptions using the track element.</p>
                </section>
                <section>
                    <p>Remember</p>
                    <ul>
                        <li>The track element is supported on Chrome for Android, iOS Safari, and all current browsers on desktop except Firefox (see <a href="http://caniuse.com/track" title="Track element support status">caniuse.com/track</a>). There are several polyfills available too. We recommend <a href="https://www.delphiki.com/html5/playr/" title="Playr track element polyfill">Playr</a> or <a href="https://captionatorjs.com/" title="Captionator track">Captionator</a>.</li>
                    </ul>
                </section>
                <section>
                    <p>Using the track element, captions appear like this:</p>
                    <p><img alt="Screenshot showing captions displayed using the track element in Chrome on Android" src="https://developers.google.com/web/fundamentals/media/video/images/Chrome-Android-track-landscape-5x3.jpg" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="add-track-element">Add track element</h2>
                    <p>It’s very easy to add captions to your video – simply add a track element as a child of the video element:</p><pre>    &lt;video controls&gt;
        &lt;source src="chrome.webm" type="video/webm" /&gt;
        &lt;source src="chrome.mp4" type="video/mp4" /&gt;
      &lt;track src="chrome-subtitles-en.vtt" label="English captions"
             kind="captions" srclang="en" default&gt;
      &lt;p&gt;This browser does not support the video element.&lt;/p&gt;
    &lt;/video&gt;
    
</pre>
                </section>
                <section>
                    <p>The track element <code>src</code> attribute gives the location of the track file.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="define-captions-in-track-file">Define captions in track file</h2>
                    <p>A track file consists of timed ‘cues’ in WebVTT format:</p><pre><code>WEBVTT

00:00.000 --&gt; 00:04.000
Man sitting on a tree branch, using a laptop.

00:05.000 --&gt; 00:08.000
The branch breaks, and he starts to fall.

...
</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>Quick Reference</h2>
                    <p>A quick overview of properties on the video element.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="video-element-attributes">Video element attributes</h2>
                    <p>For the complete list of video element attributes and their definitions, see <a href="https://www.w3.org/TR/html5/embedded-content-0.html#the-video-element">the video element spec</a>.</p>
                    <p>On desktop, <code>autoplay</code> tells the browser to immediately start downloading and playing the video as soon as it can. On iOS, and Chrome for Android, <code>autoplay</code> doesn’t work; users must tap the screen to play the video.</p>
                </section>
                <section>
                    <p>Even on platforms where autoplay is possible, you need to consider whether it’s a good idea to enable it:</p>
                    <ul>
                        <li>Data usage can be expensive.</li>
                        <li>Causing media to download and playback to begin, without asking first, can unexpectedly hog bandwidth and CPU, and thereby delay page rendering.</li>
                        <li>Users may be in a context where playing video or audio is intrusive.</li>
                    </ul>
                </section>
                <section>
                    <p>Autoplay behavior is configurable in the Android WebView via the <a href="https://developer.android.com/reference/android/webkit/WebSettings.html#setMediaPlaybackRequiresUserGesture(boolean)">WebSettings API</a>. It defaults to true but a WebView app can choose to disable it.</p>
                    <p>The <code>preload</code> attribute provides a hint to the browser as to how much information or content should be preloaded.</p>
                    <p>The <code>preload</code> attribute has different effects on different platforms. For example, Chrome buffers 25 seconds of video on desktop, none on iOS or Android. This means that on mobile, there may be playback startup delays that don’t happen on desktop. See <a href="https://stevesouders.com/tests/mediaevents.php">Steve Souders’ test page</a> for full details.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="javascript">JavaScript</h2>
                    <p><a href="https://www.html5rocks.com/en/tutorials/video/basics/#toc-javascript">The HTML5 Rocks Video article</a> does a great job of summarizing the JavaScript properties, methods, and events that can be used to control video playback. We’ve included that content here, updating it with mobile-specific concerns where relevant.</p>
                    <p>Neither playbackRate (<a href="http://googlesamples.github.io/web-fundamentals/samples/media/video/scripted.html">see demo</a>) nor volume are supported on mobile.</p>
                    <p>On mobile (apart from Opera on Android) play() and pause() don’t work unless called in response to user action, such as clicking a button: see the <a href="http://googlesamples.github.io/web-fundamentals/samples/media/video/scripted.html">demo</a>. (Likewise, playback can’t be initiated for content such as embedded YouTube videos.)</p>
                    <p>These are only a subset of the media events that may be fired. Refer to the <a href="https://developer.mozilla.org/docs/Web/Guide/Events/Media_events">Media events</a> page on the Mozilla Developer Network for a complete listing.</p>
                </section>
            </section>
            <section>
                <h1>Optimizing Performance</h1>
            </section>
            <section>
                <section>
                    <h2>Constructing the Object Model</h2>
                    <p>Before the browser can render the page it needs to construct the DOM and CSSOM trees. As a result, we need to ensure that we deliver both the HTML and CSS to the browser as quickly as possible.</p>

                </section>
            </section>
            <section>
                <section>
                    <h2 id="document-object-model-dom">Document Object Model (DOM)</h2>
                </section>
            </section>
            <section>
                <section>
                    <h2><a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/constructing-the-object-model.html">Learn about DOM construction @ Udacity</a></h2>
                    <p>Get hands on with videos, quizzes, discussions and more.</p><pre>    &lt;html&gt;
      &lt;head&gt;
        &lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;
        &lt;link href="style.css" rel="stylesheet"&gt;
        &lt;title&gt;Critical Path&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;p&gt;Hello &lt;span&gt;web performance&lt;/span&gt; students!&lt;/p&gt;
        &lt;div&gt;&lt;img src="awesome-photo.jpg"&gt;&lt;/div&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>
                <section>
                    <p>Let’s start, with the simplest possible case: a plain HTML page with some text and a single image. What does the browser need to do to process this simple page?</p>
                    <p><img alt="DOM construction process" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/full-process.png" />
                    </p>
                </section>
                <section>
                    <p><img alt="DOM tree" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/dom-tree.png" />
                    </p>
                </section>
                <section>
                    <p><strong>The final output of this entire process is the Document Object Model, or the “DOM” of our simple page, which the browser uses for all further processing of the page.</strong>
                    </p>
                    <p>Every time the browser has to process HTML markup it has to step through all of the steps above: convert bytes to characters, identify tokens, convert tokens to nodes, and build the DOM tree. This entire process can take some time, especially if we have a large amount of HTML to process.</p>
                    <p><img alt="Tracing DOM construction in DevTools" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/dom-timeline.png" />
                    </p>
                </section>

                <section>
                    <p>Note</p>
                    <ul>
                        <li>We'll assume that you have basic familiarity with Chrome DevTools - i.e. you know how to capture a network waterfall, or record a timeline. If you need a quick refresher, check out the <a href="https://developer.chrome.com/devtools">Chrome DevTools documentation</a>, or if you're new to DevTools, we recommend taking the Codeschool <a href="http://discover-devtools.codeschool.com/">Discover DevTools</a> course.</li>
                    </ul>
                </section>
                <section>
                    <p>If you open up Chrome DevTools and record a timeline while the page is loaded, you can see the actual time taken to perform this step — in the example above, it took us ~5ms to convert a chunk of HTML bytes into a DOM tree. Of course, if the page was larger, as most pages are, this process might take significantly longer. You will see in our future sections on creating smooth animations that this can easily become your bottleneck if the browser has to process large amounts of HTML.</p>
                    <p>With the DOM tree ready, do we have enough information to render the page to the screen? Not yet! The DOM tree captures the properties and relationships of the document markup, but it does not tell us anything about how the element should look when rendered. That’s the responsibility of the CSSOM, which we turn to next!</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="css-object-model-cssom">CSS Object Model (CSSOM)</h2>
                    <p>While the browser was constructing the DOM of our simple page, it encountered a link tag in the head section of the document referencing an external CSS stylesheet: style.css. Anticipating that it will need this resource to render the page, it immediately dispatches a request for this resource, which comes back with the following content:</p><pre>    body { font-size: 16px }
    p { font-weight: bold }
    span { color: red }
    p span { display: none }
    img { float: right }
</pre>
                </section>
                <section>
                    <p>Of course, we could have declared our styles directly within the HTML markup (inline), but keeping our CSS independent of HTML allows us to treat content and design as separate concerns: the designers can work on CSS, developers can focus on HTML, and so on.</p>
                    <p>Just as with HTML, we need to convert the received CSS rules into something that the browser can understand and work with. Hence, once again, we repeat a very similar process as we did with HTML:</p>
                    <p><img alt="CSSOM construction steps" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/cssom-construction.png" />
                    </p>
                </section>
                <section>
                    <p>The CSS bytes are converted into characters, then to tokens and nodes, and finally are linked into a tree structure known as the “CSS Object Model”, or CSSOM for short:</p>
                    <p><img alt="CSSOM tree" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/cssom-tree.png" />
                    </p>
                </section>
                <section>
                    <p>Why does the CSSOM have a tree structure? When computing the final set of styles for any object on the page, the browser starts with the most general rule applicable to that node (e.g. if it is a child of body element, then all body styles apply) and then recursively refines the computed styles by applying more specific rules - i.e. the rules “cascade down”.</p>
                    <p>To make it more concrete, consider the CSSOM tree above. Any text contained within the <em>span</em> tag that is placed within the body element will have a font size of 16 pixels and have red text - the font-size directive cascades down from body to the span. However, if a span tag is child of a paragraph (p) tag, then its contents are not displayed.</p>
                    <p>Also, note that the above tree is not the complete CSSOM tree and only shows the styles we decided to override in our stylesheet. Every browser provides a default set of styles also known as “user agent styles” – that’s what we see when we don’t provide any of our own – and our styles simply override these defaults (e.g. <a href="http://www.iecss.com/">default IE styles</a>). If you have ever inspected your “computed styles” in Chrome DevTools and wondered where all the styles are coming from, now you know!</p>
                    <p>Curious to know how long the CSS processing took? Record a timeline in DevTools and look for “Recalculate Style” event: unlike DOM parsing, the timeline doesn’t show a separate “Parse CSS” entry, and instead captures parsing and CSSOM tree construction, plus the recursive calculation of computed styles under this one event.</p>
                    <p><img alt="Tracing CSSOM construction in DevTools" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/cssom-timeline.png" />
                    </p>
                </section>
                <section>
                    <p>Our trivial stylesheet takes ~0.6ms to process and affects 8 elements on the page – not much, but once again, not free. However, where did the 8 elements come from? The CSSOM and DOM and are independent data structures! Turns out, the browser is hiding an important step. Next, lets talk about the render tree that links the DOM and CSSOM together.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Render-tree construction, Layout, and Paint</h2>
                    <p>The CSSOM and DOM trees are combined into a render tree, which is then used to compute the layout of each visible element and serves as an input to the paint process which renders the pixels to screen. Optimizing each of these steps is critical to achieve optimal rendering performance.</p>
                </section>
                <section>
                    <p>In the previous section on constructing the object model, we built the DOM and the CSSOM trees based on the HTML and CSS input. However, both of these are independent objects which capture different aspects of the document: one describes the content and the other the style rules that need to be applied to the document. How do we merge the two and get the browser to render pixels on the screen?</p>

                    <ul>
                        <li>The DOM and CSSOM trees are combined to form the render tree.</li>
                        <li>Render tree contains only the nodes required to render the page.</li>
                        <li>Layout computes the exact position and size of each object.</li>
                        <li>Paint is the last step that takes in the final render tree and renders the pixels to the screen.</li>
                    </ul>
                </section>
                <section>
                    <p>The first step is for the browser to combine the DOM and CSSOM into a “render tree” that captures all the visible DOM content on the page, plus all the CSSOM style information for each node.</p>
                    <p><img alt="DOM and CSSOM are combined to create the render tree" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/render-tree-construction.png" />
                    </p>
                </section>

                <section>
                    <p>To construct the render tree, the browser roughly does the following:</p>
                    <ul>
                        <li>Some nodes are not visible at all (e.g. script tags, meta tags, and so on), and are omitted since they are not reflected in the rendered output.</li>
                        <li>Some nodes are hidden via CSS and are also omitted from the render tree - e.g. the span node in example above is missing from the render tree because we have an explicit rule that sets “display: none” property on it.</li>
                    </ul>
                </section>

                <section>
                    <p>Remember</p>
                    <ul>
                        <li>As a brief aside, note that 'visibility: hidden' is different from 'display: none'. The former makes the element invisible, but the element is still occupies space in the layout (i.e. it's rendered as an empty box), whereas the latter (display: none) removes the element entirely from the render tree such that the element is invisible and is not part of layout.</li>
                    </ul>
                </section>
                <section>
                    <p>The final output is a render that contains both the content and the style information of all the visible content on the screen - we’re getting close! <strong>With the render tree in place, we can proceed to the “layout” stage.</strong>
                    </p>
                    <p>Up to this point we’ve calculated which nodes should be visible and their computed styles, but we have not calculated their exact position and size within the <a href="https://developers.google.com/web/fundamentals/layouts/rwd-fundamentals/set-the-viewport.html">viewport</a> of the device - that’s the “layout” stage, also sometimes known as “reflow.”</p>
                    <p>To figure out the exact size and position of each object the browser begins at the root of the render tree and traverses it to compute the geometry of each object on the page. Let’s consider a simple hands-on example:</p><pre>    &lt;html&gt;
      &lt;head&gt;
        &lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;
        &lt;title&gt;Critial Path: Hello world!&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;div style="width: 50%"&gt;
          &lt;div style="width: 50%"&gt;Hello world!&lt;/div&gt;
        &lt;/div&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>
                <section>
                    <p>The body of the above page contains two nested div’s: the first (parent) div sets the display size of the node to 50% of the viewport width, and the second div contained by the parent sets its width to be 50% of its parent - i.e. 25% of the viewport width!</p>
                    <p><img alt="Calculating layout information" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/layout-viewport.png" />
                    </p>
                </section>
                <section>
                    <p>The output of the layout process is a “box model” which precisely captures the exact position and size of each element within the viewport: all of the relative measures are converted to absolute pixels positions on the screen, and so on.</p>
                    <p>Finally, now that we know which nodes are visible, their computed styles, and geometry, we can finally pass this information to our final stage which will convert each node in the render tree to actual pixels on the screen - this step is often referred to as “painting” or “rasterizing.”</p>
                    <p>Did you follow all of that? Each of these steps requires a non-trivial amount of work by the browser, which also means that it can often take quite a bit of time. Thankfully, Chrome DevTools can help us get some insight into all three of the stages we’ve described above. Let’s examine the layout stage for our original “hello world” example:</p>
                    <p><img alt="Measuring layout in DevTools" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/layout-timeline.png" />
                    </p>
                </section>
                <section>
                    <ul>
                        <li>The render tree construction and position and size calculation are captured with the “Layout” event in the Timeline.</li>
                        <li>Once layout is complete, the browser issues a “Paint Setup” and “Paint” events which convert the render tree to actual pixels on the screen.</li>
                    </ul>
                    <p>The time required to perform render tree construction, layout and paint will vary based on the size of the document, the applied styles, and of course, the device it is running on: the larger the document the more work the browser will have to do; the more complicated the styles are the more time will be consumed for painting also (e.g. a solid color is “cheap” to paint, and a drop shadow is much more “expensive” to compute and render).</p>
                    <p>Once all is said and done, our page is finally visible in the viewport - woohoo!</p>
                    <p><img alt="Rendered Hello World page" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/device-dom-small.png" />
                    </p>
                </section>
                <section>
                    <p>Let’s do a quick recap of all the steps the browser went through:</p>
                    <p>Our demo page may look very simple, but it requires quite a bit of work! Care to guess what would happen if the DOM, or CSSOM is modified? We would have to repeat the same process over again to figure out which pixels need to be re-rendered on the screen.</p>
                    <p><strong>Optimizing the critical rendering path is the process of minimizing the total amount of time spent in steps 1 through 5 in the above sequence.</strong> Doing so enables us to render content to the screen as soon as possible and also to reduces the amount of time between screen updates after the initial render - i.e. achieve higher refresh rate for interactive content.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Render Blocking CSS</h2>
                    <p>By default CSS is treated as a render blocking resource, which means that the browser will hold rendering of any processed content until the CSSOM is constructed. Make sure to keep your CSS lean, deliver it as quickly as possible, and use media types and queries to unblock rendering.</p>
                </section>
                <section>
                    <p>In the previous section we saw that the critical rendering path requires that we have both the DOM and the CSSOM to construct the render tree, which creates an important performance implication: <strong>both HTML and CSS are render blocking resources.</strong> The HTML is obvious, since without the DOM we would not have anything to render, but the CSS requirement may be less obvious. What would happen if we try to render a typical page without blocking rendering on CSS?</p>

                    <ul>
                        <li>By default, CSS is treated as a render blocking resource.</li>
                        <li>Media types and media queries allow us to mark some CSS resources as non-render blocking.</li>
                        <li>All CSS resources, regardless of blocking or non-blocking behavior, are downloaded by the browser.</li>
                    </ul>
                </section>
                <section>
                    <p>The above example, showing the NYTimes website with and without CSS, demonstrates why rendering is blocked until CSS is available - without CSS the page is effectively unusable. In fact, the experience on the right is often referred to as a “Flash of Unstyled Content” (FOUC). As a result, the browser will block rendering until it has both the DOM and the CSSOM.</p>
                    <p><strong><em>CSS is a render blocking resource, get it down to the client as soon and as quickly as possible to optimize the time to first render!</em></strong>
                    </p>
                    <p>However, what if we have some CSS styles that are only used under certain conditions, for example, when the page is being printed, or being projected onto a large monitor? It would be nice if we didn’t have to block rendering on these resources!</p>
                    <p>CSS “media types” and “media queries” allow us to address these use-cases:</p><pre><code data-lang="html">&lt;link href="style.css" rel="stylesheet"&gt;
&lt;link href="print.css" rel="stylesheet" media="print"&gt;
&lt;link href="other.css" rel="stylesheet" media="(min-width: 40em)"&gt;</code></pre>
                </section>
                <section>
                    <p>A <a href="https://developers.google.com/web/fundamentals/layouts/rwd-fundamentals/use-media-queries.html">media query</a> consists of a media type and zero or more expressions that check for the conditions of particular media features. For example, our first stylesheet declaration does not provide any media type or query, hence it will apply in all cases - that is to say, it is always render blocking. On the other hand, the second stylesheet will only apply when the content is being printed - perhaps you want to rearrange the layout, change the fonts, etc - and hence this stylesheet does not need to block the rendering of the page when it is first loaded. Finally, the last stylesheet declaration provides a “media query” which is executed by the browser: if the conditions match, the browser will block rendering until the stylesheet is downloaded and processed.</p>
                    <p>By using media queries, our presentation can be tailored to specific use cases such as display vs. print, and also to dynamic conditions such as changes in screen orientation, resize events, and more. <strong>When declaring your stylesheet assets, pay close attention to the media type and queries, as they will have big performance impact on the critical rendering path!</strong>
                    </p>
                    <ul>
                        <li>
                            <p><a href="https://developers.google.com/web/fundamentals/layouts/rwd-fundamentals/use-media-queries" title="Responsive Web design">Responsive Web design</a>
                            </p>
                            <p><a href="https://developers.google.com/web/fundamentals/layouts/rwd-fundamentals/use-media-queries">Use CSS media queries for responsiveness</a>
                            </p>
                        </li>
                    </ul>
                    <p><a href="https://developers.google.com/web/fundamentals/layouts/rwd-fundamentals/use-media-queries" title="Responsive Web design">Responsive Web design</a>
                    </p>
                    <p><a href="https://developers.google.com/web/fundamentals/layouts/rwd-fundamentals/use-media-queries">Use CSS media queries for responsiveness</a>
                    </p>
                    <p>Let’s consider some hands-on examples:</p><pre><code data-lang="html">&lt;link href="style.css"    rel="stylesheet"&gt;
&lt;link href="style.css"    rel="stylesheet" media="screen"&gt;
&lt;link href="portrait.css" rel="stylesheet" media="orientation:portrait"&gt;
&lt;link href="print.css"    rel="stylesheet" media="print"&gt;</code></pre>
                </section>
                <section>
                    <ul>
                        <li>The first declaration is render blocking and matches in all conditions.</li>
                        <li>The second declaration is also render blocking: “screen” is the default type and if you don’t specify any type, it’s implicitly set to “screen”. Hence, the first and second declarations are actually equivalent.</li>
                        <li>The third declaration has a dynamic media query which will be evaluated when the page is being loaded. Depending on the orientation of the device when the page is being loaded, portrait.css may or may not be render blocking.</li>
                        <li>The last declaration is only applied when the page is being printed, hence it is not render blocking when the page is first loaded in the browser.</li>
                    </ul>
                    <p>Finally, note that “render blocking” only refers to whether the browser will have to hold the initial rendering of the page on that resource. In either case, the CSS asset is still downloaded by the browser, albeit with a lower priority for non-blocking resources.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Adding Interactivity with JavaScript</h2>
                </section>
                <section>
                    <p>JavaScript allows us to modify just about every aspect of the page: content, styling, and its behavior to user interactions. However, JavaScript can also block DOM construction and delay when the page is rendered. Make your JavaScript async and eliminate any unnecessary JavaScript from the critical rendering path to deliver optimal performance.</p>

                    <ul>
                        <li>JavaScript can query and modify DOM and CSSOM.</li>
                        <li>JavaScript execution blocks on CSSOM.</li>
                        <li>JavaScript blocks DOM construction unless explicitly declared as async.</li>
                    </ul>
                </section>
                <section>
                    <p>JavaScript is a dynamic language that runs in the browser and allows us to alter just about every aspect of how the page behaves: we can modify content on the page by adding or removing elements from the DOM tree, we can modify the CSSOM properties of each element, we can handle user input, and much more. To illustrate this in action, let’s augment our previous “Hello World” example with a simple inline script:</p><pre>    &lt;html&gt;
      &lt;head&gt;
        &lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;
        &lt;link href="style.css" rel="stylesheet"&gt;
        &lt;title&gt;Critical Path: Script&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;p&gt;Hello &lt;span&gt;web performance&lt;/span&gt; students!&lt;/p&gt;
        &lt;div&gt;&lt;img src="awesome-photo.jpg"&gt;&lt;/div&gt;
        &lt;script&gt;
          var span = document.getElementsByTagName('span')[0];
          span.textContent = 'interactive'; // change DOM text content
          span.style.display = 'inline';  // change CSSOM property
          // create a new element, style it, and append it to the DOM
          var loadTime = document.createElement('div');
          loadTime.textContent = 'You loaded this page on: ' + new Date();
          loadTime.style.color = 'blue';
          document.body.appendChild(loadTime);
        &lt;/script&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>
                <section>
                    <ul>
                        <li>
                            <p>JavaScript allows us to reach into the DOM and pull out the reference to the hidden span node - the node may not be visible in the render tree, but it’s still there in the DOM! Then, once we have the reference, we can change its text (via .textContent), and even override its calculated display style property from ‘none’ to ‘inline’. Once all is said and done, our page will now display “<strong>Hello interactive students!</strong>”.</p>
                        </li>
                        <li>
                            <p>JavaScript also allows us to create, style, and append and remove new elements to the DOM. In fact, technically our entire page could be just one big JavaScript file which creates and styles the elements one by one - that would work, but working with HTML and CSS is much easier in practice. In the second part of our JavaScript function we create a new div element, set its text content, style it, and append it to the body.</p>
                        </li>
                    </ul>
                    <p>JavaScript allows us to reach into the DOM and pull out the reference to the hidden span node - the node may not be visible in the render tree, but it’s still there in the DOM! Then, once we have the reference, we can change its text (via .textContent), and even override its calculated display style property from ‘none’ to ‘inline’. Once all is said and done, our page will now display “<strong>Hello interactive students!</strong>”.</p>
                    <p>JavaScript also allows us to create, style, and append and remove new elements to the DOM. In fact, technically our entire page could be just one big JavaScript file which creates and styles the elements one by one - that would work, but working with HTML and CSS is much easier in practice. In the second part of our JavaScript function we create a new div element, set its text content, style it, and append it to the body.</p>
                    <p><img alt="page preview" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/device-js-small.png" />
                    </p>
                </section>
                <section>
                    <p>With that, we’ve modified the content and the CSS style of an existing DOM node, and added an entirely new node to the document. Our page won’t win any design awards, but it illustrates the power and flexibility that JavaScript affords us.</p>
                    <p>However, there is a big performance caveat lurking underneath. JavaScript affords us a lot of power, but it also creates a lot of additional limitations on how and when the page is rendered.</p>
                    <p>First, notice that in the above example our inline script is near the bottom of the page. Why? Well, you should try it yourself, but if we move the script above the <em>span</em> element, you’ll notice that the script will fail and complain that it cannot find a reference to any <em>span</em> elements in the document - i.e. <em>getElementsByTagName(‘span’)</em> will return <em>null</em>. This demonstrates an important property: our script is executed at the exact point where it is inserted in the document. When the HTML parser encounters a script tag, it pauses its process of constructing the DOM and yields control over to the JavaScript engine; once the JavaScript engine has finished running, the browser then picks up from where it left off and resumes the DOM construction.</p>
                    <p>In other words, our script block can’t find any elements later in the page because they haven’t been processed yet! Or, put slightly differently: <strong>executing our inline script blocks DOM construction, which will also delay the initial render.</strong>
                    </p>
                    <p>Another subtle property of introducing scripts into our page is that they can read and modify not just the DOM, but also the CSSOM properties. In fact, that’s exactly what we’re doing in our example when we change the display property of the span element from none to inline. The end result? We now have a race condition.</p>
                    <p>What if the browser hasn’t finished downloading and building the CSSOM when we want to run our script? The answer is simple and not very good for performance: <strong>the browser will delay script execution until it has finished downloading and constructing the CSSOM, and while we’re waiting, the DOM construction is also blocked!</strong>
                    </p>
                    <p>In short, JavaScript introduces a lot of new dependencies between the DOM, CSSOM, and JavaScript execution and can lead to significant delays in how quickly the browser can process and render our page on the screen:</p>
                    <p>When we talk about “optimizing the critical rendering path,” to a large degree we’re talking about understanding and optimizing the dependency graph between HTML, CSS, and JavaScript.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="parser-blocking-vs-asynchronous-javascript">Parser Blocking vs. Asynchronous JavaScript</h2>
                    <p>By default, JavaScript execution is “parser blocking”: when the browser encounters a script in the document it must pause DOM construction, hand over the control to the JavaScript runtime and let the script execute before proceeding with DOM construction. We already saw this in action with an inline script in our earlier example. In fact, inline scripts are always parser blocking unless you take special care and write additional code to defer their execution.</p>
                    <p>What about scripts included via a script tag? Let’s take our previous example and extract our code into a separate file:</p><pre>    &lt;html&gt;
      &lt;head&gt;
        &lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;
        &lt;link href="style.css" rel="stylesheet"&gt;
        &lt;title&gt;Critical Path: Script External&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;p&gt;Hello &lt;span&gt;web performance&lt;/span&gt; students!&lt;/p&gt;
        &lt;div&gt;&lt;img src="awesome-photo.jpg"&gt;&lt;/div&gt;
        &lt;script src="app.js"&gt;&lt;/script&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>
                <section>
                    <p><strong>app.js</strong>
                    </p><pre>    var span = document.getElementsByTagName('span')[0];
    span.textContent = 'interactive'; // change DOM text content
    span.style.display = 'inline';  // change CSSOM property
    // create a new element, style it, and append it to the DOM
    var loadTime = document.createElement('div');
    loadTime.textContent = 'You loaded this page on: ' + new Date();
    loadTime.style.color = 'blue';
    document.body.appendChild(loadTime);
</pre>
                </section>
                <section>
                    <p>Would you expect the execution order to be any different when we use a <code>&lt;script&gt;</code> tag instead of using an inline JavaScript snippet? Of course, the answer is “no” as they are identical and should behave in the same way. In both cases the browser will have to pause and execute the script before it can process the remainder of the document. However, <strong>in the case of an external JavaScript file the browser will also have to pause and wait for the script to be fetched from disk, cache, or a remote server, which can add tens to thousands of milliseconds of delay to the critical rendering path.</strong>
                    </p>
                    <p>That said, good news, we do have an escape hatch! By default all JavaScript is parser blocking and the browser doesn’t know what the script is planning to do on the page, hence it has to assume the worst case scenario and block the parser. However, what if we could signal to the browser and tell it that the script does not need to be executed at the exact point where it is referenced in the document? Doing so would allow the browser to continue to construct the DOM and let the script execute once it’s ready - e.g. once the file has been fetched from cache or a remote server.</p>
                    <p>So, how do we achieve this trick? It’s pretty simple, we can mark our script as <em>async</em>:</p><pre>    &lt;html&gt;
      &lt;head&gt;
        &lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;
        &lt;link href="style.css" rel="stylesheet"&gt;
        &lt;title&gt;Critical Path: Script Async&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;p&gt;Hello &lt;span&gt;web performance&lt;/span&gt; students!&lt;/p&gt;
        &lt;div&gt;&lt;img src="awesome-photo.jpg"&gt;&lt;/div&gt;
        &lt;script src="app.js" async&gt;&lt;/script&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>
                <section>
                    <p>Adding the async keyword to the script tag tells the browser that it should not block the DOM construction while it waits for the script to become available - this is a huge performance win!</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Measuring the Critical Rendering Path with Navigation Timing</h2>
                </section>
                <section>
                    <p>You can't optimize what you can't measure. Thankfully, the Navigation Timing API gives us all the necessary tools to measure each step of the critical rendering path!</p>

                    <ul>
                        <li>Navigation Timing provides high resolution timestamps for measuring CRP.</li>
                        <li>Browser emits series of consumable events which capture various stages of the CRP.</li>
                    </ul>
                </section>
                <section>
                    <p>The foundation of every solid performance strategy is good measurement and instrumentation. Turns out, that is exactly what the Navigation Timing API provides.</p>
                    <p><img alt="Navigation Timing" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/dom-navtiming.png" />
                    </p>
                </section>
                <section>
                    <p>Each of the labels in the above diagram corresponds to a high resolution timestamp that the browser tracks for each and every page it loads. In fact, in this specific case we’re only showing a fraction of all the different timestamps — for now we’re skipping all network related timestamps, but we’ll come back to them in a future lesson.</p>
                </section>
                <section>
                    <p>So, what do these timestamps mean?</p>
                    <ul>
                        <li><strong>domLoading:</strong> this is the starting timestamp of the entire process, the browser is about to start parsing the first received bytes of the HTML document.</li>
                        <li><strong>domInteractive:</strong> marks the point when the browser has finished parsing all of the HTML and DOM construction is complete.</li>
                        <li><strong>domContentLoaded:</strong> marks the point when both the DOM is ready and there are no stylesheets that are blocking JavaScript execution - meaning we can now (potentially) construct the render tree.
                            <ul>
                                <li>Many JavaScript frameworks wait for this event before they start executing their own logic. For this reason the browser captures the <em>EventStart</em> and <em>EventEnd</em> timestamps to allow us to track how long this execution took.</li>
                            </ul>
                </section>
                <section>
                    </li>
                    <li><strong>domComplete:</strong> as the name implies, all of the processing is complete and all of the resources on the page (images, etc.) have finished downloading - i.e. the loading spinner has stopped spinning.</li>
                    <li><strong>loadEvent:</strong> as a final step in every page load the browser fires an “onload” event which can trigger additional application logic.</li>
                    </ul>
                    <ul>
                        <li>Many JavaScript frameworks wait for this event before they start executing their own logic. For this reason the browser captures the <em>EventStart</em> and <em>EventEnd</em> timestamps to allow us to track how long this execution took.</li>
                    </ul>
                </section>
                <section>
                    <p>The HTML specification dictates specific conditions for each and every event: when it should be fired, which conditions should be met, and so on. For our purposes, we’ll focus on a few key milestones related to the critical rendering path:</p>
                    <ul>
                        <li><strong>domInteractive</strong> marks when DOM is ready.</li>
                        <li><strong>domContentLoaded</strong> typically marks when <a href="http://calendar.perfplanet.com/2012/deciphering-the-critical-rendering-path/">both the DOM and CSSOM are ready</a>.
                            <ul>
                                <li>If there is no parser blocking JavaScript then <em>documentContentLoaded</em> will fire immediately after <em>domInteractive</em>.</li>
                            </ul>
                </section>
                <section>
                    </li>
                    <li>
                        <p><strong>domComplete</strong> marks when the page and all of its subresources are ready.</p>
                    </li>
                    </ul>
                    <ul>
                        <li>If there is no parser blocking JavaScript then <em>documentContentLoaded</em> will fire immediately after <em>domInteractive</em>.</li>
                    </ul>
                    <p><strong>domComplete</strong> marks when the page and all of its subresources are ready.</p><pre>    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;Critical Path: Measure&lt;/title&gt;
        &lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;
        &lt;link href="style.css" rel="stylesheet"&gt;
        &lt;script&gt;
          function measureCRP() {
            var t = window.performance.timing,
              interactive = t.domInteractive - t.domLoading,
              dcl = t.domContentLoadedEventStart - t.domLoading,
              complete = t.domComplete - t.domLoading;
            var stats = document.createElement('p');
            stats.textContent = 'interactive: ' + interactive + 'ms, ' +
                'dcl: ' + dcl + 'ms, complete: ' + complete + 'ms';
            document.body.appendChild(stats);
          }
        &lt;/script&gt;
      &lt;/head&gt;
      &lt;body onload="measureCRP()"&gt;
        &lt;p&gt;Hello &lt;span&gt;web performance&lt;/span&gt; students!&lt;/p&gt;
        &lt;div&gt;&lt;img src="awesome-photo.jpg"&gt;&lt;/div&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>
                <section>
                    <p>The above example may seem a little daunting on first sight, but in reality it is actually pretty simple. The Navigation Timing API captures all the relevant timestamps and our code simply waits for the “onload” event to fire — recall that onload event fires after domInteractive, domContentLoaded and domComplete — and computes the difference between the various timestamps. <img alt="NavTiming demo" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/device-navtiming-small.png" />
                    </p>
                </section>
                <section>
                    <p>All said and done, we now have some specific milestones to track and a simple function to output these measurements. Note that instead of printing these metrics on the page you can also modify the code to send these metrics to an analytics server (<a href="https://support.google.com/analytics/answer/1205784?hl=en">Google Analytics does this automatically</a>), which is a great way to keep tabs on performance of your pages and identify candidate pages that can benefit from some optimization work.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Analyzing Critical Rendering Path Performance</h2>
                    <p>Identifying and resolving critical rendering path performance bottlenecks requires good knowledge of the common pitfalls. Let's take a hands-on tour and extract common performance patterns that will help you optimize your pages.</p>
                    <p>The goal of optimizing the critical rendering path is to allow the browser to paint the page as quickly as possible: faster pages translate to higher engagement, number of pages viewed, and <a href="http://www.google.com/think/multiscreen/success.html">improved conversion</a>. As a result, we want to minimize the amount of time the visitor has to spend staring at a blank screen by optimizing which resources are loaded and in which order.</p>
                    <p>To help illustrate this process, let’s start with the simplest possible case and incrementally build up our page to include additional resources, styles, and application logic - in the process, we’ll also see where things can go wrong, and how to optimize each of these cases.</p>
                </section>
                <section>
                    <p>Finally, one more thing before we start… So far we’ve focused exclusively on what happens in the browser once the resource (CSS, JS, or HTML file) is available to process and have ignored the time to fetch it either from cache or from the network. We’ll dive into how to optimize the networking aspects of our application in great detail in the next lesson but in the meantime (to make things more realistic) we’ll assume the following:</p>
                    <ul>
                        <li>A network roundtrip (propagation latency) to the server will cost 100ms</li>
                        <li>Server response time will be 100ms for the HTML document and 10ms for all other files</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="the-hello-world-experience">The Hello World experience</h2><pre>    &lt;html&gt;
      &lt;head&gt;
        &lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;
        &lt;title&gt;Critical Path: No Style&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;p&gt;Hello &lt;span&gt;web performance&lt;/span&gt; students!&lt;/p&gt;
        &lt;div&gt;&lt;img src="awesome-photo.jpg"&gt;&lt;/div&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>
                <section>
                    <p>We’ll start with basic HTML markup and a single image - no CSS or JavaScript - which is about as simple as it gets. Now let’s open up our Network timeline in Chrome DevTools and inspect the resulting resource waterfall:</p>
                    <p><img alt="CRP" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/waterfall-dom.png" />
                    </p>
                </section>
                <section>
                    <p>As expected, the HTML file took ~200ms to download. Note that the transparent portion of the blue line indicates the time the browser is waiting on the network - i.e. no response bytes have yet been received - whereas the solid portion shows the time to finish the download after the first response bytes have been received. In our example above, the HTML download is tiny (&lt;4K), so all we need is a single roundtrip to fetch the full file. As a result, the HTML document takes ~200ms to fetch, with half the time spent waiting on the network and other half on the server response.</p>
                    <p>Once the HTML content becomes available, the browser has to parse the bytes, convert them into tokens, and build the DOM tree. Notice that DevTools conveniently reports the time for DOMContentLoaded event at the bottom (216ms), which also corresponds to the blue vertical line. The gap between the end of the HTML download and the blue vertical line (DOMContentLoaded) is the time it took the browser to build the DOM tree - in this case, just a few milliseconds.</p>
                    <p>Finally, notice something interesting: our “awesome photo” did not block the domContentLoaded event! Turns out, we can construct the render tree and even paint the page without waiting for each and every asset on the page: <strong>not all resources are critical to deliver the fast first paint</strong>. In fact, as we will see, when we talk about the critical rendering path we are typically talking about the HTML markup, CSS, and JavaScript. Images do not block the initial render of the page - although, of course, we should try to make sure that we get the images painted as soon as possible also!</p>
                    <p>That said, the “load” event (also commonly known as “onload”), is blocked on the image: DevTools reports the onload event at 335ms. Recall that the onload event marks the point when <strong>all resources</strong> required by the page have been downloaded and processed - this is the point when the loading spinner can stop spinning in the browser and this point is marked by the red vertical line in the waterfall.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="adding-javascript-and-css-into-the-mix">Adding JavaScript and CSS into the mix</h2>
                    <p>Our “Hello World experience” page may seem simple on the surface, but there is a lot going on under the hood to make it all happen! That said, in practice we’ll also need more than just the HTML: chances are, we’ll have a CSS stylesheet and one or more scripts to add some interactivity to our page. Let’s add both to the mix and see what happens:</p><pre>    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;Critical Path: Measure Script&lt;/title&gt;
        &lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;
        &lt;link href="style.css" rel="stylesheet"&gt;
      &lt;/head&gt;
      &lt;body onload="measureCRP()"&gt;
        &lt;p&gt;Hello &lt;span&gt;web performance&lt;/span&gt; students!&lt;/p&gt;
        &lt;div&gt;&lt;img src="awesome-photo.jpg"&gt;&lt;/div&gt;
        &lt;script src="timing.js"&gt;&lt;/script&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>
                <section>
                    <p><em>Before adding JavaScript and CSS:</em>
                    </p>
                    <p><img alt="DOM CRP" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/waterfall-dom.png" />
                    </p>
                </section>
                <section>
                    <p><em>With JavaScript and CSS:</em>
                    </p>
                    <p><img alt="DOM, CSSOM, JS" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/waterfall-dom-css-js.png" />
                    </p>
                </section>
                <section>
                    <p>Adding external CSS and JavaScript files added two extra requests to our waterfall, all of which are dispatched at about the same time by the browser - so far so good. However, <strong>note that there is now a much smaller timing difference between the domContentLoaded and onload events. What happened?</strong>
                    </p>
                    <ul>
                        <li>Unlike our plain HTML example, we now also need to fetch and parse the CSS file to construct the CSSOM, and we know that we need both the DOM and CSSOM to build the render tree.</li>
                        <li>Because we also have a parser blocking JavaScript file on our page, the domContentLoaded event is blocked until the CSS file is downloaded and parsed: the JavaScript may query the CSSOM, hence we must block and wait for CSS before we can execute JavaScript.</li>
                    </ul>
                    <p><strong>What if we replace our external script with an inline script?</strong> A trivial question on the surface but actually its very tricky. Turns out, even if the script is inlined directly into the page the only reliable way for the browser to know what that script is intending to do is, well, to execute it, and as we already know, we can’t do that until the CSSOM is constructed. In short, inlined JavaScript is also parser blocking.</p>
                    <p>That said, despite blocking on CSS, will inlining the script make the page render faster? If the last scenario was tricky, then this one is even more so! Let’s try it and see what happens…</p>
                    <p><em>External JavaScript:</em>
                    </p>
                    <p><img alt="DOM, CSSOM, JS" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/waterfall-dom-css-js.png" />
                    </p>
                </section>
                <section>
                    <p><em>Inlined JavaScript:</em>
                    </p>
                    <p><img alt="DOM, CSSOM, and inlined JS" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/waterfall-dom-css-js-inline.png" />
                    </p>
                </section>
                <section>
                    <p>We are making one less request, but our onload and domContentLoaded times are effectively the same, why? Well, we know that it doesn’t matter if the JavaScript is inlined or external, because as soon as the browser hits the script tag it will block and wait until the CSSOM is constructed. Further, in our first example, both CSS and JavaScript are being downloaded in parallel by the browser and finish at about the same time. As a result, in this particular instance, inlining the JavaScript code doesn’t help us much! Hmm, so are we stuck and is there nothing that we can do to make our page render faster? Actually, we have several different strategies.</p>
                    <p>First, recall that all inline scripts are parser blocking, but for external scripts we can add the “async” keyword to unblock the parser. Let’s undo our inlining and give that a try:</p><pre>    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;Critical Path: Measure Async&lt;/title&gt;
        &lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;
        &lt;link href="style.css" rel="stylesheet"&gt;
      &lt;/head&gt;
      &lt;body onload="measureCRP()"&gt;
        &lt;p&gt;Hello &lt;span&gt;web performance&lt;/span&gt; students!&lt;/p&gt;
        &lt;div&gt;&lt;img src="awesome-photo.jpg"&gt;&lt;/div&gt;
        &lt;script async src="timing.js"&gt;&lt;/script&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>
                <section>
                    <p><em>Parser-blocking (external) JavaScript:</em>
                    </p>
                    <p><img alt="DOM, CSSOM, JS" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/waterfall-dom-css-js.png" />
                    </p>
                </section>
                <section>
                    <p><em>Async (external) JavaScript:</em>
                    </p>
                    <p><img alt="DOM, CSSOM, async JS" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/waterfall-dom-css-js-async.png" />
                    </p>
                </section>
                <section>
                    <p>Much better! The domContentLoaded event fires shortly after the HTML is parsed: the browser knows not to block on JavaScript and since there are no other parser blocking scripts the CSSOM construction can also proceed in parallel.</p>
                    <p>Alternatively, we could have tried a different approach and inlined both the CSS and JavaScript:</p><pre>    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;Critical Path: Measure Inlined&lt;/title&gt;
        &lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;
        &lt;style&gt;
          p { font-weight: bold }
          span { color: red }
          p span { display: none }
          img { float: right }
        &lt;/style&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;p&gt;Hello &lt;span&gt;web performance&lt;/span&gt; students!&lt;/p&gt;
        &lt;div&gt;&lt;img src="awesome-photo.jpg"&gt;&lt;/div&gt;
        &lt;script&gt;
          var span = document.getElementsByTagName('span')[0];
          span.textContent = 'interactive'; // change DOM text content
          span.style.display = 'inline';  // change CSSOM property
          // create a new element, style it, and append it to the DOM
          var loadTime = document.createElement('div');
          loadTime.textContent = 'You loaded this page on: ' + new Date();
          loadTime.style.color = 'blue';
          document.body.appendChild(loadTime);
        &lt;/script&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>
                <section>
                    <p><img alt="DOM, inline CSS, inline JS" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/waterfall-dom-css-inline-js-inline.png" />
                    </p>
                </section>
                <section>
                    <p>Notice that the <em>domContentLoaded</em> time is effectively the same as in the previous example: instead of marking our JavaScript as async, we’ve inlined both the CSS and JS into the page itself. This made our HTML page much larger, but the upside is that the browser doesn’t have to wait to fetch any external resources - everything is right there in the page.</p>
                    <p>As you can see, even with a very simple page, optimizing the critical rendering path is a non-trivial exercise: we need to understand the dependency graph between different resources, we need to identify which resources are “critical,” and we must choose among different strategies for how to include those resources on the page. There is no one solution to this problem - each page is different, and you’ll have to follow a similar process on your own to figure out the optimal strategy.</p>
                    <p>That said, let’s see if we can step back and identify some general performance patterns…</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="performance-patterns">Performance Patterns</h2>
                    <p>The simplest possible page consists of just the HTML markup: no CSS, no JavaScript, or other types of resources. To render this page the browser has to initiate the request, wait for the HTML document to arrive, parse it, build the DOM, and then finally render it on the screen:</p><pre>    &lt;html&gt;
      &lt;head&gt;
        &lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;
        &lt;title&gt;Critical Path: No Style&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;p&gt;Hello &lt;span&gt;web performance&lt;/span&gt; students!&lt;/p&gt;
        &lt;div&gt;&lt;img src="awesome-photo.jpg"&gt;&lt;/div&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>
                <section>
                    <p><img alt="Hello world CRP" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/analysis-dom.png" />
                    </p>
                </section>
                <section>
                    <p><strong>The time between T<sub>0</sub> and T<sub>1</sub> captures the network and server processing times.</strong> In the best case (if the HTML file is small), all we will need is just one network roundtrip to fetch the entire document - due to how the TCP transports protocols work, larger files may require more roundtrips, this is a topic we’ll come back to in a future lesson. <strong>As a result, we can say that the above page, in the best case, has a one roundtrip (minimum) critical rendering path.</strong>
                    </p>
                    <p>Now, let’s consider the same page but with an external CSS file:</p><pre>    &lt;html&gt;
      &lt;head&gt;
        &lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;
        &lt;link href="style.css" rel="stylesheet"&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;p&gt;Hello &lt;span&gt;web performance&lt;/span&gt; students!&lt;/p&gt;
        &lt;div&gt;&lt;img src="awesome-photo.jpg"&gt;&lt;/div&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>
                <section>
                    <p><img alt="DOM + CSSOM CRP" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/analysis-dom-css.png" />
                    </p>
                </section>
                <section>
                    <p>Once again, we incur a network roundtrip to fetch the HTML document and then the retrieved markup tells us that we will also need the CSS file: this means that the browser has to go back to the server and get the CSS before it can render the page on the screen. <strong>As a result, this page will incur a minimum of two roundtrips before the page can be displayed</strong> - once again, the CSS file may take multiple roundtrips, hence the emphasis on “minimum”.</p>
                </section>
                <section>
                    <p>Let’s define the vocabulary we’ll be using to describe the critical rendering path:</p>
                    <ul>
                        <li><strong>Critical Resource:</strong> resource that may block initial rendering of the page.</li>
                        <li><strong>Critical Path Length:</strong> number of roundtrips, or the total time required to fetch all of the critical resources.</li>
                        <li><strong>Critical Bytes:</strong> total amount of bytes required to get to first render of the page, which is the sum of the transfer filesizes of all critical resources. Our first example with a single HTML page contained a single critical resource (the HTML document), the critical path length was also equal to 1 network roundtrip (assuming file is small), and the total critical bytes was just the transfer size of the HTML document itself.</li>
                    </ul>
                </section>
                <section>
                    <p>Now let’s compare that to the critical path characteristics of the HTML + CSS example above:</p>
                    <p><img alt="DOM + CSSOM CRP" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/analysis-dom-css.png" />
                    </p>
                </section>
                <section>
                    <ul>
                        <li><strong>2</strong> critical resources</li>
                        <li><strong>2</strong> or more roundtrips for the minimum critical path length</li>
                        <li><strong>9</strong> KB of critical bytes</li>
                    </ul>
                    <p>We need both the HTML and CSS to construct the render tree, as a result both HTML and CSS are critical resources: the CSS is fetched only after the browser gets the HTML document, hence the critical path length is at minimum two roundtrips; both resources add up to a total of 9KB of critical bytes.</p>
                    <p>Ok, now let’s add an extra JavaScript file into the mix!</p><pre>    &lt;html&gt;
      &lt;head&gt;
        &lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;
        &lt;link href="style.css" rel="stylesheet"&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;p&gt;Hello &lt;span&gt;web performance&lt;/span&gt; students!&lt;/p&gt;
        &lt;div&gt;&lt;img src="awesome-photo.jpg"&gt;&lt;/div&gt;
        &lt;script src="app.js"&gt;&lt;/script&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>
                <section>
                    <p>We added app.js, which is an external JavaScript asset on the page, and as we know by now, it is a parser blocking (i.e. critical) resource. Worse, in order to execute the JavaScript file we will also have to block and wait for CSSOM - recall that JavaScript can query the CSSOM and hence the browser will pause until “style.css” is downloaded and CSSOM is constructed.</p>
                    <p><img alt="DOM, CSSOM, JavaScript CRP" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/analysis-dom-css-js.png" />
                    </p>
                </section>

                <section>
                    <p>That said, in practice if we look at the “network waterfall” of this page you’ll notice that both the CSS and JavaScript requests will be initiated at about the same time: the browser gets the HTML, discovers both resources and initiates both requests. As a result, the above page has the following critical path characteristics:</p>
                    <ul>
                        <li><strong>3</strong> critical resources</li>
                        <li><strong>2</strong> or more roundtrips for the minimum critical path length</li>
                        <li><strong>11</strong> KB of critical bytes</li>
                    </ul>
                </section>
                <section>
                    <p>We now have three critical resources that add up to 11KB of critical bytes, but our critical path length is still two roundtrips because we can transfer the CSS and JavaScript in parallel! <strong>Figuring out the characteristics of your critical rendering path means being able to identify which are the critical resources, and also understanding how the browser will schedule their fetches.</strong> Let’s continue with our example…</p>
                    <p>After chatting with our site developers we realized that the JavaScript we included on our page doesn’t need to be blocking: we have some analytics and other code in there that doesn’t need to block the rendering of our page. Knowing that, we can add the “async” attribute to the script tag to unblock the parser:</p><pre>    &lt;html&gt;
      &lt;head&gt;
        &lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;
        &lt;link href="style.css" rel="stylesheet"&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;p&gt;Hello &lt;span&gt;web performance&lt;/span&gt; students!&lt;/p&gt;
        &lt;div&gt;&lt;img src="awesome-photo.jpg"&gt;&lt;/div&gt;
        &lt;script src="app.js" async&gt;&lt;/script&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>
                <section>
                    <p><img alt="DOM, CSSOM, async JavaScript CRP" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/analysis-dom-css-js-async.png" />
                    </p>
                </section>

                <section>
                    <p>Making the script asynchronous has several advantages:</p>
                    <ul>
                        <li>The script is no longer parser blocking and is not part of the critical rendering path</li>
                        <li>Because there are no other critical scripts, the CSS also does not need to block the domContentLoaded event</li>
                        <li>The sooner the domContentLoaded event fires, the sooner other application logic can begin executing</li>
                    </ul>
                </section>
                <section>
                    <p>As a result, our optimized page is now back to two critical resources (HTML and CSS), with a minimum critical path length of two roundtrips, and a total of 9KB of critical bytes.</p>
                    <p>Finally, let’s say the CSS stylesheet was only needed for print? How would that look?</p><pre>    &lt;html&gt;
      &lt;head&gt;
        &lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;
        &lt;link href="style.css" rel="stylesheet" media="print"&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;p&gt;Hello &lt;span&gt;web performance&lt;/span&gt; students!&lt;/p&gt;
        &lt;div&gt;&lt;img src="awesome-photo.jpg"&gt;&lt;/div&gt;
        &lt;script src="app.js" async&gt;&lt;/script&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>
                <section>
                    <p><img alt="DOM, non-blocking CSS, and async JavaScript CRP" src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/analysis-dom-css-nb-js-async.png" />
                    </p>
                </section>
                <section>
                    <p>Because the style.css resource is only used for print, the browser does not need to block on it to render the page. Hence, as soon as DOM construction is complete, the browser has enough information to render the page! As a result, this page has only a single critical resource (the HTML document), and the minimum critical rendering path length is one roundtrip.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Optimizing the Critical Rendering Path</h2>
                    <p></p>
                </section>
                <section>
                    <p>In order to deliver the fastest possible time to first render, we need to optimize three variables:</p>
                    <ul>
                        <li><strong>Minimize the number of critical resources.</strong>
                        </li>
                        <li><strong>Minimize the number of critical bytes.</strong>
                        </li>
                        <li><strong>Minimize the critical path length.</strong>
                        </li>
                    </ul>
                </section>
                <section>
                    <p>A critical resource is any resource that may block initial rendering of the page. The fewer of these resources there are on the page, the less work the browser has to do to get content on the screen, and the less contention there is for CPU and other resources.</p>
                    <p>Similarly, the fewer critical bytes the browser has to download, the faster it can get to processing the content and get it visible on the screen. To reduce the number of bytes we can reduce the number of resources (eliminate them or make them non-critical), and also ensure that we minimize the transfer size by compressing and optimizing each resource.</p>
                    <p>Finally, the critical path length is a function of the dependency graph between all the critical resources required by the page and their bytesize: some resource downloads can only be initiated once a previous resource has been processed, and the larger the resource the more roundtrips it will take us to download it.</p>
                    <p>In other words, the number of resources, their bytesize, and the critical path length are related to each other, but they are not exactly the same. For example, you may not be able to reduce the number of critical resources, or shorten the critical path length, but reducing the number of critical bytes is still an important optimization — and vice versa.</p>
                    <p><strong>The general sequence of steps to optimize the critical rendering path is:</strong>
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2>PageSpeed Rules and Recommendations</h2>
                    <p>PageSpeed Insights rules in context: what to pay attention to when optimizing the Critical Rendering Path and why.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="eliminate-render-blocking-javascript-and-css">Eliminate render-blocking JavaScript and CSS</h2>
                    <p>To deliver the fastest time to first render, you want to minimize and (where possible) eliminate the number of critical resources on the page, minimize the number of downloaded critical bytes, and optimize the critical path length.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="optimize-javascript-use">Optimize JavaScript Use</h2>
                    <p>JavaScript resources are parser blocking by default unless marked as <em>async</em> or added via a special JavaScript snippet. Parser blocking JavaScript forces the browser to wait for the CSSOM and pauses construction of the DOM, which in turn can significantly delay the time to first render.</p>
                    <p>Async resources unblock the document parser and allow the browser to avoid blocking on CSSOM prior to executing the script. Often, if the script can be made async, it also means it is not essential for the first render - consider loading async scripts after the initial render.</p>
                    <p>Use the <code>navigator.sendBeacon()</code> method to limit data sent by XMLHttpRequests in <code>unload</code> handlers. Because many browsers require such requests to be synchronous, they can slow page transitions, sometimes noticeably. The following code shows how to use <code>navigator.sendBeacon()</code> to send data to the server in the <code>pagehide</code> handler instead of in the <code>unload</code> handler.</p><pre><code data-lang="html">&lt;script&gt;
  function() {
    window.addEventListener('pagehide', logData, false);
    function logData() {
      navigator.sendBeacon(
        'https://putsreq.herokuapp.com/Dt7t2QzUkG18aDTMMcop',
        'Sent by a beacon!');
    }
  }();
&lt;/script&gt;</code></pre>
                </section>
                <section>
                    <p>Any non-essential scripts that are not critical to constructing the visible content for the initial render should be deferred to minimize the amount of work the browser has to perform to render the page.</p>
                    <p>Long running JavaScript blocks the browser from constructing the DOM, CSSOM, and rendering the page. As a result, any initialization logic and functionality that is non-essential for the first render should be deferred until later. If a long initialization sequence needs to be run, consider splitting it into several stages to allow the browser to process other events in between.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="optimize-css-use">Optimize CSS Use</h2>
                    <p>CSS is required to construct the render tree and JavaScript will often block on CSS during initial construction of the page. You should ensure that any non-essential CSS is marked as non-critical (e.g. print and other media queries), and that the amount of critical CSS and the time to deliver it is as small as possible.</p>
                    <p>All CSS resources should be specified as early as possible within the HTML document such that the browser can discover the <code>&lt;link&gt;</code> tags and dispatch the request for the CSS as soon as possible.</p>
                    <p>CSS import (@import) directive enables one stylesheet to import rules from another stylesheet file. However, these directives should be avoided because they introduce additional roundtrips into the critical path: the imported CSS resources are discovered only after the CSS stylesheet with the @import rule itself has been received and parsed.</p>
                    <p>For best performance, you may want to consider inlining the critical CSS directly into the HTML document. This eliminates additional roundtrips in the critical path and if done correctly can be used to deliver a “one roundtrip” critical path length where only the HTML is a blocking resource.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Eliminating unnecessary downloads</h2>
                </section>
                <section>
                    <p>The fastest and best optimized resource is a resource not sent. Have you audited your resources recently? You should, and you should do so periodically to ensure that each resource is helping deliver a better user experience.</p>

                    <ul>
                        <li>Inventory all own and third party assets on your pages</li>
                        <li>Measure the performance of each asset: its value and its technical performance</li>
                        <li>Determine if the resources are providing sufficient value</li>
                    </ul>
                </section>

                <section>
                    <p>The fastest and best optimized resource is a resource not sent. Of course, this may seem like an obvious statement, but in practice it is all too often overlooked: as a performance engineer, it is your job to always maintain a critical eye for any opportunity to eliminate unnecessary resources from your application. It’s a good practice to question, and periodically revisit, the implicit and explicit assumptions with your team. A few examples:</p>
                    <ul>
                        <li>We’ve always included resource X on our pages, but does the cost of downloading and displaying it offset the value it delivers to the user? Can we measure and prove its value?</li>
                        <li>Does the resource — especially if it is a third-party resource — deliver consistent performance? Is this resource in the critical path, or need to be? If the resource is in the critical path, could it be a single point of failure for our site - i.e. if the resource is unavailable, will it affect performance and the user experience of our pages?</li>
                        <li>Does this resource need or have an SLA? Does this resource follow performance best practices: compression, caching, and so on?</li>
                    </ul>
                </section>

                <section>
                    <p>All too frequently our pages contain resources which are unnecessary, or worse, hinder page performance without delivering much value to the visitor or the site they are hosted on. This applies equally to first-party and third-party resources and widgets:</p>
                    <ul>
                        <li>Site A has decided to display a photo carousel on its homepage to allow the visitor to preview multiple photos with a quick click — all the photos are loaded when the page is loaded, and photos are advanced by the user.
                            <ul>
                                <li><strong>Question:</strong> have you measured how many users view multiple photos in the carousel? You could be incurring high overhead by downloading unnecessary resources which are never viewed by most visitors.</li>
                            </ul>
                </section>
                <section>
                    </li>
                    <li>Site B has decided to install a third-party widget to display related content, improve social engagement, or provide some other service.
                        <ul>
                            <li><strong>Question:</strong> have you tracked how many visitors use the widget or click-through on the content provided by the widget? Is the engagement generated by this widget enough to justify its overhead?</li>
                        </ul>
                    </li>
                    </ul>
                    <ul>
                        <li><strong>Question:</strong> have you measured how many users view multiple photos in the carousel? You could be incurring high overhead by downloading unnecessary resources which are never viewed by most visitors.</li>
                    </ul>
                    <ul>
                        <li><strong>Question:</strong> have you tracked how many visitors use the widget or click-through on the content provided by the widget? Is the engagement generated by this widget enough to justify its overhead?</li>
                    </ul>
                    <p>As you can see, while eliminating unnecessary downloads seems like a trivial statement, in practice it is anything but, as it often requires a lot of careful thinking and measurement to make the call. In fact, for best results you should periodically inventory and revisit these questions for each and every asset on your pages.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Optimizing encoding and transfer size of text-based assets</h2>
                    <p>Our web applications continue to grow in their scope, ambition, and functionality - that's a good thing. However, the relentless march towards a richer web is driving another trend: the amount of data downloaded by each application continues to increase at a steady pace. To deliver great performance we need to optimize delivery of each and every byte of data!</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="data-compression-101">Data compression 101</h2>
                    <p>Once we’ve eliminated any unnecessary resources, the next step is to minimize the total size of the remaining resources the browser has to download - i.e. compress them. Depending on the resource type - text, images, fonts, and so on - we have a number of different techniques at our disposal: generic tools that can be enabled on the server, pre-processing optimizations for specific content-types, and resource specific optimizations that require input from the developer.</p>
                </section>
                <section>
                    <p>Delivering the best performance requires the combination of all of these techniques.</p>

                    <ul>
                        <li>Compression is the process of encoding information using fewer bits</li>
                        <li>Eliminating unnecessary data always yields the best results</li>
                        <li>There are many different compression techniques and algorithms</li>
                        <li>You will need a variety of techniques to achieve the best compression</li>
                    </ul>
                </section>
                <section>
                    <p>The process of reducing the size of data is known as “data compression,” and it is a deep field of study on its own: many people have spent their entire careers working on algorithms, techniques, and optimizations to improve compression ratios, speed, and memory requirements of various compressors. Needless to say, a full discussion on this topic is out of our scope, but it is still important to understand, at a high level, how compression works and the techniques we have at our disposal to reduce the size of various assets required by our pages.</p>
                    <p>To illustrate the core principles of these techniques in action, let’s consider how we can go about optimizing a simple text message format that we’ll invent just for this example:</p><pre><code># Below is a secret message, which consists of a set of headers in
# key-value format followed by a newline and the encrypted message.
format: secret-cipher
date: 04/04/14
AAAZZBBBBEEEMMM EEETTTAAA
</code></pre>
                </section>

                <section>
                    <p>What could we do reduce the size of the above message, which is currently 200 characters long?</p>
                    <ul>
                        <li>E.g. “AAA” becomes “3A” - or, sequence of three A’s.</li>
                    </ul>
                </section>
                <section>
                    <p>Combining our techniques, we arrive at the following result:</p><pre><code>format: secret-cipher
date: 04/04/14
3A2Z4B3E3M 3E3T3A
</code></pre>
                </section>
                <section>
                    <p>The new message is 56 characters long, which means we managed to compress our original message by an impressive 72% - not bad, all things considered, and we’re only getting started!</p>
                    <p>Of course, you may be wondering, this is all great, but how does this help us optimize our web pages? Surely we’re not going to try to invent our compression algorithms, are we? The answer is no, we won’t, but as you will see, we will use the exact same techniques and way of thinking when optimizing various resources on our pages: preprocessing, context-specific optimizations, and different algorithms for different content.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="minification-preprocessing--context-specific-optimizations">Minification: preprocessing &amp; context-specific optimizations</h2>

                    <ul>
                        <li>Content-specific optimizations can significantly reduce the size of delivered resources.</li>
                        <li>Content-specific optimizations are best applied as part of your build/release cycle.</li>
                    </ul>
                    <p>The best way to compress redundant or unnecessary data is to eliminate it altogether. Of course, we can’t just delete arbitrary data, but in some contexts where we may have content-specific knowledge of the data format and its properties, it is often possible to significantly reduce the size of the payload without affecting its actual meaning.</p><pre>    &lt;html&gt;
      &lt;head&gt;
      &lt;style&gt;
         /* awesome-container is only used on the landing page */
         .awesome-container { font-size: 120% }
         .awesome-container { width: 50% }
      &lt;/style&gt;
     &lt;/head&gt;
    
     &lt;body&gt;
       &lt;!-- awesome container content: START --&gt;
        &lt;div&gt;…&lt;/div&gt;
       &lt;!-- awesome container content: END --&gt;
       &lt;script&gt;
         awesomeAnalytics(); // beacon conversion metrics
       &lt;/script&gt;
     &lt;/body&gt;
    &lt;/html&gt;
</pre>
                </section>

                <section>
                    <p>Consider the simple HTML page above and the three different content types that it contains: HTML markup, CSS styles, and JavaScript. Each of these content types has different rules for what constitutes valid HTML markup, CSS rules, or JavaScript content, different rules for indicating comments, and so on. How could we reduce the size of this page?</p>
                    <ul>
                        <li>Code comments are a developer’s best friend, but the browser does not need to see them! Simply stripping the CSS (<code>/* … */</code>), HTML (<code>&lt;!-- … --&gt;</code>), and JavaScript (<code>// …</code>) comments can significantly reduce the total size of the page.</li>
                        <li>A “smart” CSS compressor could notice that we’re using an inefficient way of defining rules for ‘.awesome-container’ and collapse the two declarations into one without affecting any other styles, saving yet more bytes.</li>
                        <li>
                            <p>Whitespace (spaces and tabs) is a developer convenience in HTML, CSS, and JavaScript. An additional compressor could strip out all the tabs and spaces.</p>
                        </li>
                    </ul>
                </section>
                <section>
                    <p>Whitespace (spaces and tabs) is a developer convenience in HTML, CSS, and JavaScript. An additional compressor could strip out all the tabs and spaces.</p><pre>    &lt;html&gt;&lt;head&gt;&lt;style&gt;.awesome-container{font-size:120%;width: 50%}
    &lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div&gt;…&lt;/div&gt;&lt;script&gt;awesomeAnalytics();
    &lt;/script&gt;&lt;/body&gt;&lt;/html&gt;
</pre>
                </section>
                <section>
                    <p>After applying the above steps our page goes from 406 to 150 characters - 63% compression savings! Granted, it’s not very readable, but it also doesn’t have to be: we can keep the original page as our “development version” and then apply the steps above whenever we are ready to release the page on our website.</p>
                    <p>Taking a step back, the above example illustrates an important point: a general purpose compressor - say one designed to compress arbitrary text - could probably also do a pretty good job of compressing the page above, but it would never know to strip the comments, collapse the CSS rules, or dozens of other content-specific optimizations. This is why preprocessing / minification / context-aware optimization can be such a powerful tool.</p>
                </section>
                <section>
                    <p>Remember</p>
                    <ul>
                        <li>Case in point, the uncompressed development version of the JQuery library is now approaching ~300KB. The same library, but minified (removed comments, etc.) is about 3x smaller: ~100KB.</li>
                    </ul>
                </section>
                <section>
                    <p>Similarly, above techniques can be extended beyond just text-based assets. Images, video, and other content types all contain their own forms of metadata and various payloads. For example, whenever you take a picture with a camera, the photo also typically embeds a lot of extra information: camera settings, location, and so on. Depending on your application, this data may be critical (e.g. a photo sharing site), or completely useless and you should consider whether it is worth removing. In practice, this metadata can add up to tens of kilobytes for every image!</p>
                    <p>In short, as a first step in optimizing the efficiency of your assets, build an inventory of the different content types and consider what kinds of content-specific optimizations you can apply to reduce their size - doing so can yield significant savings! Then, once you’ve figured out what they are, automate these optimizations by adding them to your build and release processes - that’s the only way you can guarantee that the optimizations will stay in place.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="text-compression-with-gzip">Text compression with GZIP</h2>

                    <ul>
                        <li>GZIP performs best on text-based assets: CSS, JavaScript, HTML</li>
                        <li>All modern browsers support GZIP compression and will automatically request it</li>
                        <li>Your server needs to be configured to enable GZIP compression</li>
                        <li>Some CDNs require special care to ensure that GZIP is enabled</li>
                    </ul>
                    <p><a href="http://en.wikipedia.org/wiki/Gzip">GZIP</a> is a generic compressor that can be applied to any stream of bytes: under the hood it remembers some of the previously seen content and attempts to find and replace duplicate data fragments in an efficient way - for the curious, <a href="https://www.youtube.com/watch?v=whGwm0Lky2s&amp;feature=youtu.be&amp;t=14m11s">great low-level explanation of GZIP</a>. However, in practice, GZIP performs best on text-based content, often achieving compression rates of as high as 70-90% for larger files, whereas running GZIP on assets that are already compressed via alternative algorithms (e.g. most image formats) yields little to no improvement.</p>
                    <p>All modern browsers support and automatically negotiate GZIP compression for all HTTP requests: our job is to ensure that the server is properly configured to serve the compressed resource when requested by the client.</p>
                    <p>The above table illustrates the savings provided by GZIP compression for a few of the most popular JavaScript libraries and CSS frameworks. The savings range from 60 to 88%, and note that the combination of minified files (identified by “.min” in their filenames), plus GZIP, offers an even larger win.</p>
                    <p>The best part is that enabling GZIP is one of the simplest and highest payoff optimizations to implement - sadly, many people still forget to implement it. Most web servers will compress content on your behalf, and you just need to verify that the server is correctly configured to compress all the content types that would benefit from GZIP compression.</p>
                    <p>What’s the best config for your server? The HTML5 Boilerplate project contains <a href="https://github.com/h5bp/server-configs">sample configuration files</a> for all the most popular servers with detailed comments for each configuration flag and setting: find your favorite server in the list, look for the GZIP section, and confirm that your server is configured with recommended settings.</p>
                    <p><img alt="DevTools demo of actual vs transfer size" src="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/images/transfer-vs-actual-size.png" />
                    </p>
                </section>
                <section>
                    <p>A quick and simple way to see GZIP in action is to open Chrome DevTools and inspect the “Size / Content” column in the Network panel: “Size” indicates the transfer size of the asset, and “Content” the uncompressed size of the asset. For the HTML asset in above example, GZIP saved 24.8 KB during transfer!</p>
                </section>
                <section>
                    <p>Remember</p>
                    <ul>
                        <li>Believe it or not, there are cases where GZIP can increase the size of the asset. Typically, this happens when the asset is very small and the overhead of the GZIP dictionary is higher than the compression savings, or if the resource is already well compressed. Some servers allow you to specify a “minimum filesize threshold” to avoid this problem.</li>
                    </ul>
                </section>
                <section>
                    <p>Finally, a word of warning: while most servers will automatically compress the assets for you when serving them to the user, some CDNs require extra care and manual effort to ensure that the GZIP asset is served. Audit your site and ensure that your assets are, in fact, <a href="http://www.whatsmyip.org/http-compression-test/">being compressed</a>!</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Image optimization</h2>
                    <p>Images often account for most of the downloaded bytes on a web page and also often occupy a significant amount of visual space. As a result, optimizing images can often yield some of the largest byte savings and performance improvements for your website: the fewer bytes the browser has to download, the less competition there is for the client's bandwidth and the faster the browser can download and render useful content on the screen.</p>
                    <p>Image optimization is both an art and science: an art because there is no one definitive answer for how best to compress an individual image, and a science because there are many well developed techniques and algorithms that can significantly reduce the size of an image. Finding the optimal settings for your image requires careful analysis along many dimensions: format capabilities, content of encoded data, quality, pixel dimensions, and more.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="eliminating-and-replacing-images">Eliminating and replacing images</h2>

                    <ul>
                        <li>Eliminate unnecessary image resources</li>
                        <li>Leverage CSS3 effects where possible</li>
                        <li>Use web fonts instead of encoding text in images</li>
                    </ul>
                    <p>The very first question you should ask yourself is whether an image is, in fact, required to achieve the effect you are after. Good design is simple and will also always yield the best performance. If you can eliminate an image resource, which often requires a large number of bytes relative to HTML, CSS, JavaScript and other assets on the page, then that is always the best optimization strategy. That said, a well-placed image can also communicate more information than a thousand words, so it is up to you to find that balance.</p>
                </section>
                <section>
                    <p>Next, you should consider if there is an alternative technology that could deliver the desired results, but in a more efficient manner:</p>
                    <ul>
                        <li><strong>CSS effects</strong> (gradients, shadows, etc.) and CSS animations can be used to produce resolution-independent assets that always look sharp at every resolution and zoom level, often at a fraction of the bytes required by an image file.</li>
                        <li><strong>Web fonts</strong> enable use of beautiful typefaces while preserving the ability to select, search, and resize text - a significant improvement in usability.</li>
                    </ul>
                </section>
                <section>
                    <p>If you ever find yourself encoding text in an image asset, stop and reconsider. Great typography is critical to good design, branding, and readability, but text-in-images delivers a poor user experience: the text is not selectable, not searchable, not zoomable, not accessible, and not friendly for high-DPI devices. The use of web fonts requires its <a href="https://www.igvita.com/2014/01/31/optimizing-web-font-rendering-performance/">own set of optimizations</a>, but it addresses all of these concerns and is always a better choice for displaying text.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="vector-vs-raster-images">Vector vs. Raster images</h2>

                    <ul>
                        <li>Vector images are ideal for images that consist of geometric shapes</li>
                        <li>Vector images are zoom and resolution-independent</li>
                        <li>Raster images should be used for complex scenes with lots of irregular shapes and details</li>
                    </ul>
                    <p>Once you’ve determined that an image is, in fact, the optimal format to achieve the desired effect, the next critical choice is to select the appropriate format:</p>
                </section>
                <section>
                    <p> </p>
                    <ul>
                        <li><a href="http://en.wikipedia.org/wiki/Vector_graphics">Vector graphics</a> use lines, points, and polygons to represent an image.</li>
                        <li><a href="http://en.wikipedia.org/wiki/Raster_graphics">Raster graphics</a> represent an image by encoding the individual values of each pixel within a rectangular grid.</li>
                    </ul>
                </section>
                <section>
                    <p>Each format has its own set of pros and cons. Vector formats are ideally suited for images that consist of simple geometric shapes (e.g. logos, text, icons, and so on), and deliver sharp results at every resolution and zoom setting, which makes them an ideal format for high-resolution screens and assets that need to be displayed at varying sizes.</p>
                    <p>However, vector formats fall short when the scene is complicated (e.g. a photo): the amount of SVG markup to describe all the shapes can be prohibitively high and the output may still not look “photorealistic”. When that’s the case, that’s when you should be using a raster image format such as GIF, PNG, JPEG, or one of the newer formats such as JPEG-XR and WebP.</p>
                    <p>Raster images do not have the same nice properties of being resolution or zoom independent - when you scale up a raster image you’ll see jagged and blurry graphics. As a result, you may need to save multiple versions of a raster image at various resolutions to deliver the optimal experience to your users.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="implications-of-high-resolution-screens">Implications of high-resolution screens</h2>

                    <ul>
                        <li>High resolution screens have multiple device pixels per CSS pixel</li>
                        <li>High resolution images require significantly higher number of pixels and bytes</li>
                        <li>Image optimization techniques are the same regardless of resolution</li>
                    </ul>
                    <p>When we talk about image pixels, we need to distinguish between different kinds of pixels: CSS pixels and device pixels. A single CSS pixel may contain multiple device pixels - e.g. a single CSS pixel may correspond directly to a single device pixel, or may be backed by multiple device pixels. What’s the point? Well, the more device pixels there are, the finer the detail of the displayed content on the screen.</p>
                    <p><img alt="CSS vs device pixels" src="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/images/css-vs-device-pixels.png" />
                    </p>
                </section>
                <section>
                    <p>High DPI (HiDPI) screens produce beautiful results, but there is one obvious tradeoff: our image assets require more detail in order to take advantage of the higher device pixel counts. The good news is, vector images are ideally suited for this task, as they can be rendered at any resolution with sharp results - we might incur a higher processing cost to render the finer detail, but the underlying asset is the same and is resolution independent.</p>
                    <p>On the other hand, raster images pose a much larger challenge because they encode image data on a per-pixel basis. Hence, the larger the number of pixels, the larger the filesize of a raster image. As an example, let’s consider the difference between a photo asset displayed at 100x100 (CSS) pixels:</p>
                    <p>When we double the resolution the physical screen the total number of pixels increases by a factor of four: double the number of horizontal pixels, times double the number of vertical pixels. Hence, a “2x” screen not just doubles, but quadruples the number of required pixels!</p>
                    <p>So, what does this mean in practice? High resolution screens enable us to deliver beautiful images, which can be a great product feature. However, high resolution screens also require high-resolution images: prefer vector images whenever possible as they are resolution independent and always deliver sharp results, and if a raster image is required, deliver and optimize multiple variants of each image - keep reading for further details.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="optimizing-vector-images">Optimizing vector images</h2>

                    <ul>
                        <li>SVG is an XML-based image format</li>
                        <li>SVG files should be minified to reduce their size</li>
                        <li>SVG files should be compressed with GZIP</li>
                    </ul>
                    <p>All modern browsers support Scalable Vector Graphics (SVG), which is an XML-based image format for two-dimensional graphics: we can embed the SVG markup directly on the page, or as an external resource. In turn, an SVG file can be created by most vector-based drawing software, or by hand and directly in your favorite text editor.</p><pre><code data-lang="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --&gt;
&lt;svg version="1.2" baseProfile="tiny" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
   x="0px" y="0px" viewBox="0 0 612 792" xml:space="preserve"&gt;
&lt;g id="XMLID_1_"&gt;
  &lt;g&gt;
    &lt;circle fill="red" stroke="black" stroke-width="2" stroke-miterlimit="10" cx="50" cy="50" r="40"/&gt;
  &lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</code></pre>
                </section>
                <section>
                    <p>The above example renders a simple circle shape with a black outline and red background and was exported from Adobe Illustrator. As you can tell, it contains a lot of metadata, such as layer information, comments, and XML namespaces that are often unnecessary to render the asset in the browser. As a result, it is always a good idea to minify your SVG files by running through a tool like <a href="https://github.com/svg/svgo">svgo</a>.</p>
                    <p>Case in point, svgo reduces the size of the above SVG file generated by Illustrator by 58%, taking it from 470 to 199 bytes. Further, because SVG is an XML-based format, we can also apply GZIP compression to reduce its transfer size - make sure your server is configured to compress SVG assets!</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="optimizing-raster-images">Optimizing raster images</h2>

                    <ul>
                        <li>A raster image is a grid of pixels</li>
                        <li>Each pixel encodes color and transparency information</li>
                        <li>Image compressors use a variety of techniques to reduce the number of required bits per pixel to reduce file size of the image</li>
                    </ul>
                    <p>A raster image is simply a 2-dimensional grid of individual “pixels” - e.g. a 100x100 pixel image is a sequence of 10,000 pixels. In turn, each pixel stores the “<a href="http://en.wikipedia.org/wiki/RGBA_color_space">RGBA</a>” values: (R) red channel, (G) green channel, (B) blue channel, and (A) alpha (transparency) channel.</p>
                </section>
                <section>
                    <p>Internally, the browser allocates 256 values (shades) for each channel, which translates to 8 bits per channel (2 ^ 8 = 256), and 4 bytes per pixel (4 channels x 8 bits = 32 bits = 4 bytes). As a result, if we know the dimensions of the grid we can easily calculate the filesize:</p>
                    <ul>
                        <li>100 x 100px image is composed of 10,000 pixels</li>
                        <li>10,000 pixels x 4 bytes = 40,000 bytes</li>
                        <li>
                            <p>40,000 bytes / 1024 = 39 KB</p>
                        </li>
                    </ul>
                </section>
                <section>
                    <p>40,000 bytes / 1024 = 39 KB</p>
                </section>
                <section>
                    <p>Note</p>
                    <ul>
                        <li>As an aside, regardless of the image format used to transfer the data from the server to the client, when the image is decoded by the browser, each pixel always occupies 4 bytes of memory. This can be an important constraint for large images and devices which do not have a lot of available memory - e.g. low-end mobile devices.</li>
                    </ul>
                </section>
                <section>
                    <p>39KB for a 100x100 pixel image may not seem like a big deal, but the filesize quickly explodes for larger images and makes image assets both slow and expensive to download. Thankfully, what we’ve described so far is the “uncompressed” image format. What could we do to reduce the image file size?</p>
                    <p>One simple strategy is to reduce the “bit-depth” of the image from 8 bits per channel to a smaller color palette: 8 bits per channel gives us 256 values per channel and 16,777,216 (2563) colors in total. What if we reduced the palette to 256 colors? Then we would only need 8 bits in total for the RGB channels and immediately save two bytes per pixel – that’s 50% compression savings over our original 4 bytes per pixel format!</p>
                    <p><img alt="Compression artifacts" src="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/images/artifacts.png" />
                    </p>
                </section>

                <section>
                    <p>Note</p>
                    <ul>
                        <li>Left to right (PNG): 32-bit (16M colors), 7-bit (128 colors), 5-bit (32 colors). Complex scenes with gradual color transitions (gradients, sky, etc.) require larger color palettes to avoid visual artifacts such as the pixelated sky in the 5-bit asset. On the other hand, if the image only uses a few colors, then a large palette is simply wasting precious bits!</li>
                    </ul>
                </section>
                <section>
                    <p>Next, once we’ve optimized the data stored in individual pixels we could get more clever and look at nearby pixels as well: turns out, many images, and especially photos, have many nearby pixels with similar colors - e.g. the sky, repeating textures, and so on. Using this information to our advantage the compressor can apply “<a href="http://en.wikipedia.org/wiki/Delta_encoding">delta encoding</a>” where instead of storing the individual values for each pixel, we can store the difference between nearby pixels: if the adjacent pixels are the same, then the delta is “zero” and we only need to store a single bit! But why stop there…</p>
                    <p>The human eye has different level of sensitivity to different colors: we can optimize our color encoding to account for this by reducing or increasing the palette for those colors. “Nearby” pixels form a two dimensional grid, which means that each pixel has multiple neighbors: we can use this fact to further improve delta encoding. Instead of looking at just the immediate neighbors for each pixel, we can look at larger blocks of nearby pixels and encode different blocks with different settings. And so on…</p>
                    <p>As you can tell, image optimization gets complicated quickly (or fun, depending on your perspective), and is an active area of academic and commercial research. Images occupy a lot of bytes and there is a lot of value in developing better image compression techniques! If you’re curious to learn more, head to the <a href="http://en.wikipedia.org/wiki/Image_compression">Wikipedia page</a>, or check out the <a href="https://developers.google.com/speed/webp/docs/compression">WebP compression techniques whitepaper</a> for a hands-on example.</p>
                    <p>So, once again, this is all great, but also very academic: how does it help us optimize images on our pages? Well, we are definitely not in a position to invent new compression techniques, but it’s important to understand the shape of the problem: RGBA pixels, bit-depth, and various optimization techniques. All of these concepts are critical to understand and keep in mind before we dive into the discussions of various raster image formats.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="lossless-vs-lossy-image-compression">Lossless vs lossy image compression</h2>

                    <ul>
                        <li>Due to how our eyes work, images are great candidates for lossy compression</li>
                        <li>Image optimization is a function of lossy and lossless compression</li>
                        <li>Differences in image formats are due to the difference in how and which lossy and lossless algorithms are used to optimize the image</li>
                        <li>There is no single best format or "quality setting" for all images: each combination of particular compressor and image contents produce a unique output</li>
                    </ul>
                    <p>For certain types of data, such as source code for a page, or an executable file, it is critical that a compressor does not alter or lose any of the original information: a single missing or wrong bit of data could completely change the meaning of the contents of the file, or worse, break it entirely. For some other types of data, such as images, audio, and video, it may be perfectly acceptable to deliver an “approximate” representation of the original data.</p>
                    <p>In fact, due to how they eye works, we can often get away with discarding some information about each pixel in order to reduce the filesize of an image - e.g. our eyes have different sensitivity to different colors, which means that we can use fewer bits to encode some colors. As a result, a typical image optimization pipeline consists of two high level steps:</p>
                    <p><strong>The first step is optional, and the exact algorithm will depend on the particular image format, but it is important to understand that any image can undergo a lossy compression step to reduce its size.</strong> In fact, the difference between various image formats, such as GIF, PNG, JPEG, and others, is in the combination of the specific algorithms they use (or omit) when applying the lossy and lossless steps.</p>
                    <p>So, what is the “optimal” configuration of lossy and lossless optimization? The answer depends on the image contents and your own criteria such as the tradeoff between filesize and artifacts introduced by lossy compression: in some cases you may want to skip lossy optimization to communicate intricate detail in its full fidelity, and in others you may be able to apply aggressive lossy optimization to reduce the filesize of the image asset. This is where your own judgment and context need to come into play - there is no one universal setting.</p>
                    <p><img alt="Save for web" src="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/images/save-for-web.png" />
                    </p>
                </section>
                <section>
                    <p>As a hands-on example, when using a lossy format such as JPEG, the compressor will typically expose a customizable “quality” setting (e.g. the quality slider provided by the “Save for Web” functionality in Adobe Photoshop), which is typically a number between 1 and 100 that controls the inner workings of the specific collection of lossy and lossless algorithms. For best results, experiment with various quality settings for your images, and don’t be afraid to dial down the quality - the visual results are often very good and the filesize savings can be quite large.</p>
                </section>
                <section>
                    <p>Note</p>
                    <ul>
                        <li>Note that quality levels for different image formats are not directly comparable due to differences in algorithms used to encode the image: quality 90 JPEG will produce a very different result than a quality 90 WebP. In fact, even quality levels for the same image format may produce visibly different output based on implementation of the compressor!</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="selecting-the-right-image-format">Selecting the right image format</h2>

                    <ul>
                        <li>Start by selecting the right universal format: GIF, PNG, JPEG</li>
                        <li>Experiment and select the best settings for each format: quality, palette size, etc.</li>
                        <li>Consider adding WebP and JPEG XR assets for modern clients</li>
                    </ul>
                    <p>In addition to different lossy and lossless compression algorithms, different image formats support different features such as animation and transparency (alpha) channels. As a result, the choice of the “right format” for a particular image is a combination of desired visual results and functional requirements.</p>
                    <p>There are three universally supported image formats: GIF, PNG, and JPEG. In addition to these formats, some browsers also support newer formats such as WebP and JPEG XR, which offer better overall compression and more features. So, which format should you use?</p>
                    <p><img alt="Save for web" src="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/images/format-tree.png" />
                    </p>
                </section>
                <section>
                    <ul>
                        <li>GIF limits the color palette to at most 256 colors, which makes it a poor choice for most images. Further, PNG-8 delivers better compression for images with a small palette. As a result, GIF is the right answer only when animation is required.</li>
                    </ul>
                    <ul>
                        <li>PNG does not apply any lossy compression algorithms beyond the choice of the size of the color palette. As a result, it will produce the highest quality image, but at a cost of significantly higher filesize than other formats. Use judiciously.</li>
                        <li>If the image asset contains imagery composed of geometric shapes, consider converting it to a vector (SVG) format!</li>
                        <li>If the image asset contains text, stop and reconsider. Text in images is not selectable, searchable, or “zoomable”. If you need to convey a custom look (for branding or other reasons), use a web font instead.</li>
                    </ul>
                    <ul>
                        <li>JPEG uses a combination of lossy and lossless optimization to reduce filesize of the image asset. Try several JPEG quality levels to find the best quality vs. filesize tradeoff for your asset.</li>
                    </ul>
                    <p>Finally, once you’ve determined the optimal image format and its settings for each of your assets, consider adding an additional variant encoded in WebP and JPEG XR. Both of of these formats are new, and unfortunately are not (yet) universally supported by all browsers, but they can nonetheless provide significant savings for newer clients - e.g. on average, WebP delivers a <a href="https://developers.google.com/speed/webp/docs/webp_study">30% filesize decrease</a> over a comparable JPEG image.</p>
                </section>
                <section>
                    <p>Since neither WebP and JPEG XR are universally supported, you will need to add additional logic to your application or servers to serve the appropriate resource:</p>
                    <ul>
                        <li>Some CDNs provide image optimization as a service, including JPEG XR and WebP delivery.</li>
                        <li>Some open-source tools (e.g. PageSpeed for Apache or Nginx) automate the optimization, conversion, and serving of appropriate assets.</li>
                        <li>You can add additional application logic to detect the client, check which formats they support, and serve the best available image format.</li>
                    </ul>
                </section>
                <section>
                    <p>Finally, note that if you are using a Webview to render content in your native application, then you have full control of the client and can use WebP exclusively! Facebook, Google+ and many others use WebP to deliver all of their images within their applications - the savings are definitely worth it. To learn more about WebP, checkout the <a href="https://www.youtube.com/watch?v=pS8udLMOOaE">WebP: Deploying Faster, Smaller, and More Beautiful Images</a> presentation from Google I/O 2013.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="tools-and-parameter-tuning">Tools and parameter tuning</h2>
                    <p>There is no one perfect image format, tool, or a set of optimization parameters that apply to all images. For best results you will have to pick the format and its settings depending on the contents of the image, and its visual and other technical requirements.</p>
                    <p>Don’t be afraid to experiment with parameters of each compressor. Dial down the quality, see how it looks, then rinse, lather and repeat. Once you’ve found a good set of settings, you can apply them to other similar images on your site, but don’t assume that all images must be compressed with the same settings.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="delivering-scaled-image-assets">Delivering scaled image assets</h2>

                    <ul>
                        <li>Delivering scaled assets is one of the simplest and most effective optimizations</li>
                        <li>Pay close attention to large assets as they result in high overhead</li>
                        <li>Reduce the number of unnecessary pixels by scaling your images to their display size</li>
                    </ul>
                    <p>Image optimization boils down to two criteria: optimizing the number of bytes used to encode each image pixel, and optimizing the total number of pixels: the filesize of the image is simply the total number of pixels times the number of bytes used to encode each pixel. Nothing more, nothing less.</p>
                    <p>As a result, one of the simplest and most effective image optimization techniques is to ensure that we are not shipping any more pixels than needed to display the asset at its intended size in the browser. Sounds simple, right? Unfortunately, most pages fail this test for many of their image assets: typically, they ship larger assets and rely on the browser to rescale them - which also consumes extra CPU resources - and display them at a lower resolution.</p>
                    <p><img alt="Resized image" src="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/images/resized-image.png" />
                    </p>
                </section>

                <section>
                    <p>Note</p>
                    <ul>
                        <li>Hovering over the image element in Chrome DevTools reveals both the "natural" and "display" sizes of the image asset. In above example the 300x260 pixel image is downloaded but is then downscaled (245x212) on the client when it is displayed.</li>
                    </ul>
                </section>
                <section>
                    <p>The overhead of shipping unnecessary pixels, only to have the browser rescale the image on our behalf, is a big missed opportunity to reduce and optimize the total number of bytes required to render the page. Further, note that resizing is not simply a function of the number of pixels by which the image is reduced by, but also of its natural size.</p>
                    <p>Note that in all three cases above the display size is “only 10 pixels smaller” than the natural size of the image. However, the number of extra pixels that we would have to encode and ship is significantly higher the larger the natural size! As a result, while you may not be able to guarantee that every single asset is delivered at the exact display size, <strong>you should ensure that the number of unnecessary pixels is minimal, and that your large assets in particular are delivered as close as possible to their display size.</strong>
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="image-optimization-checklist">Image optimization checklist</h2>
                    <p>Image optimization is both an art and a science: an art because there is no one definitive answer for how to best compress an individual image, and a science because there are well-developed techniques and algorithms that can help significantly reduce the size of an image.</p>
                </section>
                <section>
                    <p>Some tips and techniques to keep in mind as you work on optimizing your images:</p>
                    <ul>
                        <li><strong>Prefer vector formats:</strong> vector images are resolution and scale independent, which makes them a perfect fit for the multi-device and high-resolution world.</li>
                        <li><strong>Minify and compress SVG assets:</strong> XML markup produced by most drawing applications often contains unnecessary metadata which can be removed; ensure that your servers are configured to apply GZIP compression for SVG assets.</li>
                        <li><strong>Pick best raster image format:</strong> determine your functional requirements and select the one that suits each particular asset.</li>
                        <li><strong>Experiment with optimal quality settings for raster formats:</strong> don’t be afraid to dial down the “quality” settings, the results are often very good and byte savings are significant.</li>
                        <li><strong>Remove unnecessary image metadata:</strong> many raster images contain unnecessary metadata about the asset: geo information, camera information, and so on. Use appropriate tools to strip this data.</li>
                        <li><strong>Serve scaled images:</strong> resize images on the server and ensure that the “display” size is as close as possible to the “natural” size size of the image. Pay close to attention to large images in particular, as they account for largest overhead when resized!</li>
                        <li><strong>Automate, automate, automate:</strong> invest into automated tools and infrastructure that will ensure that all of your image assets are always optimized.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2>Webfont optimization</h2>
                    <p>Typography is fundamental to good design, branding, readability, and accessibility. Webfonts enable all of the above and more: the text is selectable, searchable, zoomable, and high-DPI friendly, providing consistent and sharp text rendering regardless of the screen size and resolution. Webfonts are critical to good design, UX, and performance.</p>
                    <p>Webfont optimization is a critical piece of the overall performance strategy. Each font is an additional resource, and some fonts may block rendering of the text, but just because the page is using webfonts doesn’t mean that it has to render slower. To the contrary, an optimized font, combined with a judicious strategy for how they are loaded and applied on the page can help reduce the total page size, and improve page rendering times.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="anatomy-of-a-webfont">Anatomy of a webfont</h2>

                    <ul>
                        <li>Unicode fonts can contain thousands of glyphs</li>
                        <li>There are four font formats: WOFF2, WOFF, EOT, TTF</li>
                        <li>Some font formats require use of GZIP compression</li>
                    </ul>
                    <p>A webfont is a collection of glyphs, and each glyph is a vector shape that describes a letter or symbol. As a result, the size of a particular font file is determined by two simple variables: the complexity of the vector paths of each glyph and the number of glyphs in a particular font. For example, Open Sans, which is one of the most popular webfonts, contains 897 glyphs, which include Latin, Greek, and Cyrillic characters.</p>
                    <p><img alt="Font glyph table" src="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/images/glyphs.png" />
                    </p>
                </section>
                <section>
                    <p>When picking a font, it is important to consider which character sets are supported. If you need to localize your page content to multiple languages, you should use a font that can deliver a consistent look and experience to your users. For example, <a href="https://www.google.com/get/noto/">Google’s Noto font family</a> aims to support all the world’s languages. However, note that the total size of Noto, with all languages included, results in a 130MB+ ZIP download!</p>
                    <p>Clearly, using fonts on the web requires some careful engineering to ensure that the typography does not stand in the way of performance. Thankfully, the web platform provides all the necessary primitives, and in the rest of this guide we’ll take a hands-on look at how to get the best of both worlds.</p>
                    <p>Today there are four font container formats in use on the web: <a href="http://en.wikipedia.org/wiki/Embedded_OpenType">EOT</a>, <a href="http://en.wikipedia.org/wiki/TrueType">TTF</a>, <a href="http://en.wikipedia.org/wiki/Web_Open_Font_Format">WOFF</a>, and <a href="http://www.w3.org/TR/WOFF2/">WOFF2</a>. Unfortunately, despite the wide range of choices, there isn’t a single universal format that works across all old and new browsers: EOT is <a href="http://caniuse.com/#feat=eot">IE only</a>, TTF has <a href="http://caniuse.com/#search=ttf">partial IE support</a>, WOFF enjoys widest support but is <a href="http://caniuse.com/#feat=woff">not available in some older browsers</a>, and WOFF 2.0 support is a <a href="http://caniuse.com/#feat=woff2">work in progress for many browsers</a>.</p>
                </section>
                <section>
                    <p>So, where does that leave us? There isn’t a single format that works in all browsers, which means that we need to deliver multiple formats to provide a consistent experience:</p>
                    <ul>
                        <li>Serve WOFF 2.0 variant to browsers that support it</li>
                        <li>Serve WOFF variant to majority of browsers</li>
                        <li>Serve TTF variant to old Android (below 4.4) browsers</li>
                        <li>Serve EOT variant to old IE (below IE9) browsers</li>
                    </ul>
                </section>

                <section>
                    <p>Note</p>
                    <ul>
                        <li>Technically, there is also the <a href="http://caniuse.com/svg-fonts">SVG font container</a>, but it was never supported by IE or Firefox, and is now deprecated in Chrome. As such, it is of limited use and we are intentionally omitting it in this guide.</li>
                    </ul>
                </section>

                <section>
                    <p>A font is a collection of glyphs, each of which is a set of paths describing the letter form. The individual glyphs are, of course, different, but they nonetheless contain a lot of similar information that can be compressed with GZIP, or a compatible compressor:</p>
                    <ul>
                        <li>EOT, and TTF formats are not compressed by default: ensure that your servers are configured to apply <a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/optimize-encoding-and-transfer#text-compression-with-gzip">GZIP compression</a> when delivering these formats.</li>
                        <li>WOFF has built-in compression - ensure that your WOFF compressor is using optimal compression settings.</li>
                        <li>WOFF2 uses custom preprocessing and compression algorithms to deliver ~30% filesize reduction over other formats - see <a href="http://www.w3.org/TR/WOFF20ER/">report</a>.</li>
                    </ul>
                </section>
                <section>
                    <p>Finally, it is worth noting that some font formats contain additional metadata, such as <a href="http://en.wikipedia.org/wiki/Font_hinting">font hinting</a> and <a href="http://en.wikipedia.org/wiki/Kerning">kerning</a> information that may not be necessary on some platforms, which allows for further filesize optimization. Consult your font compressor for available optimization options, and if you take this route, ensure that you have the appropriate infrastructure to test and deliver these optimized fonts to each particular browser - e.g. Google Fonts maintains 30+ optimized variants for each font and automatically detects and delivers the optimal variant for each platform and browser.</p>
                </section>
                <section>
                    <p>Note</p>
                    <ul>
                        <li>Consider using <a href="http://en.wikipedia.org/wiki/Zopfli">Zopfli compression</a> for EOT, TTF, and WOFF formats. Zopfli is a zlib compatible compressor that delivers ~5% filesize reduction over gzip.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="defining-font-family-with-font-face">Defining font family with @font-face</h2>

                    <ul>
                        <li>Use format() hint to specify multiple font formats</li>
                        <li>Subset large unicode fonts to improve performance: use unicode-range subsetting and provide a manual subsetting fallback for older browsers</li>
                        <li>Reduce number of stylistic font variants to improve page and text rendering performance</li>
                    </ul>
                    <p>The @font-face CSS at-rule allows us to define the location of a particular font resource, its style characteristics, and the Unicode codepoints for which it should be used. A combination of such @font-face declarations can be used to construct a “font family”, which the browser will use to evaluate which font resources need to be downloaded and applied to the current page. Let’s take a closer look at how this works under the hood.</p>
                    <p>Each @font-face declaration provides the name of the font family, which acts as a logical group of multiple declarations, <a href="http://www.w3.org/TR/css3-fonts/#font-prop-desc">font properties</a> such as style, weight, and stretch, and the <a href="http://www.w3.org/TR/css3-fonts/#src-desc">src descriptor</a> that specifies a prioritized list of locations for the font resource.</p><pre><code data-lang="css">@font-face {
  font-family: 'Awesome Font';
  font-style: normal;
  font-weight: 400;
  src: local('Awesome Font'),
       url('/fonts/awesome.woff2') format('woff2'), 
       url('/fonts/awesome.woff') format('woff'),
       url('/fonts/awesome.ttf') format('ttf'),
       url('/fonts/awesome.eot') format('eot');
}

@font-face {
  font-family: 'Awesome Font';
  font-style: italic;
  font-weight: 400;
  src: local('Awesome Font Italic'),
       url('/fonts/awesome-i.woff2') format('woff2'), 
       url('/fonts/awesome-i.woff') format('woff'),
       url('/fonts/awesome-i.ttf') format('ttf'),
       url('/fonts/awesome-i.eot') format('eot');
}</code></pre>
                </section>

                <section>
                    <p>First, note that the above examples defines a single <em>Awesome Font</em> family with two styles (normal and <em>italic</em>), each of which points to a different set of font resources. In turn, each <code>src</code> descriptor contains a prioritized, comma-separated list of resource variants:</p>
                    <ul>
                        <li><code>local()</code> directive allows us to reference, load, and use locally installed fonts.</li>
                        <li>
                            <p><code>url()</code> directive allows us to load external fonts, and are allowed to contain an optional <code>format()</code> hint indicating the format of the font referenced by the provided URL.</p>
                        </li>
                    </ul>
                </section>
                <section>
                    <p><code>url()</code> directive allows us to load external fonts, and are allowed to contain an optional <code>format()</code> hint indicating the format of the font referenced by the provided URL.</p>
                </section>
                <section>
                    <p>Note</p>
                    <ul>
                        <li>Unless you are referencing one of the default system fonts, in practice it is rare for the user to have it locally installed, especially on mobile devices, where it is effectively impossible to 'install' additional fonts. As a result, you should always provide a list of external font locations.</li>
                    </ul>
                </section>

                <section>
                    <p>When the browser determines that the font is needed, it iterates through the provided resource list in the specified order and tries to load the appropriate resource. For example, following the example above:</p>
                    <ul>
                        <li>If a format hint is present the browser checks if it supports it before initiating the download, and otherwise advances to the next one.</li>
                        <li>If no format hint is present, the browser downloads the resource.</li>
                    </ul>
                </section>
                <section>
                    <p>The combination of local and external directives with appropriate format hints allows us to specify all of the available font formats and let the browser handle the rest: the browser figures out which resources are required and will select the optimal format on our behalf.</p>
                </section>
                <section>
                    <p>Note</p>
                    <ul>
                        <li>The order in which the font variants are specified matters. The browser will pick the first format it supports. Hence, if you want the newer browsers to use WOFF2, then you should place WOFF2 declaration above WOFF, and so on.</li>
                    </ul>
                </section>
                <section>
                    <p>In addition to font properties such as style, weight, and stretch, the @font-face rule allows us to define a set of Unicode codepoints supported by each resource. This enables us to split a large Unicode font into smaller subsets (e.g. Latin, Cyrillic, Greek subsets) and only download the glyphs required to render the text on a particular page.</p>
                </section>
                <section>
                    <p>The <a href="http://www.w3.org/TR/css3-fonts/#descdef-unicode-range">unicode-range descriptor</a> allows us to specify a comma-delimited list of range values, each of which can be in one of three different forms:</p>
                    <ul>
                        <li>Single codepoint (e.g. U+416)</li>
                        <li>Interval range (e.g. U+400-4ff): indicates the start and end codepoints of a range</li>
                        <li>Wildcard range (e.g. U+4??): ‘?’ characters indicate any hexadecimal digit</li>
                    </ul>
                </section>
                <section>
                    <p>For example, we can split our <em>Awesome Font</em> family into Latin and Japanese subsets, each of which will be downloaded by the browser on as-needed basis:</p><pre><code data-lang="css">@font-face {
  font-family: 'Awesome Font';
  font-style: normal;
  font-weight: 400;
  src: local('Awesome Font'),
       url('/fonts/awesome-l.woff2') format('woff2'), 
       url('/fonts/awesome-l.woff') format('woff'),
       url('/fonts/awesome-l.ttf') format('ttf'),
       url('/fonts/awesome-l.eot') format('eot');
  unicode-range: U+000-5FF; /* Latin glyphs */
}

@font-face {
  font-family: 'Awesome Font';
  font-style: normal;
  font-weight: 400;
  src: local('Awesome Font'),
       url('/fonts/awesome-jp.woff2') format('woff2'), 
       url('/fonts/awesome-jp.woff') format('woff'),
       url('/fonts/awesome-jp.ttf') format('ttf'),
       url('/fonts/awesome-jp.eot') format('eot');
  unicode-range: U+3000-9FFF, U+ff??; /* Japanese glyphs */
}</code></pre>
                </section>

                <section>
                    <p>Note</p>
                    <ul>
                        <li>Unicode-range subsetting is particularly important for Asian languages, where the number of glyphs is much larger than in western languages and a typical 'full' font is often measured in megabytes, instead of tens of kilobytes!</li>
                    </ul>
                </section>
                <section>
                    <p>The use of unicode range subsets, and separate files for each stylistic variant of the font allows us to define a composite font family that is both faster and more efficient to download - the visitor will only download the variants and subsets it needs, and they are not forced to download subsets that they may never see or use on the page.</p>
                    <p>That said, there is one small gotcha with unicode-range: <a href="http://caniuse.com/#feat=font-unicode-range">not all browser support it</a>, yet. Some browsers simply ignore the unicode-range hint and will download all variants, while others may not process the @font-face declaration at all. To address this, we need to fallback to “manual subsetting” for older browsers.</p>
                </section>
                <section>
                    <p>Because old browsers are not smart enough to select just the necessary subsets and cannot construct a composite font, we have to fallback to providing a single font resource that contains all necessary subsets, and hide the rest from the browser. For example, if the page is only using Latin characters, then we can strip other glyphs and serve that particular subset as a standalone resource.</p>
                    <ul>
                        <li>If unicode-range subsetting is supported by the browser, then it will automatically select the right subset. The page just needs to provide the subset files and specify appropriate unicode-ranges in the @font-face rules.</li>
                        <li>If unicode-range is not supported then the page needs to hide all unnecessary subsets - i.e. the developer must specify required subsets.</li>
                    </ul>
                </section>
                <section>
                    <ul>
                        <li>Use the open-source <a href="https://github.com/behdad/fonttools/blob/master/Lib/fontTools/subset.py#L16">pyftsubset tool</a> to subset and optimize your fonts.</li>
                        <li>Some font services allow manual subsetting via custom query parameters, which you can use to manually specify the required subset for your page - consult the documentation of your font provider.</li>
                    </ul>
                    <p>Each font family is composed of multiple stylistic variants (regular, bold, italic) and multiple weights for each style, each of which, in turn, may contain very different glyph shapes - e.g. different spacing, sizing, or a different shape altogether.</p>
                    <p><img alt="Font weights" src="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/images/font-weights.png" />
                    </p>
                </section>
                <section>
                    <p>For example, the above diagram illustrates a font family that offers three different bold weights: 400 (regular), 700 (bold), and 900 (extra bold). All other in-between variants (indicated in gray) are automatically mapped to the closest variant by the browser.</p>
                    <p><a href="http://www.w3.org/TR/css3-fonts/#font-matching-algorithm">CSS3 font matching algorithm</a>
                    </p>
                    <p>Similar logic applies to <em>italic</em> variants. The font designer controls which variants they will produce, and we control which variants we will use on the page - since each variant is a separate download, it’s a good idea to keep the number of variants small! For example, we can define two bold variants for our <em>Awesome Font</em> family:</p><pre><code data-lang="css">@font-face {
  font-family: 'Awesome Font';
  font-style: normal;
  font-weight: 400;
  src: local('Awesome Font'),
       url('/fonts/awesome-l.woff2') format('woff2'), 
       url('/fonts/awesome-l.woff') format('woff'),
       url('/fonts/awesome-l.ttf') format('ttf'),
       url('/fonts/awesome-l.eot') format('eot');
  unicode-range: U+000-5FF; /* Latin glyphs */
}

@font-face {
  font-family: 'Awesome Font';
  font-style: normal;
  font-weight: 700;
  src: local('Awesome Font'),
       url('/fonts/awesome-l-700.woff2') format('woff2'), 
       url('/fonts/awesome-l-700.woff') format('woff'),
       url('/fonts/awesome-l-700.ttf') format('ttf'),
       url('/fonts/awesome-l-700.eot') format('eot');
  unicode-range: U+000-5FF; /* Latin glyphs */
}</code></pre>
                </section>

                <section>
                    <p>The above example declares the <em>Awesome Font</em> family that is composed of two resources that cover the same set of Latin glyphs (U+000-5FF) but offer two different “weights”: normal (400), and bold (700). However, what happens if one of our CSS rules specifies a different font weight, or sets the font-style property to italic?</p>
                    <ul>
                        <li>If an exact font match is not available the browser will substitute the closest match.</li>
                        <li>If no stylistic match is found (e.g. we did not declare any italic variants in example above), then the browser will synthesize its own font variant.</li>
                    </ul>
                </section>
                <section>
                    <p><img alt="Font synthesis" src="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/images/font-synthesis.png" />
                    </p>
                </section>
                <section>
                    <p><a href="http://www.w3.org/TR/css3-fonts/#propdef-font-style">CSS3 font-style</a>
                    </p>
                    <p>The example above illustrates the difference between the actual vs. synthesized font results for Open-Sans - all synthesized variants are generated from a single 400-weight font. As you can tell, there is a noticeable difference in the results. The details of how to generate the bold and oblique variants are not specified. Hence, the results will vary from browser to browser, and will also be highly dependent on the font.</p>
                </section>
                <section>
                    <p>Note</p>
                    <ul>
                        <li>For best consistency and visual results you should not rely on font synthesis. Instead, minimize the number of used font variants and specify their locations, such that the browser can download them when they are used on the page. That said, in some cases a synthesized variant <a href="https://www.igvita.com/2014/09/16/optimizing-webfont-selection-and-synthesis/">may be a viable option</a> - use with caution.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="optimizing-loading-and-rendering">Optimizing loading and rendering</h2>

                    <ul>
                        <li>Font requests are delayed until the render tree is constructed, which can result in delayed text rendering</li>
                        <li>Font Loading API allows us to implement custom font loading and rendering strategies that override default lazyload font loading</li>
                        <li>Font inlining allows us to override default lazyload font loading in older browsers</li>
                    </ul>
                    <p>A “full” webfont that includes all stylistic variants, which we may not need, plus all the glyphs, which may go unused, can easily result in a multi-megabyte download. To address this, the @font-face CSS rule is specifically designed to allow us to split the font family into a collection of resources: unicode subsets, distinct style variants, and so on.</p>
                    <p>Given these declarations the browser figures out the required subsets and variants and downloads the minimal set required to render the text. This behavior is very convenient, but if we’re not careful, it can also create a performance bottleneck in the critical rendering path and delay text rendering - something that we would certainly like to avoid!</p>
                    <p>Lazy loading of fonts carries an important hidden implication that may delay text rendering: the browser must <a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction">construct the render tree</a>, which is dependent on the DOM and CSSOM trees, before it will know which font resources it will need to render the text. As a result, font requests are delayed well after other critical resources, and the browser may be blocked from rendering text until the resource is fetched.</p>
                    <p><img alt="Font critical rendering path" src="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/images/font-crp.png" />
                    </p>
                </section>
                <section>
                    <ul>
                        <li>Font requests are dispatched once render tree indicates which font variants are needed to render the specified text on the page</li>
                    </ul>
                    <ul>
                        <li>If the font is not yet available the browser may not render any text pixels</li>
                        <li>Once the font is available the browser paints text pixels</li>
                    </ul>
                </section>
                <section>
                    <p>The “race” between the first paint of page content, which can be done shortly after the render tree is built, and the request for the font resource is what creates the “blank text problem” where the browser may render page layout but omits any text. The actual behavior differs between various browsers:</p>
                    <ul>
                        <li>Safari hold text rendering until the font download is complete.</li>
                        <li>Chrome and Firefox hold font rendering for up to 3 seconds, after which they use a fallback font, and once the font download has finished they re-render the text once more with the downloaded font.</li>
                        <li>IE immediately renders with the fallback font if the request font is not yet available, and re-renders it once the font download is complete.</li>
                    </ul>
                </section>
                <section>
                    <p>There are good arguments for and against the different rendering strategies: some people find re-rendering jarring while others prefer to see immediate results and don’t mind the page reflow once the font download has finished - we won’t get into this argument here. The important point is that lazyloading reduces the number of bytes, but also has the potential to delay text rendering. Next, let’s take a look at how we can optimize this behavior.</p>
                    <p><a href="http://dev.w3.org/csswg/css-font-loading/">Font Loading API</a> provides a scripting interface to define and manipulate CSS font faces, track their download progress, and override their default lazyload behavior. For example, if we’re certain that a particular font variant will be required, we can define it and tell the browser to initiate an immediate fetch of the font resource:</p><pre><code data-lang="javascript">var font = new FontFace("Awesome Font", "url(/fonts/awesome.woff2)", {
  style: 'normal', unicodeRange: 'U+000-5FF', weight: '400'
});

font.load(); // don't wait for render tree, initiate immediate fetch!

font.ready().then(function() {
  // apply the font (which may rerender text and cause a page reflow)
  // once the font has finished downloading
  document.fonts.add(font);
  document.body.style.fontFamily = "Awesome Font, serif";

  // OR... by default content is hidden, and rendered once font is available
  var content = document.getElementById("content");
  content.style.visibility = "visible";

  // OR... apply own render strategy here... 
});</code></pre>
                </section>

                <section>
                    <p>Further, because we can check font status (via <a href="http://dev.w3.org/csswg/css-font-loading/#font-face-set-check">check()</a>) method and track its download progress, we can also define a custom strategy for rendering text on our pages:</p>
                    <ul>
                        <li>We can hold all text rendering until the font is available.</li>
                        <li>We can implement a custom timeout for each font.</li>
                        <li>We can use the fallback font to unblock rendering and inject a new style that uses desired font once the font is available.</li>
                    </ul>
                </section>
                <section>
                    <p>Best of all, we can also mix and match above strategies for different content on the page - e.g. hold text rendering on some sections until font is available, use a fallback and then rerender once the font download has finished, specify different timeouts, and so on.</p>
                </section>
                <section>
                    <p>Note</p>
                    <ul>
                        <li>Font Loading API is still <a href="http://caniuse.com/#feat=font-loading">under development in some browsers</a>. Consider using the <a href="https://github.com/bramstein/fontloader">FontLoader polyfill</a>, or the <a href="https://github.com/typekit/webfontloader">webfontloader library</a>, to deliver similar functionality, albeit with the overhead of an additional JavaScript dependency.</li>
                    </ul>
                </section>

                <section>
                    <p>A simple alternative strategy to using the Font Loading API to eliminate the “blank text problem” is to inline the font contents into a CSS stylesheet:</p>
                    <ul>
                        <li>CSS stylesheets with matching media queries are automatically downloaded by the browser with high priority as they are required to construct the CSSOM.</li>
                        <li>Inlining the font data into CSS stylesheet forces the browser to download the font with high priority and without waiting for the render tree - i.e. this acts as a manual override to the default lazyload behavior.</li>
                    </ul>
                </section>
                <section>
                    <p>The inlining strategy is not as flexible and does not allow us to define custom timeouts or rendering strategies for different content, but it is a simple and robust solution that works across all browsers. For best results, separate inlined fonts into standalone stylesheet and serve them with a long max-age - this way, when you update your CSS you are not forcing your visitors to redownload the fonts.</p>
                </section>
                <section>
                    <p>Note</p>
                    <ul>
                        <li>Use inlining selectively! Recall that the reason @font-face uses lazyload behavior is to avoid downloading unnecessary font variants and subsets. Also, increasing the size of your CSS via aggressive inlining will negatively impact your <a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/">critical rendering path</a> - the browser must download all CSS before it can construct the CSSOM, build the render tree, and render page contents to the screen.</li>
                    </ul>
                </section>
                <section>
                    <p>Font resources are, typically, static resources that don’t see frequent updates. As a result, they are ideally suited for a long max-age expiry - ensure that you specify both a <a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching#validating-cached-responses-with-etags">conditional ETag header</a>, and an <a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching#cache-control">optimal Cache-Control policy</a> for all font resources.</p>
                    <p>There is no need to store fonts in localStorage or via other mechanisms - each of those has their set of performance gotchas. The browser’s HTTP cache, in combination with Font Loading API or the webfontloader library, provides the best and most robust mechanism to deliver font resources to the browser.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="optimization-checklist">Optimization checklist</h2>
                    <p>Contrary to popular belief, use of webfonts does not need to delay page rendering or have negative impact on other performance metrics. Well optimized use of fonts can deliver a much better overall user experience: great branding, improved readability, usability, and searchability, all the while delivering a scalable multi-resolution solution that adapts well to all screen formats and resolutions. Don’t be afraid to use webfonts!</p>
                    <p>That said, a naive implementation may incur large downloads and unnecessary delays. This is where we need to dust off our optimization toolkit and assist the browser by optimizing the font assets themselves and how they are fetched and used on our pages.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>HTTP caching</h2>
                    <p>Fetching something over the network is both slow and expensive: large responses require many roundtrips between the client and server, which delays when they are available and can be processed by the browser, and also incurs data costs for the visitor. As a result, the ability to cache and reuse previously fetched resources is a critical aspect of optimizing for performance.</p>
                    <p>Great news, every browser ships with an implementation of an HTTP cache! All we have to do is ensure that each server response provides correct HTTP header directives to instruct the browser on when and for how long the response can be cached by the browser.</p>
                </section>
                <section>
                    <p></p>
                    <ul>
                        <li>If you are using a Webview to fetch and display web content in your application, you may need to provide additional configuration flags to ensure that the HTTP cache is enabled, its size is set to a reasonable number to match your use case, and that the cache is persisted. Check the platform documentation and confirm your settings!</li>
                    </ul>
                </section>
                <section>
                    <p><img alt="HTTP request" src="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/images/http-request.png" />
                    </p>
                </section>
                <section>
                    <p>When the server returns a response it also emits a collection of HTTP headers, describing its content-type, length, caching directives, validation token, and more. For example, in above exchange the server returns a 1024 byte response, instructs the client to cache it for up to 120 seconds, and provides a validation token (“x234dff”) that can be used after the response has expired to check if the resource has been modified.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="validating-cached-responses-with-etags">Validating cached responses with ETags</h2>

                    <ul>
                        <li>Validation token is communicated by the server via the ETag HTTP header</li>
                        <li>Validation token enables efficient resource update checks: no data transfer if the resource has not changed.</li>
                    </ul>
                    <p>Let’s assume 120 seconds have passed since our initial fetch and the browser has initiated a new request for the same resource. First, the browser checks the local cache and finds the previous response, unfortunately it cannot use it as the response has now “expired”. At this point it could simply dispatch a new request and fetch the new full response, but that’s inefficient because if the resource has not changed then there is no reason to download the exact same bytes that are already in cache!</p>
                    <p>That’s the problem that validation tokens, as specified in the ETag header, are designed to solve: the server generates and returns an arbitrary token which is typically a hash or some other fingerprint of the contents of the file. The client does not need to know how the fingerprint is generated, it only needs to send it to the server on the next request: if the fingerprint is still the same then the resource has not changed and we can skip the download.</p>
                    <p><img alt="HTTP Cache-Control example" src="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/images/http-cache-control.png" />
                    </p>
                </section>
                <section>
                    <p>In above example the client automatically provides the ETag token within the “If-None-Match” HTTP request header, the server checks the token against the current resource, and if it has not changed returns a “304 Not Modified” response which tells the browser that the response it has in cache has not changed and can be renewed for another 120 seconds. Note that we do not have to download the response once more - this saves time and bandwidth.</p>
                    <p>As a web developer, how do you take advantage of efficient revalidation? The browser does all the work on our behalf: it will automatically detect if a validation token has been previously specified, it will append it to an outgoing request, and it will update the cache timestamps as necessary based on received response from the server. <strong>The only thing that’s left for us to do is to ensure that the server is, in fact, providing the necessary ETag tokens: check your server documentation for necessary configuration flags.</strong>
                    </p>
                </section>
                <section>
                    <p>Remember</p>
                    <ul>
                        <li>Tip: HTML5 Boilerplate project contains <a href="https://github.com/h5bp/server-configs">sample configuration files</a> for all the most popular servers with detailed comments for each configuration flag and setting: find your favorite server in the list, look for appropriate settings, and copy / confirm that your server is configured with recommended settings.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="cache-control">Cache-Control</h2>

                    <ul>
                        <li>Each resource can define its caching policy via Cache-Control HTTP header</li>
                        <li>Cache-Control directives control who can cache the response, under which conditions, and for how long</li>
                    </ul>
                    <p>The best request is a request that does not need to communicate with the server: a local copy of the response allows us to eliminate all network latency and avoid data charges for the data transfer. To achieve this, the HTTP specification allows the server to return a <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9">number of different Cache-Control directives</a> that control how, and for how long, the individual response can be cached by the browser and other intermediate caches.</p>
                </section>
                <section>
                    <p>Remember</p>
                    <ul>
                        <li>Cache-Control header was defined as part of the HTTP/1.1 specification and supersedes previous headers (e.g. Expires) used to define response caching policies. All modern browsers support Cache-Control, hence that is all we will need.</li>
                    </ul>
                </section>
                <section>
                    <p><img alt="HTTP Cache-Control example" src="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/images/http-cache-control-highlight.png" />
                    </p>
                </section>
                <section>
                    <p>“no-cache” indicates that the returned response cannot be used to satisfy a subsequent request to the same URL without first checking with the server if the response has changed. As a result, if a proper validation token (ETag) is present, no-cache will incur a roundtrip to validate the cached response, but can eliminate the download if the resource has not changed.</p>
                    <p>By contrast, “no-store” is much simpler, as it simply disallows the browser and all intermediate caches to store any version of the returned response - e.g. one containing private personal or banking data. Everytime the user requests this asset, a request is sent to the server and a full response is downloaded each and every time.</p>
                    <p>If the response is marked as “public” then it can be cached, even if it has HTTP authentication associated with it, and even when the response status code isn’t normally cacheable. Most of the time, “public” isn’t necessary, because explicit caching information (like “max-age”) indicates that the response is cacheable anyway.</p>
                    <p>By contrast, “private” responses can be cached by the browser but are typically intended for a single user and hence are not allowed to be cached by any intermediate cache - e.g. an HTML page with private user information can be cached by that user’s browser, but not by a CDN.</p>
                    <p>This directive specifies the maximum time in seconds that the fetched response is allowed to be reused for from the time of the request - e.g. “max-age=60” indicates that the response can be cached and reused for the next 60 seconds.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="defining-optimal-cache-control-policy">Defining optimal Cache-Control policy</h2>
                    <p><img alt="Cache decision tree" src="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/images/http-cache-decision-tree.png" />
                    </p>
                </section>
                <section>
                    <p>Follow the decision tree above to determine the optimal caching policy for a particular resource, or a set of resources used by your application. Ideally, you should aim to cache as many responses as possible on the client for the longest possible period, and provide validation tokens for each response to enable efficient revalidation.</p>
                    <p>According to HTTP Archive, amongst the top 300,000 sites (by Alexa rank), <a href="http://httparchive.org/trends.php#maxage0">nearly half of all the downloaded responses can be cached</a> by the browser, which is a huge savings for repeat pageviews and visits! Of course, that doesn’t mean that your particular application will have 50% of resources that can be cached: some sites can cache 90%+ of their resources, while others may have a lot of private or time-sensitive data that can’t be cached at all.</p>
                    <p><strong>Audit your pages to identify which resources can be cached and ensure that they are returning appropriate Cache-Control and ETag headers.</strong>
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="invalidating-and-updating-cached-responses">Invalidating and updating cached responses</h2>

                    <ul>
                        <li>Locally cached responses are used until the resource 'expires'</li>
                        <li>Embedding a file content fingerprint in the URL enables us to force the client to update to a new version of the response</li>
                        <li>Each application needs to define its own cache hierarchy for optimal performance</li>
                    </ul>
                    <p>All HTTP requests made by the browser are first routed to the browser cache to check if there is a valid cached response that can be used to fulfill the request. If there is a match, the response is read from the cache and we eliminate both the network latency and the data costs incurred by the transfer. <strong>However, what if we want to update or invalidate a cached response?</strong>
                    </p>
                    <p>For example, let’s say we’ve told our visitors to cache a CSS stylesheet for up to 24 hours (max-age=86400), but our designer has just committed an update that we would like to make available to all users. How do we notify all the visitors with what is now a “stale” cached copy of our CSS to update their caches? It’s a trick question - we can’t, at least not without changing the URL of the resource.</p>
                    <p>Once the response is cached by the browser, the cached version will be used until it is no longer fresh, as determined by max-age or expires, or until it is evicted from cache for some other reason - e.g. the user clearing their browser cache. As a result, different users might end up using different versions of the file when the page is constructed; users who just fetched the resource will use the new version, while users who cached an earlier (but still valid) copy will use an older version of its response.</p>
                    <p><strong>So, how do we get the best of both worlds: client-side caching and quick updates?</strong> Simple, we can change the URL of the resource and force the user to download the new response whenever its content changes. Typically, this is done by embedding a fingerprint of the file, or a version number, in its filename - e.g. style.<strong>x234dff</strong>.css.</p>
                    <p><img alt="Cache hierarchy" src="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/images/http-cache-hierarchy.png" />
                    </p>
                </section>

                <section>
                    <p>The ability to define per-resource caching policies allows us to define “cache hierarchies” that allow us to control not only how long each is cached for, but also how quickly new versions are seen by visitor. For example, let’s analyze the above example:</p>
                    <ul>
                        <li>The HTML is marked with “no-cache”, which means that the browser will always revalidate the document on each request and fetch the latest version if the contents change. Also, within the HTML markup we embed fingerprints in the URLs for CSS and JavaScript assets: if the contents of those files change, than the HTML of the page will change as well and new copy of the HTML response will be downloaded.</li>
                        <li>The CSS is allowed to be cached by browsers and intermediate caches (e.g. a CDN), and is set to expire in 1 year. Note that we can use the “far future expires” of 1 year safely because we embed the file fingerprint its filename: if the CSS is updated, the URL will change as well.</li>
                        <li>The JavaScript is also set to expire in 1 year, but is marked as private, perhaps because it contains some private user data that the CDN shouldn’t cache.</li>
                        <li>The image is cached without a version or unique fingerprint and is set to expire in 1 day.</li>
                    </ul>
                </section>
                <section>
                    <p>The combination of ETag, Cache-Control, and unique URLs allows us to deliver the best of all worlds: long-lived expiry times, control over where the response can be cached, and on-demand updates.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="caching-checklist">Caching checklist</h2>
                    <p>There is no one best cache policy. Depending on your traffic patterns, type of data served, and application-specific requirements for data freshness, you will have to define and configure the appropriate per-resource settings, as well as the overall “caching hierarchy”.</p>
                    <p>Some tips and techniques to keep in mind as you work on caching strategy:</p>
                </section>
            </section>
            <section>
                <h1>Monetization</h1>
            </section>
            <section>
                <section>
                    <h2>Let users explore before they commit</h2>
                    <p>Requiring login or account creation too early in a site experience can be detrimental to conversion.</p>
                    <p>In a <a href="https://developers.google.com/web/fundamentals/principles/">research study</a>, participants became frustrated by sites that demanded registration in order to continue - especially if the site was an unfamiliar brand. While getting access to customer information may be integral to your business, asking for it too early may result in fewer registrations, so don’t ask for it too early.</p>
                    <p>Before offering their personal information, users want to browse content and get a sense of what a site has to offer. In the study, many of the sites that participants rated the lowest were those where they were forced to create an account upfront in order to continue.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Let users purchase as a guest</h2>
                    <p>Offer the option to check out as a guest, and encourage registration with tangible benefits.</p>
                    <p>In a <a href="https://developers.google.com/web/fundamentals/principles/">research study</a>, participants didn’t necessarily want to commit to creating an account with the retailer. Participants described the guest checkout as <b>“convenient”</b>, <b>“simple”</b>, and <b>“easy [and] quick”</b>. They were annoyed at a site that required registration to purchase, especially since the site didn’t explain how registration would benefit them.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Make it easy to finish on another device</h2>
                    <p>Offer an easy way to save or share information across devices, for example provide a way for users to share items across social networks or to email a link directly within the site itself.</p>
                    <p>There are many reasons a user might want to finish a task on another device, perhaps to see it on a bigger screen, or they get distracted and want to pick it up later. For instance, a career site allowed participants to email themselves jobs to apply for later.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Use existing information to maximize convenience</h2>
                    <p>Take advantage of information you already have, and/or use third-party payment services to make conversion as easy as possible.</p>
                    <p>For your registered users, remember and pre-fill their preferences. For new users, offer a third-party checkout service they may already use. Several retail sites in the study offered third-party payment services as an option, reducing purchasing friction for users of those services and allowing the site to prefill shipping info.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>How ads work</h2>
                    <p>At a glance, you make ad spaces (also known as ad inventory) available on your site. Advertisers bid to show their ads on your site and the highest bid wins. You get paid when users click on the ads.</p>
                </section>
                <section>
                    <p>This guide covers the basics of how ads work, but to learn more, refer to the <a href="https://support.google.com/adsense/answer/181947">Google AdSense</a> and <a href="https://support.google.com/dfp_sb/?utm_medium=et&amp;utm_source=dfp_sb_support_tab&amp;utm_campaign=dfp_sb#topic=13148">Google DoubleClick</a> help centers.</p>

                    <ul>
                        <li>Choose the ads platform best suited to your site. We recommend the <a href="http://www.google.com/adsense/start/">AdSense</a> platform for most sites, and the <a href="http://www.google.com/doubleclick/publishers/">DoubleClick platform</a> for sites with their own advertising teams.</li>
                        <li>Ads work best when they integrate nicely in your site; their color, content, size, and location enhance user experience.</li>
                        <li>Users click on ads that are relevant to the content they are looking for; understand how ads targeting works so that you can maximize your revenue.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="choose-the-best-ads-platform-for-your-site">Choose the best ads platform for your site</h2>
                    <p>There are many ad serving platforms available, and choosing the one that is right for you is important. We recommend the <a href="http://www.google.com/adsense/start/">Google AdSense platform</a> for most sites; it’s free use and available to almost any site. The <a href="https://www.google.com/doubleclick/publishers/">DoubleClick platform</a> is best for sites with their own advertising teams.</p>
                    <p>Google AdSense is a free, simple way for sites of all sizes to earn money by displaying targeted ads. AdSense shows ads that are relevant to your users with automatic targeting. You do not need to manage inventory or advertiser relationships, AdSense gives you instant and automatic access to a huge source of advertiser demand.</p>
                </section>
                <section>
                    <p>AdSense also provides you with the tools you need to be successful, including:</p>
                    <ul>
                        <li>Complete <a href="https://support.google.com/adsense/answer/160374">customization tools</a> to change the look and feel of your ads.</li>
                        <li><a href="https://support.google.com/adsense/answer/2973289">Performance tools</a> to monitor and optimize your ad performance.</li>
                        <li>Tools to <a href="https://support.google.com/adsense/answer/2569265">manage payments</a>.</li>
                    </ul>
                </section>
                <section>
                    <p>In addition, AdSense provides the ability to choose from a variety of ad sizes and formats, including <a href="https://support.google.com/adsense/answer/3213689">responsive ads</a> that serve the right sized ad for responsive sites.</p>
                    <p>DoubleClick for Publishers is an ad management platform that helps sites sell, schedule, deliver, and measure all of their ad inventory. Sites can reserve some, or all of their inventory for ads from their own dedicated advertising sales teams or auction-based services like AdSense or AdExchange.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="get-the-most-from-your-ads">Get the most from your ads</h2>
                    <p>Place ads where they are visible, but don’t detract from the main user experience.</p>
                    <p><img alt="Common examples of where to place mobile ads" src="https://developers.google.com/web/fundamentals/monetization/ads/images/mobile_ads_placement.png" />
                    </p>
                </section>
                <section>
                    <p>For example, 320×100px ads may be interspersed through list content, articles may include a 300×250px ads, and long form content may include a combination of ads. Refer to <a href="https://support.google.com/adsense/answer/1282097">Best practices for ad placement</a> in the AdSense help for further details.</p>
                    <p>For the most flexibility, use responsive ads. Responsive ads are automatically sized based on the user’s device.</p>
                    <p><img alt="Sample website with ads on desktop and mobile" src="https://developers.google.com/web/fundamentals/monetization/ads/images/ad-ss-600.png" srcset="images/ad-ss-1200.png 1200w,            images/ad-ss-900.png 900w,           images/ad-ss-600.png 600w,            images/ad-ss-300.png 300w" />
                    </p>
                </section>
                <section>
                    <p>It may be necessary to use statically sized ads, in this case, refer to the <a href="https://support.google.com/adsense/answer/6002621">Guide to ad sizes</a>.</p>
                    <p>To maximize the ad inventory available to you, be sure to choose both text and display ads.</p>
                    <p><img src="https://developers.google.com/web/fundamentals/monetization/ads/images/mobileimage.png" />
                    </p>
                </section>
                <section>
                    <p>In many cases, you have control over the color, font, and font-sizing for text ads. Choose styles that match or contrast the styles on your site.</p>
                    <p><img src="https://developers.google.com/web/fundamentals/monetization/ads/images/mobiletext_withcolor.png" />
                    </p>
                </section>
                <section>
                    <p>For example, you can change the color of URL text so that users see clearly where the link will take them.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="how-ads-are-targeted">How ads are targeted</h2>
                </section>
                <section>
                    <p>Google AdSense automatically delivers ads that are <a href="https://support.google.com/adsense/answer/9713">targeted to your content or audience</a>. This is done in several ways:</p>
                    <ul>
                        <li><strong>Content and language</strong> - users will see ads that match your site’s content and language.</li>
                        <li><strong>Placement</strong> - advertisers can target sites that have ad units placed where they want their ads to appear, and matched to the size they want their ads to be displayed in on targeted devices.</li>
                        <li><strong>User’s interest</strong> - your website and advertisers can target specific user groups, for example, sports enthusiasts.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="how-ads-are-selected">How ads are selected</h2>
                    <p>The <a href="https://support.google.com/adsense/answer/160525">ad auction</a> is used to select the ads that will appear on your pages and determine how much you’ll earn from those ads. In a traditional auction, interested bidders state the maximum price they’re willing to pay to buy a specific item. Similarly, our ad auction allows advertisers to state the price they’re willing to pay for clicks on ads or for impressions served on AdSense pages.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Include AdSense ads on your site</h2>
                </section>
                <section>
                    <p>Follow the steps in this guide to learn how to include ads in your site. Create an AdSense account, create ad units, place the units in your site, configure payment settings, and get paid.</p>

                    <ul>
                        <li>To create an AdSense account, you must be 18, have a Google Account, and address.</li>
                        <li>Your website must be live before submitting an application, and the website content must comply with AdSense policies.</li>
                        <li>Create responsive ad units to ensure that your ads fit, no matter what device a user views them on.</li>
                        <li>Verify payment settings and wait for the money to start rolling in.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="build-sample-page-with-ads">Build sample page with ads</h2>
                    <p>In this walk-through, you’ll build a simple page that includes responsive ads using Google AdSense and the Web Starter Kit:</p>
                    <p><img alt="Sample website with ads on desktop and mobile" sizes="100vw" src="https://developers.google.com/web/fundamentals/monetization/ads/images/ad-ss-600.png" srcset="images/ad-ss-1200.png 1200w,            images/ad-ss-900.png 900w,           images/ad-ss-600.png 600w,            images/ad-ss-300.png 300w" />
                    </p>
                </section>
                <section>
                    <p>If you’re unfamiliar with the Web Start Kit, refer to the <a href="https://developers.google.com/web/fundamentals/tools/setup/setup_kit.html">Set Up Web Starter Kit</a> documentation.</p>
                    <p>In order to include ads in your site and get paid, you’ll need to follow these simple steps:</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="create-an-adsense-account">Create an AdSense account</h2>
                </section>
                <section>
                    <p>In order to serve ads on your site, you’ll need an active AdSense account. If you don’t already have one, you’ll need to <a href="https://www.google.com/adsense/">create one</a> and agree to the AdSense terms of service. When you create your account, you’ll need to verify:</p>
                    <ul>
                        <li>You are at least 18 years old and have a verified Google Account.</li>
                        <li>You own a live website or other online content that complies with <a href="https://support.google.com/adsense/answer/48182">Google AdSense program policies</a>; ads are hosted on this site.</li>
                        <li>You have a postal address and a mailing address associated with your bank account so you can receive payments.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="create-ad-units">Create ad units</h2>
                </section>
                <section>
                    <p>An ad unit is a set of ads that are displayed on your page as a result of JavaScript you add to your page. You have three options for sizing your ad units:</p>
                    <ul>
                        <li><strong><a href="https://support.google.com/adsense/answer/3213689">Responsive (Recommended)</a></strong>.</li>
                        <li><a href="https://support.google.com/adsense/answer/6002621">Pre-defined</a>.</li>
                        <li><a href="https://support.google.com/adsense/answer/3289364">Custom-sized</a>.</li>
                    </ul>
                </section>
                <section>
                    <p>You are building a responsive site; use responsive ad units. Responsive ads automatically resize based on the size of the device and the width of the parent container. Responsive ads work in line with your responsive layout, ensuring your site looks great on any device.</p>
                    <p>If you don’t use responsive ad units, you will have to write a lot more code to control how ads appear based on a user’s device. Even if you must specify the exact size of your ad units, use responsive ad units in <a href="https://developers.google.com/web/fundamentals/monetization/ads/customize-ads.html#what-if-responsive-sizing-isnt-enough">advanced mode</a>.</p>
                    <p>To make your code simpler and save you time and effort, the responsive ad code automatically adapts the ad unit size to your page layout. The code calculates the required size dynamically based on the width of the ad unit’s parent container, then picks the best-performing ad size that fits in the container. For example, a mobile-optimized site with a width of 360px might show a 320x50 ad unit.</p>
                    <p>Track the current <a href="https://support.google.com/adsense/answer/6002621#top">top performing ad sizes</a> in the Google AdSense <a href="https://support.google.com/adsense/answer/6002621#top">Guide to ad sizes</a>.</p>
                    <p>After creating your ad unit, AdSense provide a snippet of code to include on your site, similar to the code below:</p><pre><code data-lang="html">&lt;script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"&gt;&lt;/script&gt;
&lt;!-- Top ad in web starter kit sample --&gt;
&lt;ins
  style="display:block"
  data-ad-client="XX-XXX-XXXXXXXXXXXXXXXX"
  data-ad-slot="XXXXXXXXXX"
  data-ad-format="auto"&gt;&lt;/ins&gt;
&lt;script&gt;
  (adsbygoogle = window.adsbygoogle || []).push({});
&lt;/script&gt;</code></pre>
                </section>

                <section>
                    <p>Note</p>
                    <ul>
                        <li>The <code>data-ad-client</code> and <code>data-ad-slot</code> will be unique for each ad you generate.</li>
                        <li>The <code>data-ad-format=auto</code> tag in the generated ad code enables the smart sizing behavior for the responsive ad unit.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="include-ad-units-in-your-site">Include ad units in your site</h2>
                    <p>To include the ad on the page, we need to paste the provided AdSense snippet into our markup. If you want to include multiple ads, you can either re-use the same ad unit, or create multiple ad units.</p>
                </section>
                <section>
                    <p>Remember</p>
                    <ul>
                        <li>Paste all ad code within the body tag; otherwise the ads won't work.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="configure-payment-settings">Configure payment settings</h2>
                    <p>Wondering when your AdSense payment will arrive? Trying to figure out whether you’ll be paid this month or next month? Be sure you’ve completed all of the steps below:</p>
                    <p>Refer to <a href="https://support.google.com/adsense/answer/1709858">Intro to AdSense payments</a> for any additional questions.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Customize your ads</h2>
                </section>
                <section>
                    <p>The best ads can improve user experience. While the actual ad content comes from advertisers, you have control over the content type, color, size, and placement of those ads.</p>

                    <ul>
                        <li>Never place ads where they might interfere with a user's intended experience on your site; ensure ads above the fold don't push important content below it.</li>
                        <li>Always use responsive ad units; if smart sizing isn't enough, switch to advanced mode.</li>
                        <li>Look for opportunities to integrate ads throughout the content to avoid ad blindness.</li>
                        <li>Choose text styles that blend, compliment, or contrast your site.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="place-ads-where-users-benefit-the-most">Place ads where users benefit the most</h2>
                </section>
                <section>
                    <p>When it comes to deciding where to place ads on your site, and how many ads to include, always put the user first!</p>
                    <ul>
                        <li>Use ads to augment site content; not the other way around.</li>
                        <li>Pages with excessive ads, ads that push important content down below the fold, ads clustered together that dominate the viewable space or ads without clear labeling lead to lower user satisfaction and are against AdSense policies.</li>
                        <li>Ensure ads provide value to users. If you have ad units that generate significantly less revenue or drive less clicks or views, it’s likely they are not providing value to users.</li>
                    </ul>
                </section>
                <section>
                    <p>Sample placement options for mobile ads:</p>
                    <p><img alt="Sample mobile image ad" src="https://developers.google.com/web/fundamentals/monetization/ads/images/mobile_ads_placement.png" />
                    </p>
                </section>
                <section>
                    <p>For more information, review the AdSense <a href="https://support.google.com/adsense/answer/1282097">best practices for ads placement</a>.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="what-if-responsive-sizing-isnt-enough">What if responsive sizing isn’t enough?</h2>
                    <p>In some cases, you may need more control over the way your ads are displayed than simply using responsive ads. In this case, you can switch to advanced mode and override smart sizing in your responsive ad unit code. For example, you can control the exact sizing of ads using <a href="https://developers.google.com/web/fundamentals/layouts/rwd-fundamentals/use-media-queries.html">media queries</a>:</p><pre><code data-lang="html">&lt;style type="text/css"&gt;
  .adslot_1 { width: 320px; height: 50px; }
  @media (min-width:500px) { .adslot_1 { width: 468px; height: 60px; } }
  @media (min-width:800px) { .adslot_1 { width: 728px; height: 90px; } }
&lt;/style&gt;
&lt;ins
    style="display:block;"
    data-ad-client="ca-pub-1234"
    data-ad-slot="5678"&gt;&lt;/ins&gt;
&lt;script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"&gt;&lt;/script&gt;
&lt;script&gt;(adsbygoogle = window.adsbygoogle || []).push({});&lt;/script&gt;</code></pre>
                </section>
                <section>
                    <p><a href="http://googlesamples.github.io/web-fundamentals/samples/monetization/ads/customize.html">Try it</a>
                    </p>
                    <p>See <a href="https://support.google.com/adsense/answer/3543893">advanced features</a> in the AdSense help for more information.</p>
                </section>
                <section>
                    <p>Important</p>
                    <ul>
                        <li>Always test your ads on different devices and screens to make sure that the responsive behavior is working correctly.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="choose-styles-that-compliment-your-site">Choose styles that compliment your site</h2>
                    <p>The <a href="https://support.google.com/adsense/answer/17957">most successful ads</a> blend or contrast your site’s styles. Google AdSense provides a set of <a href="https://support.google.com/adsense/answer/6002585">predefined ad styles</a>; choose the style that best fits your site or create your own.</p>
                </section>
                <section>
                    <p>You can customize any of the following styles in text ads:</p>
                    <ul>
                        <li>Border color</li>
                        <li>Background color</li>
                        <li>Text font family and font size</li>
                        <li>Default text color</li>
                        <li>Text color specific for the ad title</li>
                        <li>Text color specific for URLs</li>
                    </ul>
                </section>
                <section>
                    <p>When creating a new unit, you can apply a different style to text ads by expanding the <strong>Text ad style</strong> property:</p>
                    <p><img alt="Text ad styles" src="https://developers.google.com/web/fundamentals/monetization/ads/images/customize.png" />
                    </p>
                </section>
                <section>
                    <p>All text ads use the Google AdSense <strong>Default</strong> style. You can use any of the predefined style as is, make slight changes to the style, or create, your own custom style.</p>
                    <p>Once you’ve saved a new style, you can apply it to any of your existing or new ad units:</p>
                    <p>When you change an existing ad style, any active ad units using that style are automatically updated.</p>
                </section>
                <section>
                    <p>Note</p>
                    <ul>
                        <li>Advertisers have full control over how their display ads look. You can influence the types of display ads that appear on your site using ad placement and sizing, but you can't actually control the image content.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2>Optimize your ads</h2>
                    <p>Optimizing your ads and site is crucial when it comes to the success of your goals. Through optimization, you can help grow your ad revenue, improve usability of your site, get more traffic or accomplish any of your other goals.</p>
                    <p>Want to get better results with AdSense ads and make sure that you give your users what they want while getting what you want? Need some inspiration? Check out these tips from AdSense specialists who have worked with publishers of all sizes.</p>
                </section>
                <section>
                    <p><b>Note:</b> while this article focuses on AdSense, the concepts apply to any ad provider.</p>

                    <ul>
                        <li>Periodically check your AdSense <b>scorecard</b> and implement any <b>recommendations</b>.</li>
                        <li>Review <b>performance reports</b> to understand what ads are providing the most value to you and your users.</li>
                        <li>Choose ads that perform best on your site.</li>
                        <li>Don't block the AdSense crawler in <code>robots.txt</code>.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="check-scorecards-and-recommendations">Check scorecards and Recommendations</h2>
                    <p>Use the scorecard on the <b><a href="https://www.google.com/adsense/app#home">Home</a></b> tab of your account to check how well your ad settings, webpages and content are performing compared to those of other AdSense publishers.</p>
                    <p>Scorecard is organized into different categories (revenue optimization, site health, etc.), provides a score of one to five blue dots. Each score indicates the ranking relative to other publishers in that particular category. While a lower score in a category means there are potential areas for improvement, pay special attention to items flagged with a red or yellow exclamation mark.</p>
                    <p>The <b>Recommendation box</b> on the <a href="https://www.google.com/adsense/app#home">Home</a> tab offers recommendations how your site could be changed to earn more revenue. These recommendations are based on analyzing the performance of recommendations that have been recently implemented by other AdSense publishers and are only provided when there is a high confidence of increased performance.</p>
                    <p>Learn more</p>
                    <p>Review <a href="https://support.google.com/adsense/answer/3006004">about the scorecard</a> and the <a href="https://support.google.com/adsense/answer/1725006">recommendation box</a> in AdSense help.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="use-performance-reports">Use performance reports</h2>
                    <p>Use the Google AdSense <b><a href="https://www.google.com/adsense/app#viewreports">Performance reports</a></b> tab to see how much you’re earning, what impacts those earnings, and graphs to chart trends over time.</p>
                    <p>Use the reports below to get started:</p>
                    <p>In addition to performance reports, AdSense can send occasional customized help and performance report suggestions by email. To sign up, verify your email address in <a href="https://www.google.com/adsense/app#personalSettings">Personal settings</a>, and check the <em>Customized help and performance suggestions</em> checkbox under <em>Email preferences</em>.</p>
                    <p>Learn more</p>
                    <p>Learn more about <a href="https://support.google.com/adsense/answer/160562">performance reports</a> in AdSense help.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="maximize-bidding-potential">Maximize bidding potential</h2>
                </section>
                <section>
                    <p>The higher the competition, or ‘auction pressure’, the more the advertiser will pay to be viewed and clicked on your site. To maximize your bidding potential:</p>
                    <ul>
                        <li>Be sure to allow both <a href="https://support.google.com/adsense/answer/185665">text</a> and <a href="https://support.google.com/adsense/answer/185666">display ads</a>. Excluding one type of ads limits the number of advertisers available to you.</li>
                        <li>Use ad sizes that are popular with advertisers, see the <a href="https://support.google.com/adsense/answer/6002621">Guide to ad sizes</a>.</li>
                        <li>In some cases, certain ads may not blend well with your content, be careful about blocking too many categories as it will lower your potential earnings.</li>
                    </ul>
                </section>
                <section>
                    <p><b>Note:</b> this information is also included in the publisher scorecard, but it’s crucial to strong ad performance!</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="dont-block-the-adsense-crawler">Don’t block the AdSense crawler</h2>
                    <p>Verify that the <a href="https://support.google.com/webmasters/answer/6062608">robots.txt</a> file on your site <a href="https://support.google.com/adsense/answer/10532">doesn’t block the AdSense crawler</a>. AdSense needs to be able to process and index the content of web pages and uses the AdSense crawler to visit your site and determine its content. This allows AdSense to provide relevant ads.</p>
                    <p>To update the <code>robots.txt</code> file to grant the AdSense crawler access to your pages, <em>remove</em> the following two lines of text from your <code>robots.txt</code>:</p><pre><code>User-agent: Mediapartners-Google
Disallow: /
</code></pre>
                </section>

            </section>
            <section>
                <h1>Device Access & Integration</h1>
            </section>
            <section>
                <section>
                    <h2>Hide the Browser UI</h2>
                    <p>Your users can add your site to the homescreen even without any special code on your end, but we recommend to have your web app display without the browser UI when launched from the homescreen (effectively going fullscreen).</p>
                    <p>Add the following code to the <code>&lt;head&gt;</code> of your page:</p><pre><code data-lang="html">&lt;meta name="mobile-web-app-capable" content="yes"&gt;
&lt;meta name="apple-mobile-web-app-capable" content="yes"&gt;</code></pre>
                </section>
                <section>
                    <p>This will tell both Mobile Safari and Chrome for Android that they’re dealing with a web app. Internet Explorer doesn’t require instructions for this, as sites open fullscreen in Windows’ start screen experience from the get-go.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Specify an Icon</h2>
                    <p>To make your site stand out, be sure to provide a beautiful, full size icon, otherwise the favicon or a low quality screenshot may be used.</p>
                    <p>Add the following code to your <code>&lt;head&gt;</code> to add a custom icon to Chrome, Safari and Internet Explorer:</p><pre><code data-lang="html">&lt;!-- icon in the highest resolution we need it for --&gt;
&lt;link rel="icon" sizes="228x228" href="icon.png"&gt;
&lt;!-- reuse same icon for Safari --&gt;
&lt;link rel="apple-touch-icon" href="icon.png"&gt;
&lt;!-- multiple icons for IE --&gt;
&lt;meta name="msapplication-square70x70logo" content="icon\_smalltile.png"&gt;
&lt;meta name="msapplication-square150x150logo" content="icon\_mediumtile.png"&gt;
&lt;meta name="msapplication-wide310x150logo" content="icon\_widetile.png"&gt;
&lt;meta name="msapplication-square310x310logo" content="icon\_largetile.png"&gt;</code></pre>
                </section>
                <section>
                    <p>In this example, Chrome, Safari and Opera use the 228x228px icon, which is scaled to the necessary size by the device. Both Chrome and Safari use the <code>&lt;link&gt;</code> tag and support the <code>sizes</code> attribute, the only difference in syntax is the <code>rel</code> attribute: <code>icon</code> (Chrome) vs. <code>apple-touch-icon</code> (Safari).</p>
                    <p>Windows 8’ new home screen experience supports four different layouts for pinned sites, and requires four icons. You can leave out the relevant meta tags if you don’t want to support a specific size.</p>
                    <p>You can specify <a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/MobileHIG/IconMatrix.html#//apple_ref/doc/uid/TP40006556-CH27">explicit sizes</a> by providing a separate link tag for each icon, preventing the OS from having to resize the icon:</p><pre><code data-lang="html">&lt;link rel="apple-touch-icon" href="touch-icon-iphone.png"&gt;
&lt;link rel="apple-touch-icon" sizes="76x76" href="touch-icon-ipad.png"&gt;
&lt;link rel="apple-touch-icon" sizes="120x120" href="touch-icon-iphone-retina.png"&gt;
&lt;link rel="apple-touch-icon" sizes="152x152" href="touch-icon-ipad-retina.png"&gt;</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>Use a Custom Title</h2>
                    <p>Internet Explorer and Safari allow you to specify a custom title that is used as app name next to or on top of your icon.</p>
                    <p>Add this code to your head <code>&lt;head&gt;</code>:</p><pre><code data-lang="html">&lt;meta name="application-name" content="Web Fundamentals"&gt;
&lt;meta name="apple-mobile-web-app-title" content="Web Fundamentals"&gt;</code></pre>
                </section>
                <section>
                    <p>All three browsers use the default <code>&lt;title&gt;</code> attribute if the additional tags are not around, Chrome does not have a way to specify a custom name different from the title.</p>
                </section>
                <section>
                    <p>Note</p>
                    <ul>
                        <li>This tag is undocumented in Mobile Safari and could be changed and removed at any time.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2>Additional Customizations</h2>
                    <p>The following are customizations that are very useful, but work only in a subset of browsers. All of them are optional but strongly suggested, as they further enhance the app experience.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="safari-startup-images-status-bar-appearance">Safari: Startup images, status bar appearance</h2>
                    <p>Safari allows you to style the status bar and specify a startup image.</p>
                    <p>By default, Safari shows a blank screen during load time and after multiple loads a screenshot of the previous state of the app. You can prevent this by telling Safari to show an explicit startup image, by adding a link tag, with <code>rel=apple-touch-startup-image</code>. For example:</p><pre><code data-lang="html">&lt;link rel="apple-touch-startup-image" href="icon.png"&gt;</code></pre>
                </section>
                <section>
                    <p>The image has to be in the specific size of the target device’s screen or it won’t be used. Refer to <a href="https://developer.apple.com/library/ios/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html">Safari Web Content Guidelines</a> for further details.</p>
                    <p>While Apple’s documentation is sparse on this topic, the developer community has figured out a way to target all devices by using advanced media queries to select the appropriate device and then specify the correct image. Here’s a working solution, courtesy of <a href="https://gist.github.com/tfausak/2222823">tfausak’s gist</a>:</p><pre><code data-lang="html">&lt;!-- iOS 6 &amp; 7 iPad (retina, portrait) --&gt;
&lt;link href="/static/images/apple-touch-startup-image-1536x2008.png"
     media="(device-width: 768px) and (device-height: 1024px)
        and (orientation: portrait)
        and (-webkit-device-pixel-ratio: 2)"
     rel="apple-touch-startup-image"&gt;

&lt;!-- iOS 6 &amp; 7 iPad (retina, landscape) --&gt;
&lt;link href="/static/images/apple-touch-startup-image-1496x2048.png"
     media="(device-width: 768px) and (device-height: 1024px)
        and (orientation: landscape)
        and (-webkit-device-pixel-ratio: 2)"
     rel="apple-touch-startup-image"&gt;

&lt;!-- iOS 6 iPad (portrait) --&gt;
&lt;link href="/static/images/apple-touch-startup-image-768x1004.png"
     media="(device-width: 768px) and (device-height: 1024px)
        and (orientation: portrait)
        and (-webkit-device-pixel-ratio: 1)"
     rel="apple-touch-startup-image"&gt;

&lt;!-- iOS 6 iPad (landscape) --&gt;
&lt;link href="/static/images/apple-touch-startup-image-748x1024.png"
     media="(device-width: 768px) and (device-height: 1024px)
        and (orientation: landscape)
        and (-webkit-device-pixel-ratio: 1)"
     rel="apple-touch-startup-image"&gt;

&lt;!-- iOS 6 &amp; 7 iPhone 5 --&gt;
&lt;link href="/static/images/apple-touch-startup-image-640x1096.png"
     media="(device-width: 320px) and (device-height: 568px)
        and (-webkit-device-pixel-ratio: 2)"
     rel="apple-touch-startup-image"&gt;

&lt;!-- iOS 6 &amp; 7 iPhone (retina) --&gt;
&lt;link href="/static/images/apple-touch-startup-image-640x920.png"
     media="(device-width: 320px) and (device-height: 480px)
        and (-webkit-device-pixel-ratio: 2)"
     rel="apple-touch-startup-image"&gt;

&lt;!-- iOS 6 iPhone --&gt;
&lt;link href="/static/images/apple-touch-startup-image-320x460.png"
     media="(device-width: 320px) and (device-height: 480px)
        and (-webkit-device-pixel-ratio: 1)"
     rel="apple-touch-startup-image"&gt;</code></pre>
                </section>
                <section>
                    <p>You can change the appearance of the default status bar to either <code>black</code> or <code>black-translucent</code>. With <code>black-translucent</code>, the status bar floats on top of the full screen content, rather than pushing it down. This gives the layout more height, but obstructs the top. Here’s the code required:</p><pre><code data-lang="html">&lt;meta name="apple-mobile-web-app-status-bar-style" content="black"&gt;</code></pre>
                </section>
                <section>
                    <p>And here is a preview of how the different modes look:</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="internet-explorer-live-tiles-notifications-and-pinned-sites">Internet Explorer: Live Tiles, notifications and pinned sites</h2>
                    <p>Microsoft’s “Pinned Sites” and their rotating “Live Tiles” go far beyond other implementations and covering them here would blow up this guide. If you’d like to learn more, <a href="https://msdn.microsoft.com/en-us/library/ie/dn455115(v=vs.85).aspx">learn how to create live tiles at MSDN</a>.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Detect When Launched From The Home Screen</h2>
                    <p>Sometimes it’s useful to know whether the app is launched from the home screen vs. the web browser.</p>
                    <p>Sometimes it’s useful to know whether the app is launched from the home screen vs. the web browser. To demonstrate one use case, you might want to show a banner suggesting to install the app to the users’ home screen when he arrives from the browser, but hide it once installed.</p>
                    <p>In Mobile Safari, querying <code>window.navigator.standalone</code> will tell you whether your app is running as home screen icon or simply in the browser. In Internet Explorer, you can achieve the same by querying <a href="http://msdn.microsoft.com/en-us/library/ie/gg491733(v=vs.85).aspx"><code>window.external.msIsSiteMode()</code></a>. Here’s a combined check:</p><pre><code data-lang="js">var fromHomescreen = window.navigator.standalone || window.external.msIsSiteMode();
if(!fromHomescreen) {
    // show them a guide on how to install the web app
    ...
}</code></pre>
                </section>
                <section>
                    <p>Unfortunately, it is not possible to detect the same in Chrome for Android.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Putting It All Together</h2>
                    <p>Let's take all that we discussed and bring it into one big form.</p>
                    <p>Our own <a href="https://developers.google.com/web/starter-kit">Web Starter Kit</a> includes support for the most common options and is great as starting point, but if you are curious as to how a more complete implementation looks like, here’s the portion of the <code>&lt;head&gt;</code> of Web Starter Kit that we expanded with more <code>&lt;meta&gt;</code> tags:</p><pre><code data-lang="html">&lt;!-- hide the browser UI --&gt;
&lt;meta name="mobile-web-app-capable" content="yes"&gt;
&lt;meta name="apple-mobile-web-app-capable" content="yes"&gt;

&lt;!-- set the correct name --&gt;
&lt;meta name="application-name" content="Web Starter Kit" /&gt;
&lt;meta name="apple-mobile-web-app-title" content="Web Starter Kit"&gt;

&lt;!-- Icons --&gt;
  &lt;!-- icon in the highest resolution we need it for --&gt;
  &lt;link rel="icon" sizes="228x228" href="images/touch/icon-228x228.png"&gt;
  &lt;link rel="apple-touch-icon" href="images/touch/icon-228x228.png"&gt;

  &lt;!-- multiple icons for IE11 on Win8 (actual images are 1.8 larger, per MS recommendation) --&gt;
  &lt;meta name="msapplication-square70x70logo" content="images/touch/icon-smalltile-128x128.png"&gt;
  &lt;meta name="msapplication-square150x150logo" content="images/touch/icon-mediumtile-270x270.png"&gt;
  &lt;meta name="msapplication-wide310x150logo" content="images/touch/icon-widetile-558x270.png"&gt;
  &lt;meta name="msapplication-square310x310logo" content="images/touch/icon-largetile-558x558.png"&gt;

  &lt;!-- Tile icon for IE10 on Win8 (144x144 + tile color) --&gt;
  &lt;meta name="msapplication-TileImage" content="images/touch/icon-144x144.png"&gt;
  &lt;meta name="msapplication-TileColor" content="#3372DF"&gt;

&lt;!-- Safari specific --&gt;

  &lt;!-- Status bar style --&gt;
  &lt;meta name="apple-mobile-web-app-status-bar-style" content="black"&gt;

  &lt;!-- Startup Image--&gt;

    &lt;!-- iOS 6 &amp; 7 iPad (retina, portrait) --&gt;
    &lt;link href="images/touch/apple-touch-startup-image-1536x2008.png"
         media="(device-width: 768px) and (device-height: 1024px)
            and (orientation: portrait)
            and (-webkit-device-pixel-ratio: 2)"
         rel="apple-touch-startup-image"&gt;

    &lt;!-- iOS 6 &amp; 7 iPad (retina, landscape) --&gt;
    &lt;link href="images/touch/apple-touch-startup-image-1496x2048.png"
         media="(device-width: 768px) and (device-height: 1024px)
            and (orientation: landscape)
            and (-webkit-device-pixel-ratio: 2)"
         rel="apple-touch-startup-image"&gt;

    &lt;!-- iOS 6 iPad (portrait) --&gt;
    &lt;link href="images/touch/apple-touch-startup-image-768x1004.png"
         media="(device-width: 768px) and (device-height: 1024px)
            and (orientation: portrait)
            and (-webkit-device-pixel-ratio: 1)"
         rel="apple-touch-startup-image"&gt;

    &lt;!-- iOS 6 iPad (landscape) --&gt;
    &lt;link href="images/touch/apple-touch-startup-image-748x1024.png"
         media="(device-width: 768px) and (device-height: 1024px)
            and (orientation: landscape)
            and (-webkit-device-pixel-ratio: 1)"
         rel="apple-touch-startup-image"&gt;

    &lt;!-- iOS 6 &amp; 7 iPhone 5 --&gt;
    &lt;link href="images/touch/apple-touch-startup-image-640x1096.png"
         media="(device-width: 320px) and (device-height: 568px)
            and (-webkit-device-pixel-ratio: 2)"
         rel="apple-touch-startup-image"&gt;

    &lt;!-- iOS 6 &amp; 7 iPhone (retina) --&gt;
    &lt;link href="images/touch//apple-touch-startup-image-640x920.png"
         media="(device-width: 320px) and (device-height: 480px)
            and (-webkit-device-pixel-ratio: 2)"
         rel="apple-touch-startup-image"&gt;

    &lt;!-- iOS 6 iPhone --&gt;
    &lt;link href="images/touch/apple-touch-startup-image-320x460.png"
         media="(device-width: 320px) and (device-height: 480px)
            and (-webkit-device-pixel-ratio: 1)"
         rel="apple-touch-startup-image"&gt;

&lt;!-- MS specific --&gt;

  &lt;!-- Tooltip (Desktop) --&gt;
  &lt;meta name="msapplication-tooltip" content="Start the Web Starter Kit app"&gt;

  &lt;!-- Start url when pinned (Desktop) --&gt;
  &lt;meta name="msapplication-starturl" content="./"&gt;

  &lt;!-- Color of navigation buttons (back/forward) (Desktop) --&gt;
  &lt;meta name="msapplication-navbutton-color" content="#FF3300" /&gt;</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>Obtain the user's current location</h2>
                </section>
                <section>
                    <p>The Geolocation API lets you find out where the user is, always with the user's consent. This functionality could be used as part of user queries, for example, to guide someone to a destination point. It could also be used for 'geo-tagging' some content the user has created, for example, to mark where a photo was taken.</p>

                    <ul>
                        <li>Check for Compatibility before you use the API.</li>
                        <li>Prefer a coarse location over a fine location.</li>
                        <li>Always handle errors.</li>
                        <li>Don't poll for the data too frequently to save the user's battery.</li>
                    </ul>
                </section>
                <section>
                    <p>The API is device-agnostic; it doesn’t care how the browser determines location, so long as clients can request and receive location data in a standard way. The underlying mechanism might be via GPS, wifi, or simply asking the user to enter their location manually. Since any of these lookups is going to take some time, the API is asynchronous; you pass it a callback method whenever you request a location.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="when-to-use-geolocation">When to use Geolocation</h2>
                    <ul>
                        <li>Find where the user is closest to a physical location of yours to tailor the user experience.</li>
                        <li>Tailor information (such as news) to the user’s location.</li>
                        <li>Show the position of a user on a map.</li>
                        <li>Tag data created inside your application with the user’s location (i.e, geo-tagging a picture).</li>
                    </ul>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="check-for-compatibility">Check for Compatibility</h2>
                    <p>The geolocation API is now supported in the majority of browsers, but it is good practice to always check for support before you do anything.</p>
                    <p>You can easily check for compatibility by testing for the presence of the geolocation object:</p><pre><code data-lang="javascript">// check for Geolocation support
if (navigator.geolocation) {
  console.log('Geolocation is supported!');
}
else {
  console.log('Geolocation is not supported for this Browser/OS version yet.');
}</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="determine-the-users-current-location">Determine the User’s Current Location</h2>
                    <p>The geolocation API offers a simple ‘one-shot’ method to obtain the user’s location <code>getCurrentPosition()</code>. A call to this method will asynchronously report on the user’s current location.</p><pre><code data-lang="javascript">window.onload = function() {
  var startPos;
  var geoSuccess = function(position) {
    startPos = position;
    document.getElementById('startLat').innerHTML = startPos.coords.latitude;
    document.getElementById('startLon').innerHTML = startPos.coords.longitude;
  };
  navigator.geolocation.getCurrentPosition(geoSuccess);
};</code></pre>
                </section>
                <section>
                    <p>If this is the first time an application on this domain has requested permissions, the browser will typically check for user consent. Depending on the browser, there may also be preferences to always allow - or disallow - permission lookups, in which case the confirmation process will be bypassed.</p>
                    <p>Depending on the location device your browser is using, the position object might actually contain a lot more than just latitude and longitude, for example, it could include an altitude or a direction. You can’t tell what extra information that location system will use until it actually returns the data.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="testing-geolocation-with-your-site">Testing Geolocation with your site</h2>
                    <p>When working with HTML5 geolocation support in an application, it can be useful to debug the output received when using different values for longitude and latitude.</p>
                    <p>The DevTools support both overriding position values for navigator.geolocation and simulating geolocation not being available via the overrides menu.</p>
                    <p><img src="https://developers.google.com/web/fundamentals/device-access/user-location/images/emulategeolocation.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="always-handle-errors">Always Handle Errors</h2>
                    <p>Unfortunately, not all location lookups are successful. Perhaps a GPS could not be located or the user has suddenly disabled location lookups. A second, optional, argument to <code>getCurrentPosition()</code> will be called in the event of an error, so you can notify the user inside the callback:</p><pre><code data-lang="javascript">window.onload = function() {
  var startPos;
  var geoSuccess = function(position) {
    startPos = position;
    document.getElementById('startLat').innerHTML = startPos.coords.latitude;
    document.getElementById('startLon').innerHTML = startPos.coords.longitude;
  };
  var geoError = function(position) {
    console.log('Error occurred. Error code: ' + error.code);
    // error.code can be:
    //   0: unknown error
    //   1: permission denied
    //   2: position unavailable (error response from location provider)
    //   3: timed out
  };
  navigator.geolocation.getCurrentPosition(geoSuccess, geoError);
};</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="reduce-the-need-to-start-up-geo-location-hardware">Reduce the need to start-up geo location hardware</h2>
                    <p>For many use-cases you don’t need to use the most up to date location of the user, you just need a rough estimate.</p>
                    <p>Use the <code>maximumAge</code> optional property to tell the browser to use a recently obtained geolocation result. This not only returns quicker if the user has requested the data before it also stops the browser from having to start up its geolocation hardware interfaces such as Wifi triangulation or the GPS.</p><pre><code data-lang="javascript">window.onload = function() {
  var startPos;
  var geoOptions = {
    maximumAge: 5 * 60 * 1000,
  }

  var geoSuccess = function(position) {
    startPos = position;
    document.getElementById('startLat').innerHTML = startPos.coords.latitude;
    document.getElementById('startLon').innerHTML = startPos.coords.longitude;
  };
  var geoError = function(position) {
    console.log('Error occurred. Error code: ' + error.code);
    // error.code can be:
    //   0: unknown error
    //   1: permission denied
    //   2: position unavailable (error response from location provider)
    //   3: timed out
  };

  navigator.geolocation.getCurrentPosition(geoSuccess, geoError, geoOptions);
};</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="dont-keep-the-user-waiting-set-a-timeout">Don’t keep the user waiting, set a timeout</h2>
                    <p>Unless you set a timeout, your request to get the current position might never return.</p><pre><code data-lang="javascript">window.onload = function() {
  var startPos;
  var geoOptions = {
     timeout: 10 * 1000
  }

  var geoSuccess = function(position) {
    startPos = position;
    document.getElementById('startLat').innerHTML = startPos.coords.latitude;
    document.getElementById('startLon').innerHTML = startPos.coords.longitude;
  };
  var geoError = function(error) {
    console.log('Error occurred. Error code: ' + error.code);
    // error.code can be:
    //   0: unknown error
    //   1: permission denied
    //   2: position unavailable (error response from location provider)
    //   3: timed out
  };

  navigator.geolocation.getCurrentPosition(geoSuccess, geoError, geoOptions);
};</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="prefer-a-coarse-location-over-a-fine-grained-location">Prefer a coarse location over a fine grained location</h2>
                    <p>If you want to find the nearest store to a user it is unlikely that you need 1 meter precision to work that out. The API is designed to give a coarse location that returns as quickly as possible.</p>
                    <p>If you do need high-precision it is possible to override the default setting with the <code>enableHighAccuracy</code> option. Use this sparingly: it will be slower to resolve and use more battery.</p><pre><code data-lang="javascript">window.onload = function() {
  var startPos;
  var geoOptions = {
    enableHighAccuracy: true
  }

  var geoSuccess = function(position) {
    startPos = position;
    document.getElementById('startLat').innerHTML = startPos.coords.latitude;
    document.getElementById('startLon').innerHTML = startPos.coords.longitude;
  };
  var geoError = function(error) {
    console.log('Error occurred. Error code: ' + error.code);
    // error.code can be:
    //   0: unknown error
    //   1: permission denied
    //   2: position unavailable (error response from location provider)
    //   3: timed out
  };

  navigator.geolocation.getCurrentPosition(geoSuccess, geoError, geoOptions);
};</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>Monitor the user's location</h2>
                    <p>The Geolocation API lets you watch where the user is and keep tabs on them as they move around, always with the user's consent.</p>
                </section>
                <section>
                    <p>The API is device-agnostic; it doesn’t care how the browser determines location, so long as clients can request and receive location data in a standard way. The underlying mechanism might be via GPS, wifi. Since any of these lookups is going to take some time, the API is asynchronous; you pass it a callback method whenever you request a location.</p>

                    <ul>
                        <li>Check for Compatibility before you use the API.</li>
                        <li>Minimize the use of watching the user's location to save battery.</li>
                        <li>Always handle errors.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="when-to-use-geolocation-to-watch-the-users-location">When to use Geolocation to watch the user’s location</h2>
                    <ul>
                        <li>You want to obtain a more precise lock on the user location.</li>
                        <li>Your application needs to update the user interface based on new location information.</li>
                        <li>You applications needs to update business logic when the user enters a certain defined zone.</li>
                    </ul>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="watching-the-users-location">Watching the users location</h2>
                    <p>The Geolocation API allows you to obtain the user’s location (with user consent) with a single call to <code>getCurrentPosition()</code>.</p>
                    <p>If you want to continually monitor the location of the user, the geolocation API has a method called <code>watchPosition()</code>. It operates in a similar way to <code>getCurrentPosition()</code> yet it will fire multiple times as the positioning software:</p><pre><code data-lang="javascript">var watchId = navigator.geolocation.watchPosition(function(position) {
  document.getElementById('currentLat').innerHTML = position.coords.latitude;
  document.getElementById('currentLon').innerHTML = position.coords.longitude;
});</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="always-clear-up-and-conserve-battery">Always clear up and conserve battery</h2>
                    <p>Watching for changes to a geolocation is not a free operation. Whilst operating systems might be introducing platform features to let applications hook in to the geo subsystem, you as a web developer have no idea what support the user’s device has for monitoring the user’s location and whilst you are watching a position you are engaging the device in a lot of extra processing</p>
                    <p>Once you have no need to track the user’s position call <code>clearWatch</code> to turn of the geolocation systems.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="always-handle-errors">Always Handle Errors</h2>
                    <p>Unfortunately, not all location lookups are successful. Perhaps a GPS could not be located or the user has suddenly disabled location lookups. A second, optional, argument to getCurrentPosition() will be called in the event of an error, so you can notify the user inside the callback:</p><pre><code data-lang="javascript">window.onload = function() {
  var startPos;
  var geoSuccess = function(position) {
    startPos = position;
    document.getElementById('startLat').innerHTML = startPos.coords.latitude;
    document.getElementById('startLon').innerHTML = startPos.coords.longitude;
  };
  var geoError = function(position) {
    console.log('Error occurred. Error code: ' + error.code);
    // error.code can be:
    //   0: unknown error
    //   1: permission denied
    //   2: position unavailable (error response from location provider)
    //   3: timed out
  };
  navigator.geolocation.watchPosition(geoSuccess, geoError);
};</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>Getting the user to consent to location sharing</h2>
                    <p>As a web developer, having access to the user's location opens up a huge number of possibilities such as advanced filtering, pinpointing the user on a map, and offering pro-active suggestions on things the user can do based on their current position.</p>
                    <p>As a user, your physical location is a piece of information you want to guard and only give out to people that you trust. This is why the browser shows a prompt when a site asks for your location.</p>
                </section>
                <section>
                    <p>Recent user studies <a href="http://static.googleusercontent.com/media/www.google.com/en/us/intl/ALL_ALL/think/multiscreen/pdf/multi-screen-moblie-whitepaper_research-studies.pdf">have shown</a> that users are distrustful of sites that simply prompt the user to give away their position on page load. So what are the best practices?</p>

                    <ul>
                        <li>Assume users will not give you their location.</li>
                        <li>Make it clear why you need access to the user's location.</li>
                        <li>Don't immediately prompt for access on page load.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="assume-users-will-not-give-you-their-location">Assume users will not give you their location</h2>
                    <p>It might be a pain, but many of your users will not want to give you their location so you need to adopt a defensive development style.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="use-a-fallback-if-geolocation-is-required">Use a fallback if geolocation is required</h2>
                    <p>Our recommendation is to not tie your site or application in to requiring access to the user’s current location, but if your application or site absolutely requires it there are 3rd party solutions that allow you to obtain a best guess of where the person currently is.</p>
                    <p>These solutions often work by looking at the user’s IP address and mapping that to the physical addresses registered with the RIPE database. These locations are often not very accurate normally giving you a position of the nearest telecommunications hub to the user, or the nearest cell phone tower. In many cases, they might not even be that accurate, especially if the user is on VPN or some other proxy service.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="always-request-access-to-location-on-a-user-gesture">Always request access to location on a user gesture</h2>
                    <p>Make sure users understand why you’re asking for their location, and what the benefit to them will be. Asking for it immediately on the homepage as the site loads results in a poor user experience.</p>
                    <p>Instead you should give the user a clear call-to-action or an indication that an operation will require access to their location. The user will then be able to more easily associate the system prompt for access with the action just initiated.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="give-clear-indication-that-an-action-will-request-their-location">Give clear indication that an action will request their location</h2>
                    <p><a href="http://static.googleusercontent.com/media/www.google.com/en/us/intl/ALL_ALL/think/multiscreen/pdf/multi-screen-moblie-whitepaper_research-studies.pdf">In a study by the Google Ads team</a>, when a user was asked to book a hotel room in Boston for an upcoming conference on one particular hotels site, they were prompted to share their GPS location immediately after tapping the ‘Find and Book’ call-to-action on the homepage.</p>
                    <p>In some cases, the user became frustrated because they struggled to understand why they were being shown hotels in San Francisco when they wanted to book a room in Boston.</p>
                    <p>A better experience is to make sure users understands why you’re asking them for location. Add in a well known signifier that is common across devices, such as range finder.</p>
                    <p><img src="https://developers.google.com/web/fundamentals/device-access/user-location/images/indication.png" />
                    </p>
                </section>
                <section>
                    <p>Or consider a very explicit call to action such as “Find Near Me.”</p>
                    <p><img src="https://developers.google.com/web/fundamentals/device-access/user-location/images/nearme.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="gently-nudge-users-to-grant-permission-to-their-location">Gently nudge users to grant permission to their location</h2>
                    <p>You don’t have access to any of the steps of what users are doing. You know exactly when the users disallow access to their location, but you don’t know when they grant you access; you only know you obtained access when results appear.</p>
                    <p>It is good practice to “tickle” the user into action if you need them to complete the action.</p>
                    <p>We recommend:</p><pre><code data-lang="javascript">button.onclick = function() {
  var startPos;
  var element = document.getElementById("nudge");

  var showNudgeBanner = function() {
    nudge.style.display = "block";
  };

  var hideNudgeBanner = function() {
    nudge.style.display = "none";
  };

  var nudgeTimeoutId = setTimeout(showNudgeBanner, 5000);

  var geoSuccess = function(position) {
    hideNudeBanner();
    // We have the location, don't display banner
    clearTimeout(nudgeTimeoutId); 

    // Do magic with location
    startPos = position;
    document.getElementById('startLat').innerHTML = startPos.coords.latitude;
    document.getElementById('startLon').innerHTML = startPos.coords.longitude;
  };
  var geoError = function(error) {
    switch(error.code) {
      case error.TIMEOUT:
        // The user didn't accept the callout
        showNudgeBanner();
        break;
  };

  navigator.geolocation.getCurrentPosition(geoSuccess, geoError);
};</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2>Click to call</h2>
                </section>
                <section>
                    <p>On devices with phone capabilities, make it easy for users to directly connect with you by simply tapping a phone number, more commonly known as click to call.</p>

                    <ul>
                        <li>Wrap all phone numbers in hyperlinks with the <code>tel:</code> schema.</li>
                        <li>Always use the international dialing format.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="link-telephone-numbers-for-click-to-call">Link telephone numbers for click to call</h2>
                    <p>While many modern mobile browsers will automatically detect phone numbers and convert them to links, it’s a good idea to do this directly in your code. By manually tagging each phone number, you can ensure phone numbers are always enabled for click to call and that they will be styled to match your site.</p>
                    <p>To mark a phone number as a link, use the <code>tel:</code> scheme. The syntax is simple:</p><pre><code data-lang="html">NIST Telephone Time-of-Day Service &lt;a href="tel:+1-303-499-7111"&gt;+1 (303) 499-7111&lt;/a&gt;</code></pre>
                </section>
                <section>
                    <p>Results in:</p>
                    <p>NIST Telephone Time-of-Day Service <a href="tel:+1-303-499-7111">+1 (303) 499-7111</a>
                    </p>
                    <p><img alt="Click to call example." src="https://developers.google.com/web/fundamentals/device-access/click-to-call/images/click-to-call_framed.jpg" />
                    </p>
                </section>
                <section>
                    <p>On most devices with telephone capabilities, the user will receive a confirmation before the number is dialed, to ensure users are not being tricked into calling expensive long distance or premium phone numbers. When the device doesn’t support phone calls, users may be presented with a menu allowing them to choose how the browser should handle the number.</p>
                    <p>Desktop browsers that don’t support voice calls will open the default telephony app on the computer, for example Google Voice or Microsoft Communicator.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="use-the-international-dialing-format">Use the international dialing format</h2>
                    <p>Always supply the phone number using the international dialing format: the plus sign (+), country code, area code and number. While not absolutely necessary, it’s a good idea to separate each segment of the number with a hyphen (-) for easier reading and better auto-detection.</p>
                    <p>Using a hyphenated international dialing format ensures that no matter where the user is calling from, whether a few hundred meters away or thousands of kilometers, their call will be connected.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="disable-auto-detection-when-necessary">Disable auto-detection when necessary</h2>
                    <p>Modern mobile browsers will automatically detect phone numbers and enable click to call. Mobile Safari automatically converts phone numbers to links with the associated hyperlink styles. Chrome for Android will automatically detect phone numbers and will allow users to click to call, but does not wrap them in hyperlinks or apply any special styles.</p>
                    <p>To prevent Mobile Safari from automatically detecting phone numbers, add the following meta tag to the top of the page:</p><pre><code data-lang="html">&lt;meta name="format-detection" content="telephone=no"&gt;</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="other-click-to-call-features">Other click to call features</h2>
                    <p>In addition to the <code>tel:</code> schema, some modern browsers also support the <code>sms:</code> and <code>mms:</code> schemas, though support is not as consistent, and some features like setting the message body don’t always work.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Device orientation</h2>
                </section>
                <section>
                    <p>The device orientation event returns rotation data, which includes how much the device is leaning front-to-back, side-to-side and if the phone or laptop has a compass, the direction the device is facing.</p>

                    <ul>
                        <li>Use sparingly.</li>
                        <li>Test for support.</li>
                        <li>Don't update the UI on every orientation event; instead sync to requestAnimationFrame.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="when-to-use-device-orientation-events">When to use device orientation events</h2>
                </section>
                <section>
                    <p>There are several uses for device orientation events. For example:</p>
                    <ul>
                        <li>Update a map as the user moves.</li>
                        <li>Subtle UI tweaks, for example adding paralax effects.</li>
                        <li>Combined with GeoLocation, can be used for turn by turn navigation.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="check-for-support-and-listen-for-events">Check for support and listen for events</h2>
                    <p>To listen for <code>DeviceOrientationEvent</code>, first, check to see if the events are supported in the browser. Then, attach an event listener to the <code>window</code> object listening for <code>deviceorientation</code> events.</p><pre>    if (window.DeviceOrientationEvent) {
      window.addEventListener('deviceorientation', deviceOrientationHandler, false);
      document.getElementById("doeSupported").innerText = "";
    }
    
</pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="handle-the-device-orientation-events">Handle the device orientation events</h2>
                    <p>The device orientation event fires when the device moves, or changes orientation. It returns data about the difference between the device in its current position in relation to the <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/index.html#earth-coordinate-frame">Earth coordinate frame</a>.</p>
                    <p>The event typically returns three properties, <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/index.html#rotation-data"><code>alpha</code></a>, <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/index.html#rotation-data"><code>beta</code></a>, and <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/index.html#rotation-data"><code>gamma</code></a>. On Mobile Safari, and additional parameter <a href="https://developer.apple.com/library/safari/documentation/SafariDOMAdditions/Reference/DeviceOrientationEventClassRef/DeviceOrientationEvent/DeviceOrientationEvent.html"><code>webkitCompassHeading</code></a> is returned with the compass heading.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Device motion</h2>
                </section>
                <section>
                    <p>Device motion provides information about force of acceleration being applied to the device at a given moment, and the rate of rotation.</p>

                    <ul>
                        <li>Use device motion for when the current motion of the device is needed.</li>
                        <li><code>rotationRate</code> is provided in °/sec.</li>
                        <li><code>acceleration</code> and <code>accelerationWithGravity</code> is provided in m/sec<sup>2</sup>.</li>
                        <li>Be aware of differences between browser implementations.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="when-to-use-device-motion-events">When to use device motion events</h2>
                </section>
                <section>
                    <p>There are several uses for device motion events. For example:</p>
                    <ul>
                        <li>Shake gesture to refresh data.</li>
                        <li>In games to cause characters to jump or move.</li>
                        <li>For health and fitness apps</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="check-for-support-and-listen-for-events">Check for support and listen for events</h2>
                    <p>To listen for <code>DeviceMotionEvent</code>s, first, check to see if the events are supported in the browser. Then, attach an event listener to the <code>window</code> object listening for <code>devicemotion</code> events.</p><pre>    if (window.DeviceMotionEvent) {
      window.addEventListener("devicemotion", deviceMotionHandler);
      setTimeout(stopJump, 3*1000);
    }
    
</pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="handle-the-device-motion-events">Handle the device motion events</h2>
                    <p>The device motion event fires on a regular interval and returns data about the rotation (in ° per second) and acceleration (in m per second<sup>2</sup>) of the device, at that moment in time. Some devices do not have the hardware to exclude the effect of gravity.</p>
                    <p>The event returns four properties, <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/index.html#device-frame-coordinate"><code>accelerationIncludingGravity</code></a>, <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/index.html#device-frame-coordinate"><code>acceleration</code></a>, which excludes the effects of gravity, <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/index.html#rotation-data"><code>rotationRate</code></a> and <code>interval</code>.</p>
                    <p>For example, let’s take a look at a phone, lying on a flat table, with its screen facing up.</p>
                    <p>Conversely, if the phone were held so the screen was perpendicular to the ground, and was directly visible to the viewer:</p>
                    <p>One way to use device motion events is to calculate the maximum acceleration of an object. For example, what’s the maximum acceleration of a person jumping.</p><pre>    if (evt.acceleration.x &gt; jumpMax.x) {
      jumpMax.x = evt.acceleration.x;
    }
    if (evt.acceleration.y &gt; jumpMax.y) {
      jumpMax.y = evt.acceleration.y;
    }
    if (evt.acceleration.z &gt; jumpMax.z) {
      jumpMax.z = evt.acceleration.z;
    }
    
</pre>
                </section>
                <section>
                    <p>After tapping the Go! button, the user is told to jump! During that time, the page stores the maximum (and minimum) acceleration values, and after the jump, tells the user their maximum acceleration.</p>hs to chart trends over time.</p>
                    <p>Use the reports below to get started:</p>
                    <p>In addition to performance reports, AdSense can send occasional customized help and performance report suggestions by email. To sign up, verify your email address in <a href="https://www.google.com/adsense/app#personalSettings">Personal settings</a>, and check the <em>Customized help and performance suggestions</em> checkbox under <em>Email preferences</em>.</p>
                    <p>Learn more</p>
                    <p>Learn more about <a href="https://support.google.com/adsense/answer/160562">performance reports</a> in AdSense help.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="maximize-bidding-potential">Maximize bidding potential</h2>
                </section>
                <section>
                    <p>The higher the competition, or ‘auction pressure’, the more the advertiser will pay to be viewed and clicked on your site. To maximize your bidding potential:</p>
                    <ul>
                        <li>Be sure to allow both <a href="https://support.google.com/adsense/answer/185665">text</a> and <a href="https://support.google.com/adsense/answer/185666">display ads</a>. Excluding one type of ads limits the number of advertisers available to you.</li>
                        <li>Use ad sizes that are popular with advertisers, see the <a href="https://support.google.com/adsense/answer/6002621">Guide to ad sizes</a>.</li>
                        <li>In some cases, certain ads may not blend well with your content, be careful about blocking too many categories as it will lower your potential earnings.</li>
                    </ul>
                </section>
                <section>
                    <p><b>Note:</b> this information is also included in the publisher scorecard, but it’s crucial to strong ad performance!</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="dont-block-the-adsense-crawler">Don’t block the AdSense crawler</h2>
                    <p>Verify that the <a href="https://support.google.com/webmasters/answer/6062608">robots.txt</a> file on your site <a href="https://support.google.com/adsense/answer/10532">doesn’t block the AdSense crawler</a>. AdSense needs to be able to process and index the content of web pages and uses the AdSense crawler to visit your site and determine its content. This allows AdSense to provide relevant ads.</p>
                    <p>To update the <code>robots.txt</code> file to grant the AdSense crawler access to your pages, <em>remove</em> the following two lines of text from your <code>robots.txt</code>:</p><pre><code>User-agent: Mediapartners-Google
Disallow: /
</code></pre>
                </section>

            </section>
            <section>
                <h1>Device Access & Integration</h1>
            </section>
            <section>
                <section>
                    <h2>Hide the Browser UI</h2>
                    <p>Your users can add your site to the homescreen even without any special code on your end, but we recommend to have your web app display without the browser UI when launched from the homescreen (effectively going fullscreen).</p>
                    <p>Add the following code to the <code>&lt;head&gt;</code> of your page:</p><pre><code data-lang="html">&lt;meta name="mobile-web-app-capable" content="yes"&gt;
&lt;meta name="apple-mobile-web-app-capable" content="yes"&gt;</code></pre>
                </section>
                <section>
                    <p>This will tell both Mobile Safari and Chrome for Android that they’re dealing with a web app. Internet Explorer doesn’t require instructions for this, as sites open fullscreen in Windows’ start screen experience from the get-go.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/" rel="home" title="Web Fundamentals">Web Fundamentals
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/" title="Device Access &amp; Integration">Device Access &amp; Integration
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/stickyness/" title="Add To Home Screen">Add To Home Screen
        </a> /
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Specify an Icon</h2>
                    <p>To make your site stand out, be sure to provide a beautiful, full size icon, otherwise the favicon or a low quality screenshot may be used.</p>
                    <p>Add the following code to your <code>&lt;head&gt;</code> to add a custom icon to Chrome, Safari and Internet Explorer:</p><pre><code data-lang="html">&lt;!-- icon in the highest resolution we need it for --&gt;
&lt;link rel="icon" sizes="228x228" href="icon.png"&gt;
&lt;!-- reuse same icon for Safari --&gt;
&lt;link rel="apple-touch-icon" href="icon.png"&gt;
&lt;!-- multiple icons for IE --&gt;
&lt;meta name="msapplication-square70x70logo" content="icon\_smalltile.png"&gt;
&lt;meta name="msapplication-square150x150logo" content="icon\_mediumtile.png"&gt;
&lt;meta name="msapplication-wide310x150logo" content="icon\_widetile.png"&gt;
&lt;meta name="msapplication-square310x310logo" content="icon\_largetile.png"&gt;</code></pre>
                </section>
                <section>
                    <p>In this example, Chrome, Safari and Opera use the 228x228px icon, which is scaled to the necessary size by the device. Both Chrome and Safari use the <code>&lt;link&gt;</code> tag and support the <code>sizes</code> attribute, the only difference in syntax is the <code>rel</code> attribute: <code>icon</code> (Chrome) vs. <code>apple-touch-icon</code> (Safari).</p>
                    <p>Windows 8’ new home screen experience supports four different layouts for pinned sites, and requires four icons. You can leave out the relevant meta tags if you don’t want to support a specific size.</p>
                    <p>You can specify <a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/MobileHIG/IconMatrix.html#//apple_ref/doc/uid/TP40006556-CH27">explicit sizes</a> by providing a separate link tag for each icon, preventing the OS from having to resize the icon:</p><pre><code data-lang="html">&lt;link rel="apple-touch-icon" href="touch-icon-iphone.png"&gt;
&lt;link rel="apple-touch-icon" sizes="76x76" href="touch-icon-ipad.png"&gt;
&lt;link rel="apple-touch-icon" sizes="120x120" href="touch-icon-iphone-retina.png"&gt;
&lt;link rel="apple-touch-icon" sizes="152x152" href="touch-icon-ipad-retina.png"&gt;</code></pre>
                </section>
                <section>
                    <p><a href="https://developers.google.com/web/fundamentals/" rel="home" title="Web Fundamentals">Web Fundamentals
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/" title="Device Access &amp; Integration">Device Access &amp; Integration
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/stickyness/" title="Add To Home Screen">Add To Home Screen
        </a> /
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Use a Custom Title</h2>
                    <p>Internet Explorer and Safari allow you to specify a custom title that is used as app name next to or on top of your icon.</p>
                    <p>Add this code to your head <code>&lt;head&gt;</code>:</p><pre><code data-lang="html">&lt;meta name="application-name" content="Web Fundamentals"&gt;
&lt;meta name="apple-mobile-web-app-title" content="Web Fundamentals"&gt;</code></pre>
                </section>
                <section>
                    <p>All three browsers use the default <code>&lt;title&gt;</code> attribute if the additional tags are not around, Chrome does not have a way to specify a custom name different from the title.</p>
                </section>
                <section>
                    <p>Note</p>
                    <ul>
                        <li>This tag is undocumented in Mobile Safari and could be changed and removed at any time.</li>
                    </ul>
                </section>
                <section>
                    <p><a href="https://developers.google.com/web/fundamentals/" rel="home" title="Web Fundamentals">Web Fundamentals
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/" title="Device Access &amp; Integration">Device Access &amp; Integration
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/stickyness/" title="Add To Home Screen">Add To Home Screen
        </a> /
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Additional Customizations</h2>
                    <p>The following are customizations that are very useful, but work only in a subset of browsers. All of them are optional but strongly suggested, as they further enhance the app experience.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="safari-startup-images-status-bar-appearance">Safari: Startup images, status bar appearance</h2>
                    <p>Safari allows you to style the status bar and specify a startup image.</p>
                    <p>By default, Safari shows a blank screen during load time and after multiple loads a screenshot of the previous state of the app. You can prevent this by telling Safari to show an explicit startup image, by adding a link tag, with <code>rel=apple-touch-startup-image</code>. For example:</p><pre><code data-lang="html">&lt;link rel="apple-touch-startup-image" href="icon.png"&gt;</code></pre>
                </section>
                <section>
                    <p>The image has to be in the specific size of the target device’s screen or it won’t be used. Refer to <a href="https://developer.apple.com/library/ios/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html">Safari Web Content Guidelines</a> for further details.</p>
                    <p>While Apple’s documentation is sparse on this topic, the developer community has figured out a way to target all devices by using advanced media queries to select the appropriate device and then specify the correct image. Here’s a working solution, courtesy of <a href="https://gist.github.com/tfausak/2222823">tfausak’s gist</a>:</p><pre><code data-lang="html">&lt;!-- iOS 6 &amp; 7 iPad (retina, portrait) --&gt;
&lt;link href="/static/images/apple-touch-startup-image-1536x2008.png"
     media="(device-width: 768px) and (device-height: 1024px)
        and (orientation: portrait)
        and (-webkit-device-pixel-ratio: 2)"
     rel="apple-touch-startup-image"&gt;

&lt;!-- iOS 6 &amp; 7 iPad (retina, landscape) --&gt;
&lt;link href="/static/images/apple-touch-startup-image-1496x2048.png"
     media="(device-width: 768px) and (device-height: 1024px)
        and (orientation: landscape)
        and (-webkit-device-pixel-ratio: 2)"
     rel="apple-touch-startup-image"&gt;

&lt;!-- iOS 6 iPad (portrait) --&gt;
&lt;link href="/static/images/apple-touch-startup-image-768x1004.png"
     media="(device-width: 768px) and (device-height: 1024px)
        and (orientation: portrait)
        and (-webkit-device-pixel-ratio: 1)"
     rel="apple-touch-startup-image"&gt;

&lt;!-- iOS 6 iPad (landscape) --&gt;
&lt;link href="/static/images/apple-touch-startup-image-748x1024.png"
     media="(device-width: 768px) and (device-height: 1024px)
        and (orientation: landscape)
        and (-webkit-device-pixel-ratio: 1)"
     rel="apple-touch-startup-image"&gt;

&lt;!-- iOS 6 &amp; 7 iPhone 5 --&gt;
&lt;link href="/static/images/apple-touch-startup-image-640x1096.png"
     media="(device-width: 320px) and (device-height: 568px)
        and (-webkit-device-pixel-ratio: 2)"
     rel="apple-touch-startup-image"&gt;

&lt;!-- iOS 6 &amp; 7 iPhone (retina) --&gt;
&lt;link href="/static/images/apple-touch-startup-image-640x920.png"
     media="(device-width: 320px) and (device-height: 480px)
        and (-webkit-device-pixel-ratio: 2)"
     rel="apple-touch-startup-image"&gt;

&lt;!-- iOS 6 iPhone --&gt;
&lt;link href="/static/images/apple-touch-startup-image-320x460.png"
     media="(device-width: 320px) and (device-height: 480px)
        and (-webkit-device-pixel-ratio: 1)"
     rel="apple-touch-startup-image"&gt;</code></pre>
                </section>
                <section>
                    <p>You can change the appearance of the default status bar to either <code>black</code> or <code>black-translucent</code>. With <code>black-translucent</code>, the status bar floats on top of the full screen content, rather than pushing it down. This gives the layout more height, but obstructs the top. Here’s the code required:</p><pre><code data-lang="html">&lt;meta name="apple-mobile-web-app-status-bar-style" content="black"&gt;</code></pre>
                </section>
                <section>
                    <p>And here is a preview of how the different modes look:</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="internet-explorer-live-tiles-notifications-and-pinned-sites">Internet Explorer: Live Tiles, notifications and pinned sites</h2>
                    <p>Microsoft’s “Pinned Sites” and their rotating “Live Tiles” go far beyond other implementations and covering them here would blow up this guide. If you’d like to learn more, <a href="https://msdn.microsoft.com/en-us/library/ie/dn455115(v=vs.85).aspx">learn how to create live tiles at MSDN</a>.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/" rel="home" title="Web Fundamentals">Web Fundamentals
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/" title="Device Access &amp; Integration">Device Access &amp; Integration
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/stickyness/" title="Add To Home Screen">Add To Home Screen
        </a> /
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Detect When Launched From The Home Screen</h2>
                    <p>Sometimes it’s useful to know whether the app is launched from the home screen vs. the web browser.</p>
                    <p>Sometimes it’s useful to know whether the app is launched from the home screen vs. the web browser. To demonstrate one use case, you might want to show a banner suggesting to install the app to the users’ home screen when he arrives from the browser, but hide it once installed.</p>
                    <p>In Mobile Safari, querying <code>window.navigator.standalone</code> will tell you whether your app is running as home screen icon or simply in the browser. In Internet Explorer, you can achieve the same by querying <a href="http://msdn.microsoft.com/en-us/library/ie/gg491733(v=vs.85).aspx"><code>window.external.msIsSiteMode()</code></a>. Here’s a combined check:</p><pre><code data-lang="js">var fromHomescreen = window.navigator.standalone || window.external.msIsSiteMode();
if(!fromHomescreen) {
    // show them a guide on how to install the web app
    ...
}</code></pre>
                </section>
                <section>
                    <p>Unfortunately, it is not possible to detect the same in Chrome for Android.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/" rel="home" title="Web Fundamentals">Web Fundamentals
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/" title="Device Access &amp; Integration">Device Access &amp; Integration
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/stickyness/" title="Add To Home Screen">Add To Home Screen
        </a> /
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Putting It All Together</h2>
                    <p>Let's take all that we discussed and bring it into one big form.</p>
                    <p>Our own <a href="https://developers.google.com/web/starter-kit">Web Starter Kit</a> includes support for the most common options and is great as starting point, but if you are curious as to how a more complete implementation looks like, here’s the portion of the <code>&lt;head&gt;</code> of Web Starter Kit that we expanded with more <code>&lt;meta&gt;</code> tags:</p><pre><code data-lang="html">&lt;!-- hide the browser UI --&gt;
&lt;meta name="mobile-web-app-capable" content="yes"&gt;
&lt;meta name="apple-mobile-web-app-capable" content="yes"&gt;

&lt;!-- set the correct name --&gt;
&lt;meta name="application-name" content="Web Starter Kit" /&gt;
&lt;meta name="apple-mobile-web-app-title" content="Web Starter Kit"&gt;

&lt;!-- Icons --&gt;
  &lt;!-- icon in the highest resolution we need it for --&gt;
  &lt;link rel="icon" sizes="228x228" href="images/touch/icon-228x228.png"&gt;
  &lt;link rel="apple-touch-icon" href="images/touch/icon-228x228.png"&gt;

  &lt;!-- multiple icons for IE11 on Win8 (actual images are 1.8 larger, per MS recommendation) --&gt;
  &lt;meta name="msapplication-square70x70logo" content="images/touch/icon-smalltile-128x128.png"&gt;
  &lt;meta name="msapplication-square150x150logo" content="images/touch/icon-mediumtile-270x270.png"&gt;
  &lt;meta name="msapplication-wide310x150logo" content="images/touch/icon-widetile-558x270.png"&gt;
  &lt;meta name="msapplication-square310x310logo" content="images/touch/icon-largetile-558x558.png"&gt;

  &lt;!-- Tile icon for IE10 on Win8 (144x144 + tile color) --&gt;
  &lt;meta name="msapplication-TileImage" content="images/touch/icon-144x144.png"&gt;
  &lt;meta name="msapplication-TileColor" content="#3372DF"&gt;

&lt;!-- Safari specific --&gt;

  &lt;!-- Status bar style --&gt;
  &lt;meta name="apple-mobile-web-app-status-bar-style" content="black"&gt;

  &lt;!-- Startup Image--&gt;

    &lt;!-- iOS 6 &amp; 7 iPad (retina, portrait) --&gt;
    &lt;link href="images/touch/apple-touch-startup-image-1536x2008.png"
         media="(device-width: 768px) and (device-height: 1024px)
            and (orientation: portrait)
            and (-webkit-device-pixel-ratio: 2)"
         rel="apple-touch-startup-image"&gt;

    &lt;!-- iOS 6 &amp; 7 iPad (retina, landscape) --&gt;
    &lt;link href="images/touch/apple-touch-startup-image-1496x2048.png"
         media="(device-width: 768px) and (device-height: 1024px)
            and (orientation: landscape)
            and (-webkit-device-pixel-ratio: 2)"
         rel="apple-touch-startup-image"&gt;

    &lt;!-- iOS 6 iPad (portrait) --&gt;
    &lt;link href="images/touch/apple-touch-startup-image-768x1004.png"
         media="(device-width: 768px) and (device-height: 1024px)
            and (orientation: portrait)
            and (-webkit-device-pixel-ratio: 1)"
         rel="apple-touch-startup-image"&gt;

    &lt;!-- iOS 6 iPad (landscape) --&gt;
    &lt;link href="images/touch/apple-touch-startup-image-748x1024.png"
         media="(device-width: 768px) and (device-height: 1024px)
            and (orientation: landscape)
            and (-webkit-device-pixel-ratio: 1)"
         rel="apple-touch-startup-image"&gt;

    &lt;!-- iOS 6 &amp; 7 iPhone 5 --&gt;
    &lt;link href="images/touch/apple-touch-startup-image-640x1096.png"
         media="(device-width: 320px) and (device-height: 568px)
            and (-webkit-device-pixel-ratio: 2)"
         rel="apple-touch-startup-image"&gt;

    &lt;!-- iOS 6 &amp; 7 iPhone (retina) --&gt;
    &lt;link href="images/touch//apple-touch-startup-image-640x920.png"
         media="(device-width: 320px) and (device-height: 480px)
            and (-webkit-device-pixel-ratio: 2)"
         rel="apple-touch-startup-image"&gt;

    &lt;!-- iOS 6 iPhone --&gt;
    &lt;link href="images/touch/apple-touch-startup-image-320x460.png"
         media="(device-width: 320px) and (device-height: 480px)
            and (-webkit-device-pixel-ratio: 1)"
         rel="apple-touch-startup-image"&gt;

&lt;!-- MS specific --&gt;

  &lt;!-- Tooltip (Desktop) --&gt;
  &lt;meta name="msapplication-tooltip" content="Start the Web Starter Kit app"&gt;

  &lt;!-- Start url when pinned (Desktop) --&gt;
  &lt;meta name="msapplication-starturl" content="./"&gt;

  &lt;!-- Color of navigation buttons (back/forward) (Desktop) --&gt;
  &lt;meta name="msapplication-navbutton-color" content="#FF3300" /&gt;</code></pre>
                </section>
                <section>
                    <p><a href="https://developers.google.com/web/fundamentals/" rel="home" title="Web Fundamentals">Web Fundamentals
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/" title="Device Access &amp; Integration">Device Access &amp; Integration
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/user-location/" title="User Location">User Location
        </a> /
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Obtain the user's current location</h2>
                </section>
                <section>
                    <p>The Geolocation API lets you find out where the user is, always with the user's consent. This functionality could be used as part of user queries, for example, to guide someone to a destination point. It could also be used for 'geo-tagging' some content the user has created, for example, to mark where a photo was taken.</p>

                    <ul>
                        <li>Check for Compatibility before you use the API.</li>
                        <li>Prefer a coarse location over a fine location.</li>
                        <li>Always handle errors.</li>
                        <li>Don't poll for the data too frequently to save the user's battery.</li>
                    </ul>
                </section>
                <section>
                    <p>The API is device-agnostic; it doesn’t care how the browser determines location, so long as clients can request and receive location data in a standard way. The underlying mechanism might be via GPS, wifi, or simply asking the user to enter their location manually. Since any of these lookups is going to take some time, the API is asynchronous; you pass it a callback method whenever you request a location.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="when-to-use-geolocation">When to use Geolocation</h2>
                    <ul>
                        <li>Find where the user is closest to a physical location of yours to tailor the user experience.</li>
                        <li>Tailor information (such as news) to the user’s location.</li>
                        <li>Show the position of a user on a map.</li>
                        <li>Tag data created inside your application with the user’s location (i.e, geo-tagging a picture).</li>
                    </ul>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="check-for-compatibility">Check for Compatibility</h2>
                    <p>The geolocation API is now supported in the majority of browsers, but it is good practice to always check for support before you do anything.</p>
                    <p>You can easily check for compatibility by testing for the presence of the geolocation object:</p><pre><code data-lang="javascript">// check for Geolocation support
if (navigator.geolocation) {
  console.log('Geolocation is supported!');
}
else {
  console.log('Geolocation is not supported for this Browser/OS version yet.');
}</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="determine-the-users-current-location">Determine the User’s Current Location</h2>
                    <p>The geolocation API offers a simple ‘one-shot’ method to obtain the user’s location <code>getCurrentPosition()</code>. A call to this method will asynchronously report on the user’s current location.</p><pre><code data-lang="javascript">window.onload = function() {
  var startPos;
  var geoSuccess = function(position) {
    startPos = position;
    document.getElementById('startLat').innerHTML = startPos.coords.latitude;
    document.getElementById('startLon').innerHTML = startPos.coords.longitude;
  };
  navigator.geolocation.getCurrentPosition(geoSuccess);
};</code></pre>
                </section>
                <section>
                    <p>If this is the first time an application on this domain has requested permissions, the browser will typically check for user consent. Depending on the browser, there may also be preferences to always allow - or disallow - permission lookups, in which case the confirmation process will be bypassed.</p>
                    <p>Depending on the location device your browser is using, the position object might actually contain a lot more than just latitude and longitude, for example, it could include an altitude or a direction. You can’t tell what extra information that location system will use until it actually returns the data.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="testing-geolocation-with-your-site">Testing Geolocation with your site</h2>
                    <p>When working with HTML5 geolocation support in an application, it can be useful to debug the output received when using different values for longitude and latitude.</p>
                    <p>The DevTools support both overriding position values for navigator.geolocation and simulating geolocation not being available via the overrides menu.</p>
                    <p><img src="https://developers.google.com/web/fundamentals/device-access/user-location/images/emulategeolocation.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="always-handle-errors">Always Handle Errors</h2>
                    <p>Unfortunately, not all location lookups are successful. Perhaps a GPS could not be located or the user has suddenly disabled location lookups. A second, optional, argument to <code>getCurrentPosition()</code> will be called in the event of an error, so you can notify the user inside the callback:</p><pre><code data-lang="javascript">window.onload = function() {
  var startPos;
  var geoSuccess = function(position) {
    startPos = position;
    document.getElementById('startLat').innerHTML = startPos.coords.latitude;
    document.getElementById('startLon').innerHTML = startPos.coords.longitude;
  };
  var geoError = function(position) {
    console.log('Error occurred. Error code: ' + error.code);
    // error.code can be:
    //   0: unknown error
    //   1: permission denied
    //   2: position unavailable (error response from location provider)
    //   3: timed out
  };
  navigator.geolocation.getCurrentPosition(geoSuccess, geoError);
};</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="reduce-the-need-to-start-up-geo-location-hardware">Reduce the need to start-up geo location hardware</h2>
                    <p>For many use-cases you don’t need to use the most up to date location of the user, you just need a rough estimate.</p>
                    <p>Use the <code>maximumAge</code> optional property to tell the browser to use a recently obtained geolocation result. This not only returns quicker if the user has requested the data before it also stops the browser from having to start up its geolocation hardware interfaces such as Wifi triangulation or the GPS.</p><pre><code data-lang="javascript">window.onload = function() {
  var startPos;
  var geoOptions = {
    maximumAge: 5 * 60 * 1000,
  }

  var geoSuccess = function(position) {
    startPos = position;
    document.getElementById('startLat').innerHTML = startPos.coords.latitude;
    document.getElementById('startLon').innerHTML = startPos.coords.longitude;
  };
  var geoError = function(position) {
    console.log('Error occurred. Error code: ' + error.code);
    // error.code can be:
    //   0: unknown error
    //   1: permission denied
    //   2: position unavailable (error response from location provider)
    //   3: timed out
  };

  navigator.geolocation.getCurrentPosition(geoSuccess, geoError, geoOptions);
};</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="dont-keep-the-user-waiting-set-a-timeout">Don’t keep the user waiting, set a timeout</h2>
                    <p>Unless you set a timeout, your request to get the current position might never return.</p><pre><code data-lang="javascript">window.onload = function() {
  var startPos;
  var geoOptions = {
     timeout: 10 * 1000
  }

  var geoSuccess = function(position) {
    startPos = position;
    document.getElementById('startLat').innerHTML = startPos.coords.latitude;
    document.getElementById('startLon').innerHTML = startPos.coords.longitude;
  };
  var geoError = function(error) {
    console.log('Error occurred. Error code: ' + error.code);
    // error.code can be:
    //   0: unknown error
    //   1: permission denied
    //   2: position unavailable (error response from location provider)
    //   3: timed out
  };

  navigator.geolocation.getCurrentPosition(geoSuccess, geoError, geoOptions);
};</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="prefer-a-coarse-location-over-a-fine-grained-location">Prefer a coarse location over a fine grained location</h2>
                    <p>If you want to find the nearest store to a user it is unlikely that you need 1 meter precision to work that out. The API is designed to give a coarse location that returns as quickly as possible.</p>
                    <p>If you do need high-precision it is possible to override the default setting with the <code>enableHighAccuracy</code> option. Use this sparingly: it will be slower to resolve and use more battery.</p><pre><code data-lang="javascript">window.onload = function() {
  var startPos;
  var geoOptions = {
    enableHighAccuracy: true
  }

  var geoSuccess = function(position) {
    startPos = position;
    document.getElementById('startLat').innerHTML = startPos.coords.latitude;
    document.getElementById('startLon').innerHTML = startPos.coords.longitude;
  };
  var geoError = function(error) {
    console.log('Error occurred. Error code: ' + error.code);
    // error.code can be:
    //   0: unknown error
    //   1: permission denied
    //   2: position unavailable (error response from location provider)
    //   3: timed out
  };

  navigator.geolocation.getCurrentPosition(geoSuccess, geoError, geoOptions);
};</code></pre>
                </section>
                <section>
                    <p><a href="https://developers.google.com/web/fundamentals/" rel="home" title="Web Fundamentals">Web Fundamentals
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/" title="Device Access &amp; Integration">Device Access &amp; Integration
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/user-location/" title="User Location">User Location
        </a> /
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Monitor the user's location</h2>
                    <p>The Geolocation API lets you watch where the user is and keep tabs on them as they move around, always with the user's consent.</p>
                </section>
                <section>
                    <p>The API is device-agnostic; it doesn’t care how the browser determines location, so long as clients can request and receive location data in a standard way. The underlying mechanism might be via GPS, wifi. Since any of these lookups is going to take some time, the API is asynchronous; you pass it a callback method whenever you request a location.</p>

                    <ul>
                        <li>Check for Compatibility before you use the API.</li>
                        <li>Minimize the use of watching the user's location to save battery.</li>
                        <li>Always handle errors.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="when-to-use-geolocation-to-watch-the-users-location">When to use Geolocation to watch the user’s location</h2>
                    <ul>
                        <li>You want to obtain a more precise lock on the user location.</li>
                        <li>Your application needs to update the user interface based on new location information.</li>
                        <li>You applications needs to update business logic when the user enters a certain defined zone.</li>
                    </ul>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="watching-the-users-location">Watching the users location</h2>
                    <p>The Geolocation API allows you to obtain the user’s location (with user consent) with a single call to <code>getCurrentPosition()</code>.</p>
                    <p>If you want to continually monitor the location of the user, the geolocation API has a method called <code>watchPosition()</code>. It operates in a similar way to <code>getCurrentPosition()</code> yet it will fire multiple times as the positioning software:</p><pre><code data-lang="javascript">var watchId = navigator.geolocation.watchPosition(function(position) {
  document.getElementById('currentLat').innerHTML = position.coords.latitude;
  document.getElementById('currentLon').innerHTML = position.coords.longitude;
});</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="always-clear-up-and-conserve-battery">Always clear up and conserve battery</h2>
                    <p>Watching for changes to a geolocation is not a free operation. Whilst operating systems might be introducing platform features to let applications hook in to the geo subsystem, you as a web developer have no idea what support the user’s device has for monitoring the user’s location and whilst you are watching a position you are engaging the device in a lot of extra processing</p>
                    <p>Once you have no need to track the user’s position call <code>clearWatch</code> to turn of the geolocation systems.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="always-handle-errors">Always Handle Errors</h2>
                    <p>Unfortunately, not all location lookups are successful. Perhaps a GPS could not be located or the user has suddenly disabled location lookups. A second, optional, argument to getCurrentPosition() will be called in the event of an error, so you can notify the user inside the callback:</p><pre><code data-lang="javascript">window.onload = function() {
  var startPos;
  var geoSuccess = function(position) {
    startPos = position;
    document.getElementById('startLat').innerHTML = startPos.coords.latitude;
    document.getElementById('startLon').innerHTML = startPos.coords.longitude;
  };
  var geoError = function(position) {
    console.log('Error occurred. Error code: ' + error.code);
    // error.code can be:
    //   0: unknown error
    //   1: permission denied
    //   2: position unavailable (error response from location provider)
    //   3: timed out
  };
  navigator.geolocation.watchPosition(geoSuccess, geoError);
};</code></pre>
                </section>
                <section>
                    <p><a href="https://developers.google.com/web/fundamentals/" rel="home" title="Web Fundamentals">Web Fundamentals
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/" title="Device Access &amp; Integration">Device Access &amp; Integration
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/user-location/" title="User Location">User Location
        </a> /
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Getting the user to consent to location sharing</h2>
                    <p>As a web developer, having access to the user's location opens up a huge number of possibilities such as advanced filtering, pinpointing the user on a map, and offering pro-active suggestions on things the user can do based on their current position.</p>
                    <p>As a user, your physical location is a piece of information you want to guard and only give out to people that you trust. This is why the browser shows a prompt when a site asks for your location.</p>
                </section>
                <section>
                    <p>Recent user studies <a href="http://static.googleusercontent.com/media/www.google.com/en/us/intl/ALL_ALL/think/multiscreen/pdf/multi-screen-moblie-whitepaper_research-studies.pdf">have shown</a> that users are distrustful of sites that simply prompt the user to give away their position on page load. So what are the best practices?</p>

                    <ul>
                        <li>Assume users will not give you their location.</li>
                        <li>Make it clear why you need access to the user's location.</li>
                        <li>Don't immediately prompt for access on page load.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="assume-users-will-not-give-you-their-location">Assume users will not give you their location</h2>
                    <p>It might be a pain, but many of your users will not want to give you their location so you need to adopt a defensive development style.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="use-a-fallback-if-geolocation-is-required">Use a fallback if geolocation is required</h2>
                    <p>Our recommendation is to not tie your site or application in to requiring access to the user’s current location, but if your application or site absolutely requires it there are 3rd party solutions that allow you to obtain a best guess of where the person currently is.</p>
                    <p>These solutions often work by looking at the user’s IP address and mapping that to the physical addresses registered with the RIPE database. These locations are often not very accurate normally giving you a position of the nearest telecommunications hub to the user, or the nearest cell phone tower. In many cases, they might not even be that accurate, especially if the user is on VPN or some other proxy service.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="always-request-access-to-location-on-a-user-gesture">Always request access to location on a user gesture</h2>
                    <p>Make sure users understand why you’re asking for their location, and what the benefit to them will be. Asking for it immediately on the homepage as the site loads results in a poor user experience.</p>
                    <p>Instead you should give the user a clear call-to-action or an indication that an operation will require access to their location. The user will then be able to more easily associate the system prompt for access with the action just initiated.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="give-clear-indication-that-an-action-will-request-their-location">Give clear indication that an action will request their location</h2>
                    <p><a href="http://static.googleusercontent.com/media/www.google.com/en/us/intl/ALL_ALL/think/multiscreen/pdf/multi-screen-moblie-whitepaper_research-studies.pdf">In a study by the Google Ads team</a>, when a user was asked to book a hotel room in Boston for an upcoming conference on one particular hotels site, they were prompted to share their GPS location immediately after tapping the ‘Find and Book’ call-to-action on the homepage.</p>
                    <p>In some cases, the user became frustrated because they struggled to understand why they were being shown hotels in San Francisco when they wanted to book a room in Boston.</p>
                    <p>A better experience is to make sure users understands why you’re asking them for location. Add in a well known signifier that is common across devices, such as range finder.</p>
                    <p><img src="https://developers.google.com/web/fundamentals/device-access/user-location/images/indication.png" />
                    </p>
                </section>
                <section>
                    <p>Or consider a very explicit call to action such as “Find Near Me.”</p>
                    <p><img src="https://developers.google.com/web/fundamentals/device-access/user-location/images/nearme.png" />
                    </p>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="gently-nudge-users-to-grant-permission-to-their-location">Gently nudge users to grant permission to their location</h2>
                    <p>You don’t have access to any of the steps of what users are doing. You know exactly when the users disallow access to their location, but you don’t know when they grant you access; you only know you obtained access when results appear.</p>
                    <p>It is good practice to “tickle” the user into action if you need them to complete the action.</p>
                    <p>We recommend:</p><pre><code data-lang="javascript">button.onclick = function() {
  var startPos;
  var element = document.getElementById("nudge");

  var showNudgeBanner = function() {
    nudge.style.display = "block";
  };

  var hideNudgeBanner = function() {
    nudge.style.display = "none";
  };

  var nudgeTimeoutId = setTimeout(showNudgeBanner, 5000);

  var geoSuccess = function(position) {
    hideNudeBanner();
    // We have the location, don't display banner
    clearTimeout(nudgeTimeoutId); 

    // Do magic with location
    startPos = position;
    document.getElementById('startLat').innerHTML = startPos.coords.latitude;
    document.getElementById('startLon').innerHTML = startPos.coords.longitude;
  };
  var geoError = function(error) {
    switch(error.code) {
      case error.TIMEOUT:
        // The user didn't accept the callout
        showNudgeBanner();
        break;
  };

  navigator.geolocation.getCurrentPosition(geoSuccess, geoError);
};</code></pre>
                </section>
                <section>
                    <p><a href="https://developers.google.com/web/fundamentals/" rel="home" title="Web Fundamentals">Web Fundamentals
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/" title="Device Access &amp; Integration">Device Access &amp; Integration
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/click-to-call/" title="Click to Call">Click to Call
        </a> /
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Click to call</h2>
                </section>
                <section>
                    <p>On devices with phone capabilities, make it easy for users to directly connect with you by simply tapping a phone number, more commonly known as click to call.</p>

                    <ul>
                        <li>Wrap all phone numbers in hyperlinks with the <code>tel:</code> schema.</li>
                        <li>Always use the international dialing format.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="link-telephone-numbers-for-click-to-call">Link telephone numbers for click to call</h2>
                    <p>While many modern mobile browsers will automatically detect phone numbers and convert them to links, it’s a good idea to do this directly in your code. By manually tagging each phone number, you can ensure phone numbers are always enabled for click to call and that they will be styled to match your site.</p>
                    <p>To mark a phone number as a link, use the <code>tel:</code> scheme. The syntax is simple:</p><pre><code data-lang="html">NIST Telephone Time-of-Day Service &lt;a href="tel:+1-303-499-7111"&gt;+1 (303) 499-7111&lt;/a&gt;</code></pre>
                </section>
                <section>
                    <p>Results in:</p>
                    <p>NIST Telephone Time-of-Day Service <a href="tel:+1-303-499-7111">+1 (303) 499-7111</a>
                    </p>
                    <p><img alt="Click to call example." src="https://developers.google.com/web/fundamentals/device-access/click-to-call/images/click-to-call_framed.jpg" />
                    </p>
                </section>
                <section>
                    <p>On most devices with telephone capabilities, the user will receive a confirmation before the number is dialed, to ensure users are not being tricked into calling expensive long distance or premium phone numbers. When the device doesn’t support phone calls, users may be presented with a menu allowing them to choose how the browser should handle the number.</p>
                    <p>Desktop browsers that don’t support voice calls will open the default telephony app on the computer, for example Google Voice or Microsoft Communicator.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="use-the-international-dialing-format">Use the international dialing format</h2>
                    <p>Always supply the phone number using the international dialing format: the plus sign (+), country code, area code and number. While not absolutely necessary, it’s a good idea to separate each segment of the number with a hyphen (-) for easier reading and better auto-detection.</p>
                    <p>Using a hyphenated international dialing format ensures that no matter where the user is calling from, whether a few hundred meters away or thousands of kilometers, their call will be connected.</p>
                </section>
            </section>
            <section>
                <section>
                    <h2 id="disable-auto-detection-when-necessary">Disable auto-detection when necessary</h2>
                    <p>Modern mobile browsers will automatically detect phone numbers and enable click to call. Mobile Safari automatically converts phone numbers to links with the associated hyperlink styles. Chrome for Android will automatically detect phone numbers and will allow users to click to call, but does not wrap them in hyperlinks or apply any special styles.</p>
                    <p>To prevent Mobile Safari from automatically detecting phone numbers, add the following meta tag to the top of the page:</p><pre><code data-lang="html">&lt;meta name="format-detection" content="telephone=no"&gt;</code></pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="other-click-to-call-features">Other click to call features</h2>
                    <p>In addition to the <code>tel:</code> schema, some modern browsers also support the <code>sms:</code> and <code>mms:</code> schemas, though support is not as consistent, and some features like setting the message body don’t always work.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/" rel="home" title="Web Fundamentals">Web Fundamentals
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/" title="Device Access &amp; Integration">Device Access &amp; Integration
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/" title="Device Orientation">Device Orientation
        </a> /
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Device orientation</h2>
                </section>
                <section>
                    <p>The device orientation event returns rotation data, which includes how much the device is leaning front-to-back, side-to-side and if the phone or laptop has a compass, the direction the device is facing.</p>

                    <ul>
                        <li>Use sparingly.</li>
                        <li>Test for support.</li>
                        <li>Don't update the UI on every orientation event; instead sync to requestAnimationFrame.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="when-to-use-device-orientation-events">When to use device orientation events</h2>
                </section>
                <section>
                    <p>There are several uses for device orientation events. For example:</p>
                    <ul>
                        <li>Update a map as the user moves.</li>
                        <li>Subtle UI tweaks, for example adding paralax effects.</li>
                        <li>Combined with GeoLocation, can be used for turn by turn navigation.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="check-for-support-and-listen-for-events">Check for support and listen for events</h2>
                    <p>To listen for <code>DeviceOrientationEvent</code>, first, check to see if the events are supported in the browser. Then, attach an event listener to the <code>window</code> object listening for <code>deviceorientation</code> events.</p><pre>    if (window.DeviceOrientationEvent) {
      window.addEventListener('deviceorientation', deviceOrientationHandler, false);
      document.getElementById("doeSupported").innerText = "";
    }
    
</pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="handle-the-device-orientation-events">Handle the device orientation events</h2>
                    <p>The device orientation event fires when the device moves, or changes orientation. It returns data about the difference between the device in its current position in relation to the <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/index.html#earth-coordinate-frame">Earth coordinate frame</a>.</p>
                    <p>The event typically returns three properties, <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/index.html#rotation-data"><code>alpha</code></a>, <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/index.html#rotation-data"><code>beta</code></a>, and <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/index.html#rotation-data"><code>gamma</code></a>. On Mobile Safari, and additional parameter <a href="https://developer.apple.com/library/safari/documentation/SafariDOMAdditions/Reference/DeviceOrientationEventClassRef/DeviceOrientationEvent/DeviceOrientationEvent.html"><code>webkitCompassHeading</code></a> is returned with the compass heading.</p>
                    <p><a href="https://developers.google.com/web/fundamentals/" rel="home" title="Web Fundamentals">Web Fundamentals
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/" title="Device Access &amp; Integration">Device Access &amp; Integration
        </a> / <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/" title="Device Orientation">Device Orientation
        </a> /
                    </p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Device motion</h2>
                </section>
                <section>
                    <p>Device motion provides information about force of acceleration being applied to the device at a given moment, and the rate of rotation.</p>

                    <ul>
                        <li>Use device motion for when the current motion of the device is needed.</li>
                        <li><code>rotationRate</code> is provided in °/sec.</li>
                        <li><code>acceleration</code> and <code>accelerationWithGravity</code> is provided in m/sec<sup>2</sup>.</li>
                        <li>Be aware of differences between browser implementations.</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="when-to-use-device-motion-events">When to use device motion events</h2>
                </section>
                <section>
                    <p>There are several uses for device motion events. For example:</p>
                    <ul>
                        <li>Shake gesture to refresh data.</li>
                        <li>In games to cause characters to jump or move.</li>
                        <li>For health and fitness apps</li>
                    </ul>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="check-for-support-and-listen-for-events">Check for support and listen for events</h2>
                    <p>To listen for <code>DeviceMotionEvent</code>s, first, check to see if the events are supported in the browser. Then, attach an event listener to the <code>window</code> object listening for <code>devicemotion</code> events.</p><pre>    if (window.DeviceMotionEvent) {
      window.addEventListener("devicemotion", deviceMotionHandler);
      setTimeout(stopJump, 3*1000);
    }
    
</pre>
                </section>

            </section>
            <section>
                <section>
                    <h2 id="handle-the-device-motion-events">Handle the device motion events</h2>
                    <p>The device motion event fires on a regular interval and returns data about the rotation (in ° per second) and acceleration (in m per second<sup>2</sup>) of the device, at that moment in time. Some devices do not have the hardware to exclude the effect of gravity.</p>
                    <p>The event returns four properties, <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/index.html#device-frame-coordinate"><code>accelerationIncludingGravity</code></a>, <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/index.html#device-frame-coordinate"><code>acceleration</code></a>, which excludes the effects of gravity, <a href="https://developers.google.com/web/fundamentals/device-access/device-orientation/index.html#rotation-data"><code>rotationRate</code></a> and <code>interval</code>.</p>
                    <p>For example, let’s take a look at a phone, lying on a flat table, with its screen facing up.</p>
                    <p>Conversely, if the phone were held so the screen was perpendicular to the ground, and was directly visible to the viewer:</p>
                    <p>One way to use device motion events is to calculate the maximum acceleration of an object. For example, what’s the maximum acceleration of a person jumping.</p><pre>    if (evt.acceleration.x &gt; jumpMax.x) {
      jumpMax.x = evt.acceleration.x;
    }
    if (evt.acceleration.y &gt; jumpMax.y) {
      jumpMax.y = evt.acceleration.y;
    }
    if (evt.acceleration.z &gt; jumpMax.z) {
      jumpMax.z = evt.acceleration.z;
    }
    
</pre>
                </section>
                <section>
                    <p>After tapping the Go! button, the user is told to jump! During that time, the page stores the maximum (and minimum) acceleration values, and after the jump, tells the user their maximum acceleration.</p>
                </section>
            </section>


            <section>
                <h1>THE END</h1>
                <h3>BY Aaron Zhang / browserwork.com</h3>
            </section>

        </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>
    // Full list of configuration options available here:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Parallax scrolling
        // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
        // parallaxBackgroundSize: '2100px 900px',

        // Optional libraries used to extend on reveal.js
        dependencies: [{
            src: 'lib/js/classList.js',
            condition: function() {
                return !document.body.classList;
            }
        }, {
            src: 'plugin/markdown/marked.js',
            condition: function() {
                return !!document.querySelector('[data-markdown]');
            }
        }, {
            src: 'plugin/markdown/markdown.js',
            condition: function() {
                return !!document.querySelector('[data-markdown]');
            }
        }, {
            src: 'plugin/highlight/highlight.js',
            async: true,
            callback: function() {
                hljs.initHighlightingOnLoad();
            }
        }, {
            src: 'plugin/zoom-js/zoom.js',
            async: true,
            condition: function() {
                return !!document.body.classList;
            }
        }, {
            src: 'plugin/notes/notes.js',
            async: true,
            condition: function() {
                return !!document.body.classList;
            }
        }]
    });
    </script>

</body>

</html>
